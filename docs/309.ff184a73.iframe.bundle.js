"use strict";(self.webpackChunkledfx=self.webpackChunkledfx||[]).push([[309],{"./src/api/ledfx.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>Ledfx});var axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/axios/lib/axios.js"),immer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/immer/dist/immer.mjs"),is_electron__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/is-electron/index.js"),is_electron__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(is_electron__WEBPACK_IMPORTED_MODULE_0__),_store_useStore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/store/useStore.ts");const baseURL=is_electron__WEBPACK_IMPORTED_MODULE_0___default()()?"http://localhost:8888":window.location.href.split("/#")[0].replace(/\/+$/,"")||"http://localhost:8888",storedURL=window.localStorage.getItem("ledfx-host"),api=axios__WEBPACK_IMPORTED_MODULE_2__.Z.create({baseURL:storedURL||baseURL}),Ledfx=async(path,method,body)=>{const{setState}=_store_useStore__WEBPACK_IMPORTED_MODULE_1__.default;try{let response=null;switch(method){case"PUT":response=await api.put(path,body);break;case"DELETE":response=await api.delete(path,body);break;case"POST":response=await api.post(path,body);break;default:response=await api.get(path)}return response.data&&response.data.payload&&(setState((0,immer__WEBPACK_IMPORTED_MODULE_3__.Uy)((state=>{state.ui.snackbar={isOpen:!0,messageType:response.data.payload.type||"error",message:response.data.payload.reason||response.data.payload.message||JSON.stringify(response.data.payload)}}))),response.data.status)?response.data.status:(response.payload&&setState((0,immer__WEBPACK_IMPORTED_MODULE_3__.Uy)((state=>{state.ui.snackbar={isOpen:!0,messageType:response.payload.type||"error",message:response.payload.reason||response.payload.message||JSON.stringify(response.payload)}}))),200===response.status?(setState((0,immer__WEBPACK_IMPORTED_MODULE_3__.Uy)((state=>{state.disconnected=!1}))),response.data||response):setState((0,immer__WEBPACK_IMPORTED_MODULE_3__.Uy)((state=>{state.ui.snackbar={isOpen:!0,messageType:"error",message:response.error||JSON.stringify(response)}}))))}catch(error){if(error.message)return setState((0,immer__WEBPACK_IMPORTED_MODULE_3__.Uy)((state=>{state.ui.snackbar={isOpen:!0,messageType:"error",message:JSON.stringify(error.message)}})));setState((0,immer__WEBPACK_IMPORTED_MODULE_3__.Uy)((state=>{state.ui.snackbar={isOpen:!0,messageType:"error",message:JSON.stringify(error,null,2)}})))}return!0}},"./src/store/useStore.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{default:()=>store_useStore});var esm=__webpack_require__("./node_modules/zustand/esm/index.mjs"),middleware=__webpack_require__("./node_modules/zustand/esm/middleware.mjs"),immer=__webpack_require__("./node_modules/immer/dist/immer.mjs"),is_electron=__webpack_require__("./node_modules/is-electron/index.js"),is_electron_default=__webpack_require__.n(is_electron);const storeGeneral=set=>({host:is_electron_default()()?"http://localhost:8888":window.location.href.split("#")[0],setHost:host=>(window.localStorage.setItem("ledfx-host",host.title?host.title:host),set((0,immer.Uy)((state=>{state.host=host})),!1,"general/host")),platform:"yz",setPlatform:platform=>set((0,immer.Uy)((state=>{state.platform=platform})),!1,"general/setPlatform"),protoCall:"",setProtoCall:msg=>set((0,immer.Uy)((state=>{state.protoCall=msg})),!1,"general/setPlatform"),disconnected:!1,setDisconnected:dis=>set((0,immer.Uy)((state=>{state.disconnected=dis})),!1,"general/setStreamingToDevices"),streamingToDevices:[],setStreamingToDevices:devices=>{set((0,immer.Uy)((state=>{state.streamingToDevices=devices})),!1,"general/setStreamingToDevices")},showActiveDevicesFirst:!0,setShowActiveDevicesFirst:val=>{set((0,immer.Uy)((state=>{state.showActiveDevicesFirst=val})),!1,"general/setShowActiveDevicesFirst")},graphs:!0,toggleGraphs:()=>{set((0,immer.Uy)((state=>{state.graphs=!state.graphs})),!1,"general/toggleGraphs")},graphsMulti:!1,toggleGraphsMulti:()=>{set((0,immer.Uy)((state=>{state.graphsMulti=!state.graphsMulti})),!1,"general/toggleGraphsMulti")},showMatrix:!1,toggleShowMatrix:()=>{set((0,immer.Uy)((state=>{state.showMatrix=!state.showMatrix})),!1,"general/toggleShowMatrix")},pixelGraphs:[],setPixelGraphs:virtuals=>set((0,immer.Uy)((state=>{state.pixelGraphs=[...virtuals]})),!1,"ui/setPixelGraphs"),viewMode:"user",setViewMode:mode=>set((0,immer.Uy)((state=>{state.viewMode=mode})),!1,"ui/setViewMode"),isLogged:!1,setIsLogged:logged=>set((0,immer.Uy)((state=>{state.isLogged=logged})),!1,"general/setIsLogged"),intro:!0,setIntro:intro=>set((0,immer.Uy)((state=>{state.intro=intro})),!1,"general/setIsLogged")}),ui_storeGeneral=storeGeneral;try{storeGeneral.displayName="storeGeneral",storeGeneral.__docgenInfo={description:"",displayName:"storeGeneral",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeGeneral.tsx#storeGeneral"]={docgenInfo:storeGeneral.__docgenInfo,name:"storeGeneral",path:"src/store/ui/storeGeneral.tsx#storeGeneral"})}catch(__react_docgen_typescript_loader_error){}const storeFeatures=set=>({features:{dev:!1,cloud:!1,wled:!1,integrations:!1,spotify:!1,spotifypro:!1,youtube:!1,webaudio:!1,waves:!1,streamto:!1,effectfilter:!1,transitions:!1,frequencies:!1,go:!1,dashboard:!1,dashboardDetailed:!1,scenetables:!1,scenechips:!1,sceneexternal:!1,scenemidi:!1,beta:!1,alpha:!1,matrix:!1,mqtt:!1,mqtt_hass:!1,gamepad:!1},showFeatures:{dev:!1,cloud:!1,wled:!1,integrations:!0,spotify:!1,spotifypro:!1,youtube:!1,webaudio:!1,waves:!1,streamto:!1,effectfilter:!1,transitions:!1,frequencies:!1,go:!1,dashboard:!1,dashboardDetailed:!1,scenetables:!1,scenechips:!1,sceneexternal:!1,scenemidi:!1,beta:!1,alpha:!1,matrix:!1,mqtt:!1,mqtt_hass:!1,gamepad:!1},setFeatures:(feat,use)=>set((0,immer.Uy)((state=>{state.features[feat]=use})),!1,"ui/setFeature"),setShowFeatures:(feat,show)=>set((0,immer.Uy)((state=>{state.showFeatures[feat]=show})),!1,"ui/setShowFeature")}),ui_storeFeatures=storeFeatures;try{storeFeatures.displayName="storeFeatures",storeFeatures.__docgenInfo={description:"",displayName:"storeFeatures",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeFeatures.tsx#storeFeatures"]={docgenInfo:storeFeatures.__docgenInfo,name:"storeFeatures",path:"src/store/ui/storeFeatures.tsx#storeFeatures"})}catch(__react_docgen_typescript_loader_error){}const storeTours=set=>({tours:{home:!1,devices:!1,device:!1,effect:!1,integrations:!1,scenes:!1,settings:!1},setTour:tour=>set((0,immer.Uy)((state=>{state.tours[tour]=!0})),!1,"ui/setTour"),setTourOpen:(tour,open)=>set((0,immer.Uy)((state=>{state.tours[tour]=open})),!1,"ui/setTour")}),ui_storeTours=storeTours;try{storeTours.displayName="storeTours",storeTours.__docgenInfo={description:"",displayName:"storeTours",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeTours.tsx#storeTours"]={docgenInfo:storeTours.__docgenInfo,name:"storeTours",path:"src/store/ui/storeTours.tsx#storeTours"})}catch(__react_docgen_typescript_loader_error){}const package_namespaceObject_i8="2.0.80",storeUI=set=>({latestTag:package_namespaceObject_i8,setLatestTag:tag=>set((0,immer.Uy)((state=>{state.ui.latestTag=tag})),!1,"setLatestTag"),darkMode:!0,setDarkMode:dark=>set((0,immer.Uy)((state=>{state.ui.darkMode=dark})),!1,"ui/darkmode"),infoAlerts:{scenes:!0,devices:!0,user:!0,gamepad:!0},setInfoAlerts:(key,val)=>set((0,immer.Uy)((state=>{state.ui.infoAlerts[key]=val})),!1,"ui/setInfoAlerts"),snackbar:{isOpen:!1,messageType:"error",message:"NO MESSAGE"},showSnackbar:(messageType,message)=>set((0,immer.Uy)((state=>{state.ui.snackbar={isOpen:!0,message,messageType}})),!1,"ui/showSnackbar"),clearSnackbar:()=>set((0,immer.Uy)((state=>{state.ui.snackbar.isOpen=!1})),!1,"ui/clearSnackbar"),bars:{leftBar:{open:!1},smartBar:{open:!1},smartBarPad:{open:!1},bottomBar:[]},setLeftBarOpen:open=>set((0,immer.Uy)((state=>{state.ui.bars.leftBar.open=open})),!1,"ui/setLeftBarOpen"),setBottomBarOpen:page=>set((0,immer.Uy)((state=>{-1===state.ui.bars.bottomBar.indexOf(page)?state.ui.bars.bottomBar=[...state.ui.bars.bottomBar,page]:state.ui.bars.bottomBar=state.ui.bars.bottomBar.filter((p=>p!==page))})),!1,"ui/setBottomBarOpen"),setSmartBarOpen:open=>set((0,immer.Uy)((state=>{state.ui.bars.smartBar.open=open})),!1,"ui/setSmartBarOpen"),setSmartBarPadOpen:open=>set((0,immer.Uy)((state=>{state.ui.bars.smartBarPad.open=open})),!1,"ui/setSmartBarOpen"),settingsExpanded:"false",setSettingsExpanded:setting=>set((0,immer.Uy)((state=>{state.ui.settingsExpanded=setting})),!1,"ui/settingsExpanded"),sceneActiveTags:[],toggletSceneActiveTag:tag=>set((0,immer.Uy)((state=>{state.ui.sceneActiveTags=state.ui.sceneActiveTags.includes(tag)?state.ui.sceneActiveTags.filter((t=>t!==tag)):[...state.ui.sceneActiveTags,tag]})),!1,"ui/settingsExpanded")}),ui_storeUI=storeUI;try{storeUI.displayName="storeUI",storeUI.__docgenInfo={description:"",displayName:"storeUI",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeUI.tsx#storeUI"]={docgenInfo:storeUI.__docgenInfo,name:"storeUI",path:"src/store/ui/storeUI.tsx#storeUI"})}catch(__react_docgen_typescript_loader_error){}const storeUser=set=>({starred:{core:!1,client:!1,build:!1},trophies:{fan:0},setStarred:starred=>set((0,immer.Uy)((state=>{state.user.starred=starred})),!1,"setStarred"),setStar:(repo,starred)=>set((0,immer.Uy)((state=>{state.user.starred[repo]=starred})),!1,"setStarred"),setTrophies:(name,trophy)=>set((0,immer.Uy)((state=>{state.user.trophies[name]=trophy})),!1,"setStarred")}),ui_storeUser=storeUser;try{storeUser.displayName="storeUser",storeUser.__docgenInfo={description:"",displayName:"storeUser",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeUser.tsx#storeUser"]={docgenInfo:storeUser.__docgenInfo,name:"storeUser",path:"src/store/ui/storeUser.tsx#storeUser"})}catch(__react_docgen_typescript_loader_error){}const storeDialogs=set=>({dialogs:{nohost:{open:!1,edit:!1},addScene:{open:!1,edit:!1,sceneKey:"",editData:""},addDevice:{open:!1,edit:{}},addVirtual:{open:!1,edit:{}},editVirtual:{open:!1,edit:{}},addIntegration:{open:!1,edit:{}},addWled:{open:[]}},assistant:{wled:!0,wledSegments:!0,openRgb:!0,launchpad:!0},setAssistant:(kind,val)=>set((0,immer.Uy)((state=>{state.assistant[kind]=val})),!1,"api/dialog/nohost"),setAddWLed:open=>set((0,immer.Uy)((state=>{state.dialogs.addWled={open}})),!1,"api/dialog/nohost"),setDialogOpen:(open,edit)=>set((0,immer.Uy)((state=>{state.dialogs.nohost={open,edit:edit||!1}})),!1,"api/dialog/nohost"),setDialogOpenAddScene:(open,edit,sceneKey,editData)=>set((0,immer.Uy)((state=>{state.dialogs.addScene={open,edit:edit||!1,sceneKey:sceneKey||"",editData:editData||""}})),!1,"api/dialog/AddScene"),setDialogOpenAddDevice:(open,edit)=>set((0,immer.Uy)((state=>{state.dialogs.addDevice={open,edit}})),!1,"api/dialog/AddDevice"),setDialogOpenAddVirtual:(open,edit)=>set((0,immer.Uy)((state=>{state.dialogs.addVirtual={open,edit}})),!1,"api/dialog/AddVirtual"),setDialogOpenEditVirtual:(open,edit)=>set((0,immer.Uy)((state=>{state.dialogs.editVirtual={open,edit}})),!1,"api/dialog/EditVirtual"),setDialogOpenAddIntegration:(open,edit)=>set((0,immer.Uy)((state=>{state.dialogs.addIntegration={open,edit}})),!1,"api/dialog/AddIntegration")}),ui_storeDialogs=storeDialogs;try{storeDialogs.displayName="storeDialogs",storeDialogs.__docgenInfo={description:"",displayName:"storeDialogs",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeDialogs.tsx#storeDialogs"]={docgenInfo:storeDialogs.__docgenInfo,name:"storeDialogs",path:"src/store/ui/storeDialogs.tsx#storeDialogs"})}catch(__react_docgen_typescript_loader_error){}const ui_storeSpotify=()=>({spotifyEmbedUrl:"https://open.spotify.com/embed/playlist/4sXMBGaUBF2EjPvrq2Z3US?",spotifyAuthToken:"",player:null,swSize:"small",swX:50,swY:200,swWidth:300,spNetworkTime:1e3,spAuthenticated:!1,spotifyData:{},spotifyDevice:{},spotifyDevices:[],spotifytriggers:{},spTriggersList:[],spActTriggers:[],playlist:[],me:{},spotifyState:{},spotifyVol:0,spotifyPos:null,spotify:null}),ui_storeQLC=()=>({QLCEmbedUrl:"http://localhost:9999/",QLCData:{},QLCPos:void 0,qlc:void 0,QLCtriggers:{},qlcTriggersList:[],QLCActTriggers:[],qlcWidgets:[],qlc_widgets:{},event_types:{},createQlcListener:{}}),storeWebAudio=set=>({webAud:!1,setWebAud:newState=>{set((0,immer.Uy)((state=>{state.webAud=newState})),!1,"webaudio/setWebAud")},webAudName:"",setWebAudName:newState=>{set((0,immer.Uy)((state=>{state.webAudName=newState})),!1,"webaudio/setWebAudName")},clientDevice:null,clientDevices:null,setClientDevice:newState=>{set((0,immer.Uy)((state=>{state.clientDevice=newState})),!1,"webaudio/setClientDevice")},setClientDevices:newState=>{set((0,immer.Uy)((state=>{state.clientDevices=newState})),!1,"webaudio/setClientDevices")}}),ui_storeWebAudio=storeWebAudio;try{storeWebAudio.displayName="storeWebAudio",storeWebAudio.__docgenInfo={description:"",displayName:"storeWebAudio",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeWebAudio.tsx#storeWebAudio"]={docgenInfo:storeWebAudio.__docgenInfo,name:"storeWebAudio",path:"src/store/ui/storeWebAudio.tsx#storeWebAudio"})}catch(__react_docgen_typescript_loader_error){}const storeYoutube=set=>({youtubeURL:"https://www.youtube.com/watch?v=s6Yyb3N9IuA&list=PLD579BDF7F8D8BFE0",setYoutubeURL:url=>{set((0,immer.Uy)((state=>{state.youtube.youtubeURL=url})),!1,"youtube/setYoutubeURL")}}),ui_storeYoutube=storeYoutube;try{storeYoutube.displayName="storeYoutube",storeYoutube.__docgenInfo={description:"",displayName:"storeYoutube",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeYoutube.tsx#storeYoutube"]={docgenInfo:storeYoutube.__docgenInfo,name:"storeYoutube",path:"src/store/ui/storeYoutube.tsx#storeYoutube"})}catch(__react_docgen_typescript_loader_error){}var ledfx=__webpack_require__("./src/api/ledfx.ts");const storeDevices=set=>({devices:{},openRgbDevices:[],launchpadDevice:"",getDevices:async()=>{const resp=await(0,ledfx._)("/api/devices");resp&&resp.devices&&set((0,immer.Uy)((state=>{state.devices=resp.devices})),!1,"api/gotDevices")},getDevice:async deviceId=>{const resp=await(0,ledfx._)("/api/devices/".concat(deviceId));return resp&&resp.data?{key:deviceId,id:deviceId,name:resp.data.name,config:resp.data,virtuals:resp.data.virtuals,active_virtuals:resp.data.active_virtuals}:{}},addDevice:async config=>await(0,ledfx._)("/api/devices","POST",config),activateDevice:async deviceId=>{const resp=await(0,ledfx._)("/api/devices/".concat(deviceId),"POST",{});resp&&(set((0,immer.Uy)((state=>{state.paused=resp.paused})),!1,"api/gotPausedState"),resp&&resp.virtuals&&set((0,immer.Uy)((state=>{state.virtuals=resp.virtuals})),!1,"api/gotVirtuals"))},updateDevice:async(deviceId,config)=>await(0,ledfx._)("/api/devices/".concat(deviceId),"PUT",config)}),api_storeDevices=storeDevices;try{storeDevices.displayName="storeDevices",storeDevices.__docgenInfo={description:"",displayName:"storeDevices",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeDevices.tsx#storeDevices"]={docgenInfo:storeDevices.__docgenInfo,name:"storeDevices",path:"src/store/api/storeDevices.tsx#storeDevices"})}catch(__react_docgen_typescript_loader_error){}const storeVirtuals=set=>({virtuals:{},activeSegment:-1,setActiveSegment:v=>set((0,immer.Uy)((state=>{state.activeSegment=v})),!1,"api/setCurrentVirtual"),currentVirtual:null,setCurrentVirtual:v=>set((0,immer.Uy)((state=>{state.currentVirtual=v})),!1,"api/setCurrentVirtual"),getVirtuals:async()=>{const resp=await(0,ledfx._)("/api/virtuals");resp&&(set((0,immer.Uy)((state=>{state.paused=resp.paused})),!1,"api/gotPausedState"),resp&&resp.virtuals&&set((0,immer.Uy)((state=>{state.virtuals=resp.virtuals})),!1,"api/gotVirtuals"))},addVirtual:async config=>await(0,ledfx._)("/api/virtuals","POST",config),updateVirtual:async(virtId,active)=>await(0,ledfx._)("/api/virtuals/".concat(virtId),"PUT",{active}),deleteVirtual:async virtId=>await(0,ledfx._)("/api/virtuals/".concat(virtId),"DELETE"),clearEffect:async virtId=>await(0,ledfx._)("/api/virtuals/".concat(virtId,"/effects"),"DELETE"),setEffect:async(virtId,type,config,active)=>{const resp=await(0,ledfx._)("/api/virtuals/".concat(virtId,"/effects"),"POST",{type,config,active});resp&&resp.effect&&set((0,immer.Uy)((state=>{state.virtuals[virtId].effect={type:resp.effect.type,name:resp.effect.name,config:resp.effect.config}})),!1,"api/setEffect")},updateEffect:async(virtId,type,config,active)=>{const resp=await(0,ledfx._)("/api/virtuals/".concat(virtId,"/effects"),"PUT",{type,config,active});resp&&resp.status&&"success"===resp.status&&resp&&resp.effect&&set((0,immer.Uy)((state=>{state.virtuals[virtId].effect={type:resp.effect.type,name:resp.effect.name,config:resp.effect.config}})),!1,"api/updateEffect")},updateSegments:async(virtId,segments)=>{const resp=await(0,ledfx._)("/api/virtuals/".concat(virtId),"POST",{segments:[...segments]});resp&&resp.status&&"success"===resp.status&&resp&&resp.effect&&set((0,immer.Uy)((state=>{state.virtuals[virtId].effect={type:resp.effect.type,name:resp.effect.name,config:resp.effect.config}})),!1,"api/updateVirtualsSegments")},highlightSegment:async(virtId,device,start,stop,flip)=>{const resp=await(0,ledfx._)("/api/virtuals_tools/".concat(virtId),"PUT",{tool:"highlight",device,start,stop,flip});return!(!resp||!resp.status||"success"!==resp.status)},highlightOffSegment:async virtId=>{const resp=await(0,ledfx._)("/api/virtuals_tools/".concat(virtId),"PUT",{tool:"highlight",state:!1});return!(!resp||!resp.status||"success"!==resp.status)},calibrationMode:async(virtId,mode)=>{const resp=await(0,ledfx._)("/api/virtuals_tools/".concat(virtId),"PUT",{tool:"calibration",mode});return!(!resp||!resp.status||"success"!==resp.status)}}),api_storeVirtuals=storeVirtuals;try{storeVirtuals.displayName="storeVirtuals",storeVirtuals.__docgenInfo={description:"",displayName:"storeVirtuals",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeVirtuals.tsx#storeVirtuals"]={docgenInfo:storeVirtuals.__docgenInfo,name:"storeVirtuals",path:"src/store/api/storeVirtuals.tsx#storeVirtuals"})}catch(__react_docgen_typescript_loader_error){}const storeScenes=set=>({scenes:{},mostUsedScenes:{},recentScenes:[],count:{},scenePL:[],scenePLplay:!1,scenePLrepeat:!1,scenePLactiveIndex:-1,scenePLinterval:2,toggleScenePLplay:()=>{set((0,immer.Uy)((s=>{s.scenePLplay=!s.scenePLplay})),!1,"toggleScenePLplay")},toggleScenePLrepeat:()=>{set((0,immer.Uy)((s=>{s.scenePLrepeat=!s.scenePLrepeat})),!1,"toggleScenePLrepeat")},setScenePLinterval:seconds=>{set((0,immer.Uy)((s=>{s.scenePLinterval=seconds})),!1,"setScenePLinterval")},setMostUsedScenes:(key,count)=>{set((0,immer.Uy)((s=>{s.mostUsedScenes[key]={...s.scenes[key],used:count}})),!1,"setMostUsedScenes")},setScenePL:scenes=>{set((0,immer.Uy)((s=>{s.scenePL=scenes})),!1,"setScenePLactiveIndex")},setScenePLactiveIndex:index=>{set((0,immer.Uy)((s=>{s.scenePLactiveIndex=index})),!1,"setScenePLactiveIndex")},addScene2PL:sceneId=>{set((0,immer.Uy)((s=>{s.scenePL=[...s.scenePL,sceneId]})),!1,"addScene2PL")},removeScene2PL:id=>{set((0,immer.Uy)((s=>{s.scenePL=s.scenePL.filter(((p,i)=>i!==id))})),!1,"removeScene2PL")},getScenes:async()=>{const resp=await(0,ledfx._)("/api/scenes");return resp&&resp.scenes?(set((0,immer.Uy)((s=>{s.scenes=resp.scenes})),!1,"gotScenes"),resp.scenes):null},addScene:async(name,scene_image,scene_tags,scene_puturl,scene_payload,scene_midiactivate,virtuals)=>virtuals?await(0,ledfx._)("/api/scenes","POST",{name,scene_image,scene_tags,scene_puturl,scene_payload,scene_midiactivate,virtuals}):await(0,ledfx._)("/api/scenes","POST",{name,scene_image,scene_tags,scene_puturl,scene_payload,scene_midiactivate}),activateScene:async id=>(set((0,immer.Uy)((s=>{s.recentScenes=s.recentScenes?s.recentScenes.indexOf(id)>-1?[id,...s.recentScenes.filter((t=>t!==id))]:[id,...s.recentScenes].slice(0,5):[id]})),!1,"setScenes"),set((0,immer.Uy)((s=>{s.count[id]=(s.count[id]||0)+1})),!1,"setScenes"),await(0,ledfx._)("/api/scenes","PUT",{id,action:"activate"})),activateSceneIn:async(id,ms)=>await(0,ledfx._)("/api/scenes","PUT",{id,action:"activate_in",ms}),deleteScene:async name=>await(0,ledfx._)("/api/scenes","DELETE",{data:{id:name}}),captivateScene:async(scene_puturl,scene_payload)=>await(0,ledfx._)(scene_puturl,"PUT",JSON.parse(scene_payload))}),api_storeScenes=storeScenes;try{storeScenes.displayName="storeScenes",storeScenes.__docgenInfo={description:"",displayName:"storeScenes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeScenes.tsx#storeScenes"]={docgenInfo:storeScenes.__docgenInfo,name:"storeScenes",path:"src/store/api/storeScenes.tsx#storeScenes"})}catch(__react_docgen_typescript_loader_error){}const storeIntegrations=set=>({integrations:{},getIntegrations:async()=>{const resp=await(0,ledfx._)("/api/integrations");resp&&resp.integrations&&set((0,immer.Uy)((s=>{s.integrations=resp.integrations})),!1,"gotIntegrations")},addIntegration:async config=>await(0,ledfx._)("/api/integrations","POST",config),updateIntegration:async config=>await(0,ledfx._)("/api/integrations","POST",config),toggleIntegration:async config=>await(0,ledfx._)("/api/integrations","PUT",config),deleteIntegration:async id=>await(0,ledfx._)("/api/integrations","DELETE",{data:{id}})}),api_storeIntegrations=storeIntegrations;try{storeIntegrations.displayName="storeIntegrations",storeIntegrations.__docgenInfo={description:"",displayName:"storeIntegrations",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeIntegrations.tsx#storeIntegrations"]={docgenInfo:storeIntegrations.__docgenInfo,name:"storeIntegrations",path:"src/store/api/storeIntegrations.tsx#storeIntegrations"})}catch(__react_docgen_typescript_loader_error){}const storeIntegrationsSpotify=set=>({getSpTriggers:async()=>{const resp=await(0,ledfx._)("/api/integrations",set,"GET");resp&&set((0,immer.Uy)((state=>{state.spotify.spotify=resp.spotify})),!1,"spotify/getTriggers")},addSpSongTrigger:async _ref=>{let{scene_id,song_id,song_name,song_position}=_ref;await(0,ledfx._)("/api/integrations/spotify/spotify","POST",{scene_id,song_id,song_name,song_position})},editSpSongTrigger:async _ref2=>{let{scene_id,song_id,song_name,song_position}=_ref2;await(0,ledfx._)("/api/integrations/spotify/spotify","PUT",{scene_id,song_id,song_name,song_position})},toggleSpTrigger:(SpotifyId,config)=>(0,ledfx._)("/api/integrations/spotify/".concat(SpotifyId),"PUT",config),deleteSpTrigger:async config=>{await(0,ledfx._)("/api/integrations/spotify/spotify","DELETE",config)}}),api_storeIntegrationsSpotify=storeIntegrationsSpotify;try{storeIntegrationsSpotify.displayName="storeIntegrationsSpotify",storeIntegrationsSpotify.__docgenInfo={description:"",displayName:"storeIntegrationsSpotify",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeIntegrationsSpotify.tsx#storeIntegrationsSpotify"]={docgenInfo:storeIntegrationsSpotify.__docgenInfo,name:"storeIntegrationsSpotify",path:"src/store/api/storeIntegrationsSpotify.tsx#storeIntegrationsSpotify"})}catch(__react_docgen_typescript_loader_error){}const storePresets=set=>({presets:{},getPresets:async effectId=>{const resp=await(0,ledfx._)("/api/effects/".concat(effectId,"/presets"));resp&&"success"===resp.status&&(delete resp.status,set((0,immer.Uy)((s=>{s.presets=resp})),!1,"gotPresets"))},addPreset:async(effectId,name)=>await(0,ledfx._)("/api/virtuals/".concat(effectId,"/presets"),"POST",{name}),activatePreset:async(virtId,category,effectType,presetId)=>await(0,ledfx._)("/api/virtuals/".concat(virtId,"/presets"),"PUT",{category,effect_id:effectType,preset_id:presetId}),deletePreset:async(effectId,presetId)=>await(0,ledfx._)("/api/effects/".concat(effectId,"/presets"),"DELETE",{data:{preset_id:presetId,category:"user_presets"}})}),api_storePresets=storePresets;try{storePresets.displayName="storePresets",storePresets.__docgenInfo={description:"",displayName:"storePresets",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storePresets.tsx#storePresets"]={docgenInfo:storePresets.__docgenInfo,name:"storePresets",path:"src/store/api/storePresets.tsx#storePresets"})}catch(__react_docgen_typescript_loader_error){}const storeConfig=set=>({schemas:{},getSchemas:async()=>{const resp=await(0,ledfx._)("/api/schema");resp&&set((0,immer.Uy)((s=>{s.schemas=resp})),!1,"gotSchemas")},config:{},getSystemConfig:async()=>{const resp=await(0,ledfx._)("/api/config");resp&&resp.host?set((0,immer.Uy)((state=>{state.config={...resp,ledfx_presets:void 0,devices:void 0,virtuals:void 0,integrations:void 0,scenes:void 0}})),!1,"api/gotSystemConfig"):set((0,immer.Uy)((state=>{state.dialogs.nohost.open=!0})),!1,"api/failedSystemConfig")},getFullConfig:async()=>{const resp=await(0,ledfx._)("/api/config");return resp&&resp.host?{...resp,ledfx_presets:void 0}:set((0,immer.Uy)((state=>{state.dialogs.nohost.open=!0})),!1,"api/getFullConfig")},getLedFxPresets:async()=>{const resp=await(0,ledfx._)("/api/config");return resp&&resp.host?resp.ledfx_presets:set((0,immer.Uy)((state=>{state.dialogs.nohost.open=!0})),!1,"api/getLedFxPresets")},setSystemConfig:async config=>await(0,ledfx._)("/api/config","PUT",config),deleteSystemConfig:async()=>await(0,ledfx._)("/api/config","DELETE"),importSystemConfig:async config=>await(0,ledfx._)("/api/config","POST",config)}),api_storeConfig=storeConfig;try{storeConfig.displayName="storeConfig",storeConfig.__docgenInfo={description:"",displayName:"storeConfig",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeConfig.tsx#storeConfig"]={docgenInfo:storeConfig.__docgenInfo,name:"storeConfig",path:"src/store/api/storeConfig.tsx#storeConfig"})}catch(__react_docgen_typescript_loader_error){}const utils_nameToIcon={Desk:"mdi:desk",Desktop:"mdi:desktop-classic",Monitor:"mdi:monitor",TV:"mdi:television",Kitchen:"mdi:stove",Fridge:"mdi:fridge",Bed:"mdi:bed",Radiator:"mdi:radiator",Heater:"mdi:radiator",Cinema:"mdi:theater",Water:"mdi:water-pump",Matrix:"mdi:table-large",Wardrobe:"mdi:wardrobe",Cupboard:"mdi:cupboard",Speaker:"mdi:speaker",Chair:"mdi:chair-rolling",Couch:"mdi:sofa",Sofa:"mdi:sofa",Cloud:"mdi:cloud",Roof:"mdi:home-roof",Cat:"mdi:cat",Dog:"mdi:dog",Bat:"mdi:bat",Elephant:"mdi:elephant",Fish:"mdi:fish",Dolphin:"mdi:dolphin",Duck:"mdi:duck",Panda:"mdi:panda",Kangaroo:"mdi:kangaroo",Snake:"mdi:snake",Rabbit:"mdi:rabbit",Plant:"mdi:flower",Flower:"mdi:flower",Tree:"mdi:tree",Palm:"mdi:palm-tree",Xmas:"mdi:pine-tree",Christmas:"mdi:pine-tree",DJ:"mdi:album",EQ:"mdi:equalizer",Headphones:"mdi:headphones",Car:"mdi:car",Halloween:"mdi:halloween",Bath:"mdi:bathtub",Balcony:"mdi:balcony",Cradle:"mdi:cradle",Guitar:"mdi:guitar-acoustic",Bugle:"mdi:bugle",Saxophone:"mdi:saxophone",Violin:"mdi:violin",Trumpet:"mdi:trumpet",Bride:"mdi:bride",Castle:"mdi:castle",Rocket:"mdi:rocket",Billiards:"mdi:billiards",Bowling:"mdi:bowling","Logo-III-Y":"yz:logo3y","Logo-III-Z":"yz:logo3z","Logo-III-Top":"yz:logo3top","Logo-III-Left":"yz:logo3left","Logo-III-Right":"yz:logo3right","Logo-III":"yz:logo3","Logo-II-Y":"yz:logo2y","Logo-II-Z":"yz:logo2z","Logo-II-Top":"yz:logo2top","Logo-II-Bottom":"yz:logo2bot","Logo-II":"yz:logo2"},storeActions=set=>({scanForOpenRgbDevices:async()=>{const resp=await(0,ledfx._)("/api/find_openrgb","GET",{});resp&&"success"===resp.status&&(set((0,immer.Uy)((state=>{state.openRgbDevices=resp.devices})),!1,"api/scanForDevices"),resp.devices.map((async d=>await(0,ledfx._)("/api/devices","POST",{type:"openrgb",config:{icon_name:0===d.type?"mdi:chip":2===d.type?"mdi:expansion-card-variant":6===d.type?d.name.includes("Razer")?"razer:mouse":"mouse":"mdi:led-strip",center_offset:0,refresh_rate:64,openrgb_id:d.id,pixel_count:d.leds,port:6742,name:d.name,ip_address:"127.0.0.1"}}))))},scanForLaunchpadDevices:async()=>{const resp=await(0,ledfx._)("/api/find_launchpad","GET",{});return!(!resp||"success"!==resp.status||!resp.device)&&(set((0,immer.Uy)((state=>{state.launchpadDevice=resp.device})),!1,"api/scanForDevices"),await(0,ledfx._)("/api/devices","POST",{type:"launchpad",config:{center_offset:0,refresh_rate:64,pixel_count:resp.device.pixels,rows:resp.device.rows,icon_name:"launchpad",create_segments:"Launchpad X"===resp.device.name,name:resp.device.name}}))},scanForDevices:async()=>{const resp=await(0,ledfx._)("/api/find_devices","POST",{name_to_icon:utils_nameToIcon});resp&&"success"===resp.status||set((0,immer.Uy)((state=>{state.dialogs.nohost.open=!0})),!1,"api/scanForDevices")},paused:!1,togglePause:async()=>{const resp=await(0,ledfx._)("/api/virtuals","PUT",{});resp&&void 0!==resp.paused&&set((0,immer.Uy)((s=>{s.paused=resp.paused})),!1,"gotPaused")},shutdown:async()=>await(0,ledfx._)("/api/power","POST",{timeout:0,action:"shutdown"}),restart:async()=>await(0,ledfx._)("/api/power","POST",{timeout:0,action:"restart"}),getInfo:async()=>await(0,ledfx._)("/api/info"),getPing:async virtId=>await(0,ledfx._)("/api/ping/".concat(virtId))}),api_storeActions=storeActions;try{storeActions.displayName="storeActions",storeActions.__docgenInfo={description:"",displayName:"storeActions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeActions.tsx#storeActions"]={docgenInfo:storeActions.__docgenInfo,name:"storeActions",path:"src/store/api/storeActions.tsx#storeActions"})}catch(__react_docgen_typescript_loader_error){}const storeColors=set=>({colors:{colors:{user:{},builtin:{}},gradients:{user:{},builtin:{}}},getColors:async()=>{const resp=await(0,ledfx._)("/api/colors",set);resp&&set((0,immer.Uy)((s=>{s.colors=resp})),!1,"gotColors")},addColor:async config=>await(0,ledfx._)("/api/colors","POST",{...config}),deleteColors:async colorkey=>await(0,ledfx._)("/api/colors","DELETE",{data:colorkey})}),api_storeColors=storeColors;try{storeColors.displayName="storeColors",storeColors.__docgenInfo={description:"",displayName:"storeColors",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/api/storeColors.tsx#storeColors"]={docgenInfo:storeColors.__docgenInfo,name:"storeColors",path:"src/store/api/storeColors.tsx#storeColors"})}catch(__react_docgen_typescript_loader_error){}const storeSpotifyActions=set=>({setSpotifyState:spState=>set((0,immer.Uy)((state=>{state.spotify.spotifyState=spState})),!1,"spotify/setSpotifyState"),setSpEmbedUrl:url=>set((0,immer.Uy)((state=>{state.spotify.spotifyEmbedUrl=url})),!1,"spotify/setSpotifyEmbedUrl"),setSpAuthToken:token=>set((0,immer.Uy)((state=>{state.spotify.spotifyAuthToken=token})),!1,"spotify/setSpotifyAuthToken"),setPlayer:player=>set((0,immer.Uy)((state=>{state.spotify.player=player})),!1,"spotify/setPlayer"),getVolume:null,setGetVolume:val=>set((0,immer.Uy)((state=>{state.getVolume=val})),!1,"spotify/setPlayer"),setSwSize:x=>set((0,immer.Uy)((state=>{state.spotify.swSize=x||"small"})),!1,"spotify/setSwSize"),setSwX:x=>set((0,immer.Uy)((state=>{state.spotify.swX=x||50})),!1,"spotify/setSwX"),setSwY:y=>set((0,immer.Uy)((state=>{state.spotify.swY=y||200})),!1,"spotify/setSwY"),setSwWidth:width=>set((0,immer.Uy)((state=>{state.spotify.swWidth=width})),!1,"spotify/setSwWidth"),setSpVol:vol=>set((0,immer.Uy)((state=>{state.spotify.spotifyVol=vol})),!1,"spotify/setSpotifyVol"),setSpPos:pos=>{set((0,immer.Uy)((state=>{state.spotify.spotifyPos=pos})),!1,"spotify/setSpotifyPos")},setSpAuthenticated:val=>set((0,immer.Uy)((state=>{state.spotify.spAuthenticated=val})),!1,"spotify/setSpAuthenticated"),setSpData:(type,data)=>set((0,immer.Uy)((state=>{state.spotify.spotifyData[type]=data})),!1,"spotify/setSpotifyData"),setSpDevice:id=>set((0,immer.Uy)((state=>{state.spotify.spotifyDevice=id})),!1,"spotify/setSpotifyDevice"),setSpDevices:devices=>set((0,immer.Uy)((state=>{state.spotify.spotifyDevices=devices})),!1,"spotify/setSpotifyDevice"),setSpNetworkTime:async delay=>{set((0,immer.Uy)((state=>{state.spotify.spNetworkTime=delay})),!1,"spotify/setDelay")},setSpActTriggers:async ids=>{set((0,immer.Uy)((state=>{state.spotify.spActTriggers=ids})),!1,"spotify/setTriggers")},removeSpActTriggers:async id=>{set((0,immer.Uy)((state=>{state.spotify.spActTriggers=state.spotify.spActTriggers.filter((f=>f.id!==id))})),!1,"spotify/delTriggers")},addToSpTriggerList:async(newTrigger,type)=>{switch(type){case"create":set((0,immer.Uy)((state=>{state.spotify.spTriggersList=[...newTrigger]})),!1,"spotify/addToTriggerList");break;case"update":set((0,immer.Uy)((state=>{state.spotify.spTriggersList=state.spotify.spTriggersList.map((each=>each.id===newTrigger.id?newTrigger:each))})),!1,"spotify/addToTriggerList")}},setPlaylist:playerlist=>set((0,immer.Uy)((state=>{state.spotify.playlist=playerlist})),!1,"spotify/setPlayer"),setMe:me=>set((0,immer.Uy)((state=>{state.spotify.me=me})),!1,"spotify/setMe")}),ui_storeSpotifyActions=storeSpotifyActions;try{storeSpotifyActions.displayName="storeSpotifyActions",storeSpotifyActions.__docgenInfo={description:"",displayName:"storeSpotifyActions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeSpotifyActions.tsx#storeSpotifyActions"]={docgenInfo:storeSpotifyActions.__docgenInfo,name:"storeSpotifyActions",path:"src/store/ui/storeSpotifyActions.tsx#storeSpotifyActions"})}catch(__react_docgen_typescript_loader_error){}const storeQLCActions=set=>({setQLCEmbedUrl:url=>set((0,immer.Uy)((state=>{state.qlc.QLCEmbedUrl=url})),!1,"qlc/setQLCEmbedUrl"),setQLCPos:pos=>set((0,immer.Uy)((state=>{state.qlc.QLCPos=pos})),!1,"qlc/setQLCPos"),setQLCData:(type,data)=>set((0,immer.Uy)((state=>{state.qlc.QLCData[type]=data})),!1,"qlc/setQLCData"),getQLCTriggers:async()=>{const resp=await(0,ledfx._)("/api/integrations",set,"GET");resp&&set((0,immer.Uy)((state=>{state.qlc.qlc=resp.qlc})),!1,"qlc/getTriggers")},setQLCActTriggers:async ids=>{set((0,immer.Uy)((state=>{state.qlc.QLCActTriggers=ids})),!1,"qlc/setTriggers")},removeQLCActTriggers:async id=>{set((0,immer.Uy)((state=>{state.qlc.QLCActTriggers=state.qlc.QLCActTriggers.filter((f=>f.id!==id))})),!1,"qlc/delTriggers")},addToQLCTriggerList:async(newTrigger,type)=>{switch(type){case"create":set((0,immer.Uy)((state=>{state.qlc.qlcTriggersList=[...newTrigger]})),!1,"qlc/addToTriggerList");break;case"update":set((0,immer.Uy)((state=>{state.qlc.qlcTriggersList=[newTrigger]})),!1,"qlc/addToTriggerList")}},getQLCWidgets:async()=>{const resp=await(0,ledfx._)("/api/integrations/qlc/qlc");resp&&set((0,immer.Uy)((state=>{state.qlc.qlcWidgets=resp})),!1,"qlc/getWidgets")},addQLCSongTrigger:async _ref=>{let{event_type,event_filter,qlc_payload}=_ref;await(0,ledfx._)("/api/integrations/qlc/qlc","POST",{event_type,event_filter,qlc_payload})},toggleQLCTrigger:(QLCId,config)=>(0,ledfx._)("/api/integrations/qlc/".concat(QLCId),"PUT",config),deleteQLCTrigger:async config=>{await(0,ledfx._)("/api/integrations/qlc/qlc","DELETE",config)}}),ui_storeQLCActions=storeQLCActions;try{storeQLCActions.displayName="storeQLCActions",storeQLCActions.__docgenInfo={description:"",displayName:"storeQLCActions",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeQLCActions.tsx#storeQLCActions"]={docgenInfo:storeQLCActions.__docgenInfo,name:"storeQLCActions",path:"src/store/ui/storeQLCActions.tsx#storeQLCActions"})}catch(__react_docgen_typescript_loader_error){}const storeNotifications=set=>({updateNotificationInterval:1440,setUpdateNotificationInterval:ms=>set((0,immer.Uy)((state=>{state.updateNotificationInterval=ms})),!1,"setUpdateNotificationInterval")}),ui_storeNotifications=storeNotifications;try{storeNotifications.displayName="storeNotifications",storeNotifications.__docgenInfo={description:"",displayName:"storeNotifications",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storeNotifications.tsx#storeNotifications"]={docgenInfo:storeNotifications.__docgenInfo,name:"storeNotifications",path:"src/store/ui/storeNotifications.tsx#storeNotifications"})}catch(__react_docgen_typescript_loader_error){}const defaultMapping={0:{mode:"command",command:"play/pause"},9:{mode:"command",command:"padscreen"},12:{mode:"command",command:"brightness-up"},13:{mode:"command",command:"brightness-down"}},storePad=set=>({mapping:{0:defaultMapping,1:defaultMapping,2:defaultMapping,3:defaultMapping},setMapping:mapping=>set((0,immer.Uy)((state=>{state.mapping=mapping})),!1,"setMapping")}),ui_storePad=storePad;try{storePad.displayName="storePad",storePad.__docgenInfo={description:"",displayName:"storePad",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/ui/storePad.tsx#storePad"]={docgenInfo:storePad.__docgenInfo,name:"storePad",path:"src/store/ui/storePad.tsx#storePad"})}catch(__react_docgen_typescript_loader_error){}const useStore=(0,esm.Ue)((0,middleware.mW)((0,middleware.tJ)((0,middleware.$e)({hackedBy:"Blade"},(set=>({ui:ui_storeUI(set),spotify:ui_storeSpotify(),qlc:ui_storeQLC(),user:ui_storeUser(set),...ui_storePad(set),...ui_storeNotifications(set),...ui_storeTours(set),...ui_storeSpotifyActions(set),...ui_storeQLCActions(set),...ui_storeGeneral(set),...ui_storeDialogs(set),...ui_storeFeatures(set),...ui_storeWebAudio(set),...ui_storeYoutube(set),...api_storeColors(set),...api_storeDevices(set),...api_storeVirtuals(set),...api_storeScenes(set),...api_storeIntegrations(set),...api_storePresets(set),...api_storeConfig(set),...api_storeActions(set),...api_storeIntegrationsSpotify(set)}))),{name:"ledfx-storage",partialize:state=>Object.fromEntries(Object.entries(state).filter((_ref=>{let[key]=_ref;return!["dialogs","disconnected","ui","spotify"].includes(key)})))}))),store_useStore=(useStore.getState(),useStore)}}]);