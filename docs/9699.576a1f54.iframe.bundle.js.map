{"version":3,"file":"9699.576a1f54.iframe.bundle.js","mappings":";;;AAmCA","sources":["webpack://ledfx/./node_modules/@storybook/addon-themes/dist/index.js"],"sourcesContent":["import {\n  preview_exports\n} from \"./_browser-chunks/chunk-R3GPJ3N7.js\";\nimport {\n  DEFAULT_THEME_PARAMETERS,\n  GLOBAL_KEY,\n  PARAM_KEY,\n  THEMING_EVENTS,\n  __export\n} from \"./_browser-chunks/chunk-DN7ZGZUH.js\";\n\n// src/index.ts\nimport { definePreviewAddon } from \"storybook/internal/csf\";\n\n// src/decorators/class-name.decorator.tsx\nimport { useEffect } from \"storybook/preview-api\";\n\n// src/decorators/helpers.ts\nvar helpers_exports = {};\n__export(helpers_exports, {\n  initializeThemeState: () => initializeThemeState,\n  pluckThemeFromContext: () => pluckThemeFromContext,\n  useThemeParameters: () => useThemeParameters\n});\nimport { deprecate } from \"storybook/internal/client-logger\";\nimport { addons, useParameter } from \"storybook/preview-api\";\nimport { dedent } from \"ts-dedent\";\nfunction pluckThemeFromContext({ globals }) {\n  return globals[GLOBAL_KEY] || \"\";\n}\nfunction useThemeParameters(context) {\n  return deprecate(\n    dedent`The useThemeParameters function is deprecated. Please access parameters via the context directly instead e.g.\n    - const { themeOverride } = context.parameters.themes ?? {};\n    `\n  ), context ? context.parameters[PARAM_KEY] ?? DEFAULT_THEME_PARAMETERS : useParameter(PARAM_KEY, DEFAULT_THEME_PARAMETERS);\n}\nfunction initializeThemeState(themeNames, defaultTheme) {\n  addons.getChannel().emit(THEMING_EVENTS.REGISTER_THEMES, {\n    defaultTheme,\n    themes: themeNames\n  });\n}\n\n// src/decorators/class-name.decorator.tsx\nvar DEFAULT_ELEMENT_SELECTOR = \"html\", classStringToArray = (classString) => classString.split(\" \").filter(Boolean), withThemeByClassName = ({\n  themes,\n  defaultTheme,\n  parentSelector = DEFAULT_ELEMENT_SELECTOR\n}) => (initializeThemeState(Object.keys(themes), defaultTheme), (storyFn, context) => {\n  let { themeOverride } = context.parameters[PARAM_KEY] ?? {}, selected = pluckThemeFromContext(context);\n  return useEffect(() => {\n    let selectedThemeName = themeOverride || selected || defaultTheme, parentElement = document.querySelector(parentSelector);\n    if (!parentElement)\n      return;\n    Object.entries(themes).filter(([themeName]) => themeName !== selectedThemeName).forEach(([themeName, className]) => {\n      let classes = classStringToArray(className);\n      classes.length > 0 && parentElement.classList.remove(...classes);\n    });\n    let newThemeClasses = classStringToArray(themes[selectedThemeName]);\n    newThemeClasses.length > 0 && parentElement.classList.add(...newThemeClasses);\n  }, [themeOverride, selected]), storyFn();\n});\n\n// src/decorators/data-attribute.decorator.tsx\nimport { useEffect as useEffect2 } from \"storybook/preview-api\";\nvar DEFAULT_ELEMENT_SELECTOR2 = \"html\", DEFAULT_DATA_ATTRIBUTE = \"data-theme\", withThemeByDataAttribute = ({\n  themes,\n  defaultTheme,\n  parentSelector = DEFAULT_ELEMENT_SELECTOR2,\n  attributeName = DEFAULT_DATA_ATTRIBUTE\n}) => (initializeThemeState(Object.keys(themes), defaultTheme), (storyFn, context) => {\n  let { themeOverride } = context.parameters[PARAM_KEY] ?? {}, selected = pluckThemeFromContext(context);\n  return useEffect2(() => {\n    let parentElement = document.querySelector(parentSelector), themeKey = themeOverride || selected || defaultTheme;\n    parentElement && parentElement.setAttribute(attributeName, themes[themeKey]);\n  }, [themeOverride, selected]), storyFn();\n});\n\n// src/decorators/provider.decorator.tsx\nimport React from \"react\";\nimport { useMemo } from \"storybook/preview-api\";\nvar pluckThemeFromKeyPairTuple = ([_, themeConfig]) => themeConfig, withThemeFromJSXProvider = ({\n  Provider,\n  GlobalStyles,\n  defaultTheme,\n  themes = {}\n}) => {\n  let themeNames = Object.keys(themes), initialTheme = defaultTheme || themeNames[0];\n  return initializeThemeState(themeNames, initialTheme), (storyFn, context) => {\n    let { themeOverride } = context.parameters[PARAM_KEY] ?? {}, selected = pluckThemeFromContext(context), theme = useMemo(() => {\n      let selectedThemeName = themeOverride || selected || initialTheme, pairs = Object.entries(themes);\n      return pairs.length === 1 ? pluckThemeFromKeyPairTuple(pairs[0]) : themes[selectedThemeName];\n    }, [selected, themeOverride]);\n    return Provider ? React.createElement(Provider, { theme }, GlobalStyles && React.createElement(GlobalStyles, null), storyFn()) : React.createElement(React.Fragment, null, GlobalStyles && React.createElement(GlobalStyles, null), storyFn());\n  };\n};\n\n// src/index.ts\nvar index_default = () => definePreviewAddon(preview_exports);\nexport {\n  helpers_exports as DecoratorHelpers,\n  index_default as default,\n  withThemeByClassName,\n  withThemeByDataAttribute,\n  withThemeFromJSXProvider\n};\n"],"names":[],"ignoreList":[],"sourceRoot":""}