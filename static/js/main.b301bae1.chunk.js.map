{"version":3,"sources":["components/Icons/Wled.jsx","components/SchemaForm/BladeBoolean.jsx","components/SchemaForm/BladeSelect.jsx","pages/Devices/EditVirtuals/EditVirtuals.styles.jsx","components/PixelGraph.jsx","App.jsx","utils/scrollToTop.jsx","App.styles.jsx","components/Bars/BarMessage.jsx","components/Dialogs/NoHostDialog.jsx","pages/Scenes/Scenes.jsx","pages/LoginRedirect.js","components/SchemaForm/BladeEffectDropDown.jsx","utils/useClickOutside.jsx","components/SchemaForm/BladeColorPicker.jsx","components/SchemaForm/BladeColorNewPicker.jsx","components/SchemaForm/BladeGradientPicker.jsx","components/SchemaForm/BladeColorDropDown.jsx","components/SchemaForm/BladeEffectSchemaForm.jsx","components/Tours/TourEffect.jsx","pages/Device/Effects.jsx","pages/Device/Cloud.jsx","pages/Device/Presets.jsx","pages/Device/Transition.jsx","pages/Device/Frequencies.jsx","pages/Device/Device.jsx","components/Dialogs/AddSceneDialog.jsx","components/Dialogs/AddDeviceDialog.jsx","components/Dialogs/AddVirtualDialog.jsx","components/Dialogs/AddIntegrationDialog.jsx","components/Integrations/Spotify/ChangeSpotifyURLDialog.jsx","components/Integrations/Spotify/SpotifyWidget.jsx","components/AddButton.jsx","components/Bars/BarBottom.styles.jsx","components/Bars/BarBottom.jsx","components/Dialogs/_AddSegmentDialog.jsx","pages/Devices/EditVirtuals/PixelSlider.jsx","pages/Devices/EditVirtuals/Segment.styles.jsx","pages/Devices/EditVirtuals/Segment.jsx","pages/Devices/EditVirtuals/EditVirtuals.jsx","pages/Devices/DeviceCard/DeviceCard.styles.jsx","pages/Devices/DeviceCard/DeviceCard.jsx","pages/Devices/Devices.jsx","components/Tours/TourDevice.jsx","components/Tours/TourScenes.jsx","components/Tours/TourSettings.jsx","components/Tours/TourDevices.jsx","components/Tours/TourIntegrations.jsx","components/Bars/BarTop.jsx","pages/Settings/AudioCard.jsx","pages/Settings/WledCard.jsx","pages/Settings/Webaudio.jsx","pages/Settings/ClientAudioCard.jsx","components/Dialogs/AboutDialog.jsx","pages/Settings/Settings.jsx","assets/blademod.svg","components/Bars/BarLeft.styles.jsx","components/Bars/BarLeft.jsx","assets/logo.png","assets/ring.png","components/Tours/TourHome.jsx","components/Icons/FX.jsx","pages/Home.jsx","pages/Integrations/IntegrationCard/IntegrationCard.styles.jsx","pages/Integrations/IntegrationCard/IntegrationCard.jsx","pages/Integrations/Integrations.jsx","utils/helpers.js","reportWebVitals.js","utils/ErrorBoundary.jsx","index.js","utils/apiProxy.js","utils/apiStore.jsx","components/Popover.jsx","components/SchemaForm/BladeFrame.jsx","components/Icons/YZ-Logo2.jsx","components/Icons/BladeIcon.jsx","utils/Websocket.jsx","components/SchemaForm/BladeSchemaForm.jsx","components/SchemaForm/BladeSlider.jsx","AppThemes.jsx","components/NoYet.tsx","components/SchemaForm/BladeSlider.styles.jsx"],"names":["Wled","stroke","strokeWidth","strokeLinejoin","strokeLinecap","viewBox","d","fill","useStyles","makeStyles","theme","paper","border","display","flexWrap","maxWidth","padding","spacing","backgroundColor","palette","background","wrapper","borderRadius","position","alignItems","order","flexBasis","minWidth","margin","top","left","fontVariant","fontSize","letterSpacing","boxSizing","BladeBoolean","onClick","type","variant","schema","model","required","hideDesc","model_id","style","index","classes","Frame","children","className","title","replaceAll","control","label","defaultValue","default","checked","onChange","e","b","name","color","description","BladeSelect","disabled","wrapperStyle","selectStyle","textStyle","menuItemStyle","full","enum","length","Object","values","every","a","flexGrow","disableUnderline","value","target","map","item","i","helperText","onBlur","Array","isArray","parseInt","keys","find","en","includes","useEditVirtualsStyles","appBar","marginBottom","text","primary","marginLeft","flex","dialog","segmentTitle","borderBottom","justifyContent","segmentButtonWrapper","cloudEffectCard","cursor","borderColor","main","PixelWrapper","width","overflow","Pixel","height","PixelGraph","virtId","dummy","active","useState","pixels","setPixels","pixelGraphs","useStore","state","virtuals","graphs","useEffect","handleWebsockets","detail","id","document","addEventListener","removeEventListener","p","App","leftBarOpen","ui","bars","leftBar","open","getVirtuals","getSystemConfig","getSchemas","ledfxTheme","window","localStorage","getItem","ledfxThemes","BladeDarkTheme","BladeDarkOrangeTheme","BladeLightTheme","BladeDarkGreenTheme","BladeDarkBlueTheme","BladeDarkGreyTheme","initFrontendConfig","process","versions","hasOwnProperty","customTitleBar","require","titlebar","Titlebar","Color","fromHex","icon","menu","Menu","getApplicationMenu","updateMenu","dispose","Provider","ws","root","basename","clsx","content","contentShift","drawerHeader","exact","path","component","LoginRedirect","Home","Devices","Device","Scenes","Integrations","Settings","ScrollToTop","pathname","useLocation","useLayoutEffect","scrollTo","mixins","toolbar","transition","transitions","create","easing","sharp","duration","leavingScreen","drawerWidth","easeOut","enteringScreen","Alert","props","elevation","MessageBar","snackbar","isOpen","messageType","message","clearSnackbar","handleClose","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","aria-describedby","action","aria-label","severity","filter","createFilterOptions","NoHostDialog","dialogOpen","dialogs","nohost","edit","setDialogOpen","setHost","storedURL","storedURLs","JSON","parse","hosts","setHosts","hostvalue","setHostvalue","aria-labelledby","event","newValue","inputValue","filterOptions","options","params","filtered","push","getOptionLabel","option","renderOption","stopPropagation","setItem","stringify","h","handleDelete","renderInput","selectOnFocus","clearOnBlur","handleHomeEndKeys","freeSolo","some","location","reload","sceneTitle","media","iconMedia","getScenes","scenes","activateScene","deleteScene","info","setInfo","scene","setScene","setDialogOpenAddScene","handleInfoClose","SceneDialog","fullWidth","dev","autoFocus","container","s","iconName","scene_image","startsWith","image","split","aligntItems","gutterBottom","onConfirm","then","handleInfoOpen","size","cloud","axios","baseURL","setText","useParams","history","useHistory","console","log","fetch","providerName","search","res","status","Error","json","jwt","user","username","get","headers","Authorization","me","data","role","setTimeout","catch","err","FormRow","flexDirection","FormLabel","paddingTop","FormSelect","FormListHeaders","pointerEvents","secondary","FormListItem","paddingLeft","FormToggleWrapper","FormToggle","BladeEffectDropDown","effects","virtual","setVirtualEffect","viewMode","effectNames","eid","category","group","reduce","r","c","formats","setFormats","FormControl","InputLabel","htmlFor","Select","effect","onEffectTypeChange","MenuItem","indexOf","ListSubheader","ToggleButtonGroup","newFormats","ToggleButton","useClickOutside","ref","handler","startedInside","startedWhenMounted","listener","current","contains","validateEventStart","picker","coloring","red","orange","yellow","green","cyan","blue","purple","pink","magenta","black","white","gold","hotpink","lightblue","lightgreen","lightpink","lightyellow","maroon","mint","olive","peach","plum","sepia","skyblue","steelblue","tan","violetred","BladeColorPicker","sendColor","col","clr","popover","useRef","anchorEl","setAnchorEl","useCallback","Boolean","undefined","currentTarget","ClickAwayListener","onClickAway","Popper","BladeColorNewPicker","colorNew","setColorNew","handleColorChange","pickerItemWrapper","pickerItemGradient","pickerItemLabel","gradients","colors","method","BladeGradientPicker","updateVirtualEffect","effectyz","config","solid_color","join","cg","BladeColorDropDown","selectedType","curEffSchema","properties","v","bladeSchemaForm","BladeEffectSchemaForm","virtual_id","colorKeys","pickerKeys","setOpen","color_mode","schemaForm","bool_mode","gradient_mode","setSchemaForm","handleEffectConfig","Fab","right","k","BladeSlider","step","Dialog","DialogTitle","DialogContent","DialogContentText","labelId","DialogActions","Button","TourEffect","isTourOpen","setIsTourOpen","setTour","steps","number","selector","marginRight","Info","accentColor","showNavigation","onRequestClose","showNumber","actionButton","marginTop","grey","card","paddingBottom","pixelbar","opacity","transitionDuration","pixelbarOut","EffectsCard","fade","setFade","clearVirtualEffect","schemas","setPixelGraphs","updateVirtual","effectType","Card","CardContent","Casino","Pause","PlayArrow","transition_time","Clear","Accordion","paddin","defaultExpanded","AccordionSummary","expandIcon","ExpandMore","aria-controls","Typography","AccordionDetails","Transition","React","forwardRef","Slide","direction","MuiMenuItem","CloudScreen","startIcon","innerKey","useTheme","cloudEffects","setCloudEffects","addPreset","getPresets","handleClickOpen","refreshPresets","response","alert","cEffects","forEach","Name","preventDefault","ListItemIcon","fullScreen","TransitionComponent","AppBar","Toolbar","Grid","ind","CardHeader","subheader","presetButton","textDecoration","buttonGrid","hint","actions","deviceCard","PresetsCard","presets","setName","valid","setValid","sharing","setSharing","activatePreset","deletePreset","isLogged","sharePreset","list","preset","existing","exists","eff","effId","put","post","deleteCloudPreset","delete","handleActivatePreset","presetId","renderPresetsButton","CATEGORY","longPress","useLongPress","onCancel","treshhold","captureEvent","Popover","onSingleClick","openOnLongPress","handleRemovePreset","noIcon","Share","handleAddPreset","default_presets","Divider","custom_presets","popoverStyle","TextField","onKeyDown","key","error","footer","confirmDisabled","Add","CardActions","Cloud","Switch","formControl","TransitionCard","addVirtual","transition_mode","handleSetTransition","marks","minimum","maximum","BladeFrame","Slider","onChangeCommitted","min","max","valueLabelDisplay","minHeight","mode","logIt","x","Math","log13","hzIt","ValueLabelComponent","Tooltip","enterTouchDelay","placement","round","FrequenciesCard","frequency_min","frequency_max","setValue","freq_max","melbanks","max_frequencies","f","freq_min","min_frequency","convertedMarks","m","copy","abs","val","InputLabelProps","shrink","InputProps","endAdornment","InputAdornment","inputProps","textAlign","n","virtualWrapper","girdItem","flexShrink","match","Effects","Presets","AddSceneDialog","setImage","overwrite","setOverwrite","addScene","Link","href","wordBreak","toLowerCase","AddDeviceDialog","getDevices","addDevice","updateDevice","devices","deviceId","initial","setDialogOpenAddDevice","deviceTypes","showSnackbar","deviceType","setDeviceType","setModel","currentSchema","handleTypeChange","constructor","toUpperCase","BladeSchemaForm","onModelChange","cleanedModel","fromEntries","entries","defaultModel","AddVirtualDialog","setDialogOpenAddVirtual","virtualsSchemas","handleModelChange","AddIntegrationDialog","getIntegrations","addIntegration","updateIntegration","integrations","integrationId","setDialogOpenAddIntegration","integrationsTypes","integrationType","setIntegrationType","ChangeSpotifyURLDialog","spotifyURL","setSpotifyURL","url","setUrl","IconButton","Language","SpotifyWidget","spotifyEnabled","setSpotifyEnabled","spotifyExpanded","setSpotifyExpanded","spotifyEmbedUrl","setSpotifyEmbedUrl","bottom","zIndex","BladeIcon","transform","QueueMusic","src","replace","frameBorder","allowtransparency","allow","MenuLine","Send","ListItemText","StyledMenu","withStyles","getContentAnchorEl","transformOrigin","AddButton","setBackdrop","menuitems","SettingsInputComponent","Icon","Wallpaper","SettingsInputSvideo","keepMounted","menuitem","boxShadow","light","rootShift","addButton","addButtonShift","LabelBottomNavigation","backdrop","leftOpen","BottomNavigation","showLabels","BottomNavigationAction","to","Backdrop","ConfirmationDialogRaw","valueProp","other","deviceList","disableEscapeKeyDown","dividers","device","maxHeight","ConfirmationDialog","updateVirtualSegments","button","endIcon","test","segments","pixel_count","t","PixelSlider","handleRangeSegment","range","setRange","pixelRange","useSegmentStyles","segmentsWrapper","segmentsColOrder","segmentsButtonUp","borderTopRightRadius","borderBottomRightRadius","segmentsButtonDown","borderTopLeftRadius","borderBottomLeftRadius","segmentsColPixelSlider","segmentsColActions","Segment","reorder","newSegments","swap","start","end","seg","FullScreenDialog","output","getOverlapping","overlap","useDeviceCardStyles","virtualCardPortrait","virtualLink","alignSelf","virtualIconWrapper","virtualIcon","transitionDelay","virtualCardContainer","editButton","editButtonMobile","expand","shortest","expandOpen","buttonBarMobile","buttonBarMobileWrapper","DeviceCard","useMediaQuery","breakpoints","down","deleteVirtual","active_virtuals","isActive","setIsActive","expanded","setExpanded","NavLink","colorIndicator","icon_name","lineHeight","preview_only","previewButton","aria-expanded","Collapse","in","timeout","unmountOnExit","Delete","handleDeleteDevice","is_device","handleEditVirtual","cardWrapper","NoYet","TourDevice","cally","invisible","tours","Badge","InfoRounded","TourScenes","TourSettings","settings","TourDevices","TourIntegrations","appBarShift","menuButton","hide","backButton","TopBar","setLeftBarOpen","togglePause","toggleGraphs","paused","setIsLogged","edge","ChevronLeft","goBack","noWrap","pop","MoreVert","divider","AccountCircle","PlayCircleOutline","BarChart","removeItem","logout","Logout","Login","AudioCard","setSystemConfig","audio","rowContainer","rowB","row","check","WledCard","toggleSetting","setting","wled_preferences","user_enabled","onChangeSetting","scan_on_startup","heading","Checkbox","wled_preferred_mode","realtime_gamma_enabled","force_max_brightness","realtime_dmx_mode","start_universe_setting","dmx_address_start","inactivity_timeout","getMedia","clientDevice","navigator","mediaDevices","getUserMedia","enumerateDevices","video","Webaudio","webAud","setWebAud","wsReady","setWsReady","webAudName","setWebAudName","audioContext","AudioContext","webkitAudioContext","setClientDevices","stream","source","createMediaStreamSource","scriptNode","createScriptProcessor","connect","destination","request","sampleRate","context","bufferSize","client","send","sendWs","onaudioprocess","inputBuffer","getChannelData","readyState","getTracks","track","stop","close","handleClick","data-webaud","Check","Close","select","ClientAudioCard","clientDevices","setClientDevice","cd","kind","AboutDialog","configuration_version","host","port","port_s","dev_mode","settingsRow","audioCard","IOSSlider","styled","fontWeight","IOSSwitch","focusVisibleClassName","disableRipple","sliderClasses","useSliderStyles","getFullConfig","deleteSystemConfig","importSystemConfig","setViewMode","shutdown","restart","fps","setFps","pixelLength","setPixelLength","configDownload","newConfig","download","configDelete","deleteFrontendConfig","fileChanged","fileReader","FileReader","readAsText","files","onload","result","setSystemSetting","setActive","setDev","handleChange","panel","isExpanded","visualisation_fps","visualisation_maxlen","CloudUpload","hidden","accept","CloudDownload","Refresh","PowerSettingsNew","Input","input","onFocus","drawer","drawerPaper","overflowX","logo","logoLink","logoImage","verticalAlign","devbadge","backgroundImage","blademod","backgroundSize","backgroundRepeat","backgroundPosition","activeView","shadows","LeftBar","smallScreen","handleDrawerClose","alt","img","onDoubleClick","Drawer","anchor","ChevronRight","List","ListItem","TourHome","FX","currentColor","xmlns","fillRule","sleep","ms","Promise","resolve","scanForDevices","scanning","setScanning","home","logoCircle","sec","CircularProgress","Box","useIntegrationCardStyles","integrationCardPortrait","integrationLink","integrationIcon","margingBottom","integrationCardContainer","buttonBar","IntegrationCard","integration","deleteIntegration","toggleIntegration","handleEditIntegration","handleActivateIntegration","camelToSnake","str","slice","letter","fileName","contentType","createElement","file","Blob","URL","createObjectURL","click","tmp","items","y","sort","startNew","endNew","array","j","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ErrorBoundary","hasError","errorInfo","this","Component","ReactDOM","render","getElementById","api","Ledfx","set","body","payload","reason","persist","devtools","tour","attrib","logged","resp","effectId","effect_id","preset_id","ledfx_presets","getPing","getDevice","newState","typography","confirmContent","openOnDoubleClick","openPopover","Bottom","strokeMiterlimit","Top","Y","points","Z","YZLogo2Bottom","version","shapeRendering","textRendering","imageRendering","clipRule","YZLogo2Top","YZLogo2Y","YZLogo2Z","YZLogo2","_ws","Sockette","maxAttempts","onopen","onmessage","event_type","dispatchEvent","CustomEvent","vis_id","onreconnect","onmaximum","onclose","onerror","createSocket","WsContext","createContext","HandleWs","event_filter","getWs","removeGetWs","BladeSchemaFormNew","colorMode","boolMode","boolVariant","selectVariant","sliderVariant","_boolMode","_setBoolMode","_boolVariant","_setBoolVariant","_selectVariant","_setSelectVariant","_sliderVariant","_setSliderVariant","_colorMode","_setColorMode","permitted","permitted_keys","audio_groups","audio_device","self","textfield","BladeSliderInner","handleSliderChange","handleInputChange","Number","createTheme","MuiCard","avatar","defaultProps","touchAction"],"mappings":"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","file":"static/js/main.b301bae1.chunk.js","sourcesContent":["import React from 'react';\n\nconst Wled = ({\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap,\n}) => (\n  <svg viewBox=\"1.2738999999999998 0.896900000000001 21.511300000000002 17.9544\">\n    <path\n      d=\"m 15.5751 0.919 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8159 -0.0141 1.6377 0.0106 2.45 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0419 0 -2.0839 0 -3.1258 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -3.5569 3.5569 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c -0.0036 0.8041 0.0083 1.6156 -0.016 2.4153 c -1.1386 0.0401 -2.2792 0.0095 -3.4186 0.0193 c -0.2245 -0.0414 -0.1307 0.2381 -0.1493 0.3678 c 0 2.2635 0 4.527 0 6.7905 c 0.0782 0.1466 0.3085 0.0379 0.4487 0.0714 c 1.0508 0 2.1016 0 3.1524 0 c 0.1465 -0.078 0.0388 -0.3084 0.0729 -0.4484 c 0.004 -1.0408 0.008 -2.0815 0.0121 -3.1223 c 1.1575 -0.0046 2.3151 -0.0091 3.4726 -0.0136 c 0.1462 -0.0786 0.0376 -0.3085 0.0712 -0.4487 c 0 -2.2364 0 -4.4729 0 -6.7093 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -1.0419 0 -2.0839 0 -3.1258 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -10.7247 10.7247 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8249 -0.0142 1.6556 0.0106 2.4769 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0509 0 -2.1018 0 -3.1527 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z\"\n      fill=\"currentColor\"\n      stroke={stroke}\n      strokeWidth={strokeWidth}\n      strokeLinejoin={strokeLinejoin}\n      strokeLinecap={strokeLinecap}\n    />\n  </svg>\n);\n\nexport default Wled;\n","import { makeStyles } from '@material-ui/core/styles';\nimport {\n  FormControlLabel, Switch, Checkbox, Button, Typography\n} from '@material-ui/core/';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {    \n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: '320px',\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n  },\n  wrapper: {\n    // minWidth: \"140px\",\n    padding: '10px 10px 2px 10px',\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    borderRadius: '10px',\n    position: 'relative',\n    // margin: \"0.5rem\",\n    display: 'flex',\n    alignItems: 'center',\n    order: '-3',\n    // \"@media (max-width: 580px)\": {\n    flexBasis: '23.5%',\n    minWidth: 'unset',\n    margin: '0.5rem 0',\n    // },\n\n    \"@media (max-width: 580px)\": {\n      flexBasis: \"37vw\",\n    },\n    '& > label': {\n      top: '-0.5rem',\n      display: 'flex',\n      alignItems: 'center',\n      left: '1rem',\n      padding: '0 0.3rem',\n      position: 'absolute',\n      fontVariant: 'all-small-caps',\n      fontSize: '0.9rem',\n      letterSpacing: '0.1rem',\n      backgroundColor: theme.palette.background.paper,\n      boxSizing: 'border-box',\n    },\n  },\n}));\nconst BladeBoolean = ({\n  onClick,\n  type = 'switch',\n  variant = 'outlined',\n  schema,\n  model,\n  required = false,\n  hideDesc = false,\n  model_id,\n  style = {},\n  index\n}) => {\n  // console.log(schema);\n  const classes = useStyles();\n\n  const Frame = ({ children }) => (variant === 'outlined' ? (\n    <div className={`${classes.wrapper} step-effect-${index}`} style={{ ...style, ...{ order: required ? -1 : 5 } }}>\n      <label className={'MuiFormLabel-root'}>{schema.title.replaceAll('_', ' ').replaceAll('Color', 'c')}{required ? '*' : ''}</label>\n      {children}\n    </div>\n  ) : variant === 'text' ? (\n    <FormControlLabel control={children} label={schema.title.replaceAll('_', ' ').replaceAll('color', 'c')} />\n  ) : (\n    { children }\n  ));\n  // console.log(model_id);\n  switch (type) {\n    case 'switch':\n      return (\n        <Frame>\n          <Switch\n            defaultValue={(model && model[model_id]) || schema.default}\n            checked={model && model[model_id]}\n            onChange={(e, b) => onClick(model_id, b)}\n            name={schema.title.replaceAll('_', ' ').replaceAll('color', 'c')}\n            color=\"primary\"\n          />\n          {!hideDesc && schema.description\n            ? <>\n              <Typography variant={'body2'} className={'MuiFormHelperText-root'} >{schema.description} </Typography>\n            </>\n            : <></>\n          }\n        </Frame>\n      );\n    case 'checkbox':\n      return (\n        <Frame>\n          <Checkbox\n            defaultValue={schema.default}\n            checked={model && model[model_id]}\n            onChange={(e, b) => onClick(model_id, b)}\n            name={model_id}\n            color=\"primary\"\n          />\n        </Frame>\n      );\n    case 'button':\n      return (\n        <Button\n          color=\"primary\"\n          variant={model[model_id] ? 'contained' : 'outlined'}\n          onClick={() => onClick(model_id, !model[model_id])}\n        >\n          {schema.title.replaceAll('_', ' ').replaceAll('color', 'c')}\n        </Button>\n      );\n\n    default:\n      return <div>unset</div>;\n  }\n};\n\nexport default BladeBoolean;\n","import PropTypes from 'prop-types';\nimport { Select, MenuItem, TextField } from '@material-ui/core/';\nimport BladeFrame from './BladeFrame';\n\nconst BladeSelect = ({\n  variant = 'outlined',\n  disabled = false,\n  schema,\n  model,\n  model_id,\n  onChange,\n  index,\n  required = false,\n  wrapperStyle = {},\n  selectStyle = {},\n  textStyle = {},\n  menuItemStyle = {},\n  children\n}) =>\n  <BladeFrame\n    title={schema.title}\n    className={`step-effect-${index}`}\n    full={!(schema.enum && schema.enum.length && Object.values(schema.enum).every(a => a.length < 20))}\n    required={required}\n    style={wrapperStyle}>\n\n    {variant === 'contained' ? (\n      schema.enum\n        ? (\n          <Select\n            variant=\"filled\"\n            disabled={disabled}\n            style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\n            disableUnderline\n            defaultValue={schema.default}\n            value={model && model[model_id] || schema.enum[0]}\n            onChange={(e) => onChange(model_id, e.target.value)}\n          >\n            {children ? children : schema.enum.map((item, i) => (\n              <MenuItem key={`${i}-${i}`} value={item}>\n                {item}\n              </MenuItem>\n            ))}\n          </Select>)\n        : (\n          <TextField\n            helperText={schema.description}\n            defaultValue={model && model[model_id] || (schema.enum && schema.enum[0]) || schema.default || ''}\n            onBlur={(e) => onChange(model_id, e.target.value)}\n            style={textStyle}\n\n          />\n        )\n    ) : (\n      schema.enum && Array.isArray(schema.enum)\n        ? (\n          <Select\n            disabled={disabled}\n            style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\n            disableUnderline\n            defaultValue={schema.default}\n            value={model && model[model_id] || schema.enum[0]}\n            onChange={(e) => onChange(model_id, e.target.value)}\n          >\n            {schema.enum.map((item, i) => (\n              <MenuItem key={i} value={item} style={menuItemStyle}>\n                {item}\n              </MenuItem>\n            ))}\n          </Select>)\n        : schema.enum && !Array.isArray(schema.enum)\n          ? (\n            <Select\n              disabled={disabled}\n              style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\n              disableUnderline\n              defaultValue={schema.default}\n              value={model && schema.enum[model[model_id]] || schema.enum[0]}\n              onChange={(e) => onChange(model_id, parseInt(Object.keys(schema.enum).find(en => schema.enum[en] === e.target.value)))}\n            >\n              {Object.keys(schema.enum).map((item, i) => (\n                <MenuItem key={i} value={schema.enum[item]}>\n                  {schema.enum[item]}\n                </MenuItem>\n              ))}\n            </Select>)\n          : (\n            <TextField\n              type={schema.description?.includes('password') ? \"password\" : \"unset\"}\n              helperText={schema.description}\n              defaultValue={model && model[model_id] || (schema.enum && schema.enum[0]) || schema.default || ''}\n              onBlur={(e) => onChange(model_id, e.target.value)}\n              style={textStyle}\n            />\n          )\n    )}\n  </BladeFrame>\n\n\nBladeSelect.propTypes = {\n  variant: PropTypes.string,\n  schema: PropTypes.object.isRequired,\n  model: PropTypes.object.isRequired,\n  model_id: PropTypes.string.isRequired,\n};\n\nexport default BladeSelect;\n\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useEditVirtualsStyles = makeStyles(theme => ({\n    appBar: {\n      position: 'relative',\n      marginBottom: '1rem',\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary,\n    },\n    title: {\n      marginLeft: theme.spacing(2),\n      flex: 1,\n    },\n    dialog: {\n      background: theme.palette.background.default,\n    },\n    segmentTitle: {\n      display: 'flex',\n      borderBottom: '1px dashed #aaa',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      padding: '0.5rem 0',\n      margin: '0 1rem',\n    },\n    segmentButtonWrapper: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      padding: '0.5rem 0',\n      margin: '0 1rem',\n    },\n    cloudEffectCard: {\n      cursor: 'pointer',\n      '&:hover': {\n        borderColor: theme.palette.primary.main\n      }\n    }\n  }));","import { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport useStore from '../utils/apiStore';\n\nconst useStyles = makeStyles((theme) => ({\n  PixelWrapper: {\n    maxWidth: '520px',\n    display: 'flex',\n    width: '100%',\n    borderRadius: '10px',\n    overflow: 'hidden',\n    margin: '0.5rem 0 0 0',\n    // border: '1px solid rgba(255, 255, 255, 0.3)',\n    // '&.active': {\n    //   border: '1px solid rgba(255, 0, 0, 0.3)',\n    // },\n    '@media (max-width: 580px)': {\n      margin: '0',\n    },\n  },\n  Pixel: {\n    height: '20px',\n    borderRadius: '0',\n    flex: 1,\n  }\n}));\n\nconst PixelGraph = ({ virtId, dummy=false, className, active = false }) => {\n  const classes = useStyles();\n  const [pixels, setPixels] = useState([])\n  const pixelGraphs = useStore((state) => state.pixelGraphs);\n  const virtuals = useStore((state) => state.virtuals);\n  const graphs = useStore((state) => state.graphs);\n\n  useEffect(() => {\n    const handleWebsockets = (e) => {\n      if (e.detail.id === virtId) {\n        setPixels(e.detail.pixels)\n      }\n    }\n    document.addEventListener(\"YZ\", handleWebsockets);\n    return () => {\n      document.removeEventListener(\"YZ\", handleWebsockets)\n    }\n  }, [virtuals, pixelGraphs]);\n\n  if (!graphs) {\n    return null\n  }\n\n  return (\n    dummy\n      ? (<div className={`${classes.PixelWrapper} ${className} ${active ? 'active' : ''}`}>\n        <div key={1} className={classes.Pixel} style={{ backgroundColor: '#0002' }} />\n      </div>)\n      : pixels && pixels[0] && pixels[0].length\n        ? (<div className={`${classes.PixelWrapper} ${className}  ${active ? 'active' : ''}`}>\n          {pixels[0].map((p, i) => (\n            <div key={i} className={classes.Pixel} style={{ backgroundColor: active ? `rgb(${pixels[0][i]},${pixels[1][i]},${pixels[2][i]})` : '#0002' }} />\n          ))}\n        </div>\n        )\n        : (<div className={`${classes.PixelWrapper} ${className} ${active ? 'active' : ''}`}>\n        <div key={1} className={classes.Pixel} style={{ backgroundColor: '#0002' }} />\n      </div>)\n  )\n}\n\nexport default PixelGraph\n","import { useEffect } from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport clsx from 'clsx';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport useStore from './utils/apiStore';\nimport ScrollToTop from './utils/scrollToTop';\nimport ws, { WsContext, HandleWs } from \"./utils/Websocket\";\nimport { BladeDarkTheme, BladeDarkOrangeTheme, BladeLightTheme, BladeDarkGreenTheme, BladeDarkBlueTheme, BladeDarkGreyTheme } from './AppThemes'\nimport useStyles from './App.styles';\nimport './App.css';\nimport './assets/materialdesignicons.css';\nimport LeftBar from './components/Bars/BarLeft';\nimport TopBar from './components/Bars/BarTop';\nimport BottomBar from './components/Bars/BarBottom';\nimport MessageBar from './components/Bars/BarMessage';\nimport NoHostDialog from './components/Dialogs/NoHostDialog';\nimport Home from './pages/Home';\nimport Devices from './pages/Devices/Devices';\nimport Device from './pages/Device/Device';\nimport Scenes from './pages/Scenes/Scenes';\nimport Settings from './pages/Settings/Settings';\nimport Integrations from './pages/Integrations/Integrations';\nimport { initFrontendConfig } from './utils/helpers';\nimport LoginRedirect from './pages/LoginRedirect';\n\nexport default function App() {\n  const classes = useStyles();\n\n  const leftBarOpen = useStore((state) => state.ui.bars && state.ui.bars.leftBar.open);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const getSystemConfig = useStore((state) => state.getSystemConfig);\n  const getSchemas = useStore((state) => state.getSchemas);\n\n  const ledfxTheme = window.localStorage.getItem('ledfx-theme')|| 'Dark' ;\n  const ledfxThemes = {\n    \"Dark\": BladeDarkTheme,\n    \"DarkOrange\": BladeDarkOrangeTheme,\n    \"Light\": BladeLightTheme,\n    \"DarkGreen\": BladeDarkGreenTheme,\n    \"DarkBlue\": BladeDarkBlueTheme,\n    \"DarkGrey\": BladeDarkGreyTheme\n  }\n  \n  useEffect(() => {\n    getVirtuals();\n    getSystemConfig();\n    getSchemas();\n  }, [getVirtuals, getSystemConfig, getSchemas]);\n\n  useEffect(() => {\n    initFrontendConfig();\n    // console.log(ledfxTheme, ledfxThemes, ledfxThemes[ledfxTheme])\n  }, []);\n\n  useEffect(() => {\n    // const { Menu, MenuItem } = require('@electron/remote');\n    if (process.versions.hasOwnProperty('electron')) {\n      const customTitleBar = window.require('custom-electron-titlebar');\n      const titlebar = new customTitleBar.Titlebar({\n        backgroundColor: customTitleBar.Color.fromHex('#444'),\n        icon: '/images/logo.png',\n      });\n      const menu = Menu.getApplicationMenu()\n\n      titlebar.updateMenu(menu);\n    }\n    return () => {\n      if (process.versions.hasOwnProperty('electron')) {\n        titlebar.dispose();\n      }\n    };\n  }, []);\n\n  return (\n    <MuiThemeProvider theme={ledfxThemes[ledfxTheme|| 'Dark']}>\n      <WsContext.Provider value={ws}>\n        <div className={classes.root}>\n          <CssBaseline />\n          <Router basename={process.env.PUBLIC_URL}>\n            <ScrollToTop />\n            <HandleWs />\n            <MessageBar />\n            <TopBar />\n            <LeftBar />\n            <main\n              className={clsx(classes.content, {\n                [classes.contentShift]: leftBarOpen,\n              })}\n            >\n              <div className={classes.drawerHeader} />\n              <Switch>\n                <Route exact path=\"/connect/:providerName/redirect\" component={LoginRedirect} />\n                <Route exact path=\"/\" component={Home} />\n                <Route path=\"/devices\" component={Devices} />\n                <Route path=\"/device/:virtId\" component={Device} />\n                <Route path=\"/scenes\" component={Scenes} />\n                <Route path=\"/integrations\" component={Integrations} />\n                <Route path=\"/settings\" component={Settings} />\n              </Switch>\n              <NoHostDialog />\n            </main>\n            <BottomBar />\n          </Router>\n        </div>\n      </WsContext.Provider>\n    </MuiThemeProvider>\n  );\n}\n","import { useLayoutEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}","import { makeStyles } from '@material-ui/core/styles';\nimport { drawerWidth } from './utils/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    '*::-webkit-scrollbar': {\n      backgroundColor: '#ffffff30',\n      width: '8px',\n      borderRadius: '8px',\n    },\n    '*::-webkit-scrollbar-track': {\n      backgroundColor: '#00000060',\n      borderRadius: '8px',\n    },\n    '*::-webkit-scrollbar-thumb': {\n      backgroundColor: '#555555',\n      borderRadius: '8px',\n    },\n    '*::-webkit-scrollbar-button': {\n      display: 'none',\n    },\n  },\n  root: {\n    display: 'flex',\n  },\n\n  drawerHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    background: 'transparent',\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n    '@media (max-width: 580px)': {      \n      padding: '8px',\n    },\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n}));\n\nexport default useStyles;\n","import Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Icon } from '@material-ui/core';\nimport useStore from '../../utils/apiStore';\n\nconst Alert = (props) => <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n\nconst MessageBar = () => {\n  const { isOpen, messageType, message } = useStore((state) => state.ui.snackbar);\n  const clearSnackbar = useStore((state) => state.clearSnackbar);\n\n  function handleClose() {\n    clearSnackbar();\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      open={isOpen}\n      autoHideDuration={2000 + (message || 0).length * 60}\n      onClose={handleClose}\n      aria-describedby=\"client-snackbar\"\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"close\"\n          color=\"inherit\"\n          onClick={handleClose}\n        >\n          <Icon>close</Icon>\n        </IconButton>,\n      ]}\n    >\n      <Alert severity={messageType}>{message}</Alert>\n    </Snackbar>\n  );\n};\n\nexport default MessageBar;\n","import { useState, useEffect } from 'react';\nimport { Button, TextField, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport useStore from '../../utils/apiStore';\n\nconst filter = createFilterOptions();\n\nexport default function NoHostDialog() {\n  const dialogOpen = useStore((state) => state.dialogs.nohost?.open || false);\n  const edit = useStore((state) => state.dialogs.nohost?.edit || false);\n  const setDialogOpen = useStore((state) => state.setDialogOpen);\n  const setHost = useStore((state) => state.setHost);\n  const storedURL = window.localStorage.getItem('ledfx-host');\n  const storedURLs = JSON.parse(window.localStorage.getItem('ledfx-hosts')) || [{ title: 'http://localhost:8888' }];\n  const [hosts, setHosts] = useState([{ title: 'http://localhost:8888' }]);\n  const [hostvalue, setHostvalue] = useState({ title: 'http://localhost:8888' });\n\n  const handleClose = () => {\n    setDialogOpen(false);\n  };\n\n  const handleSave = () => {\n    \n    if (typeof hostvalue !== 'string') {\n      setHost(hostvalue.title);\n      if (!hosts.some(h=> h.title === hostvalue.title)) {        \n        window.localStorage.setItem('ledfx-hosts', JSON.stringify([...hosts, hostvalue]))\n      } else {\n        window.localStorage.setItem('ledfx-hosts', JSON.stringify([...hosts]))\n      }\n    } else {      \n      setHost(hostvalue);\n    }\n    setDialogOpen(false);\n    window.location.reload(true);\n  };\n\n  const handleDelete = (e, title) => {\n    e.stopPropagation();\n    window.localStorage.setItem('ledfx-hosts', JSON.stringify(hosts.filter(h => h.title !== title)))\n    setHosts(hosts.filter(h => h.title !== title))\n  }\n\n  useEffect(() => {\n    storedURL && setHostvalue(storedURL);\n    storedURLs && setHosts(storedURLs)\n  }, [storedURL, setHosts]);\n\n  return (\n    <Dialog\n      open={dialogOpen}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">\n        {edit ? 'LedFx-Core Host' : 'No LedFx-Core found'}\n      </DialogTitle>\n      <DialogContent>\n        {!edit && (\n          <DialogContentText>\n            You can change the host if you want:\n          </DialogContentText>\n        )}\n        <Autocomplete\n          value={hostvalue}\n          onChange={(event, newValue) => {\n            if (typeof newValue === 'string') {\n              setHostvalue({\n                title: newValue,\n              });\n            } else if (newValue && newValue.inputValue) {\n              setHostvalue({\n                title: newValue.inputValue,\n              });\n            } else {\n              setHostvalue(newValue);\n            }\n          }}\n          filterOptions={(options, params) => {\n            const filtered = filter(options, params);\n            if (params.inputValue !== '') {\n              filtered.push({\n                inputValue: params.inputValue,\n                title: `Add \"${params.inputValue}\"`,\n              });\n            }\n\n            return filtered;\n          }}\n          id=\"host\"\n          options={hosts}\n          getOptionLabel={(option) => {\n            if (typeof option === 'string') {\n              return option;\n            }\n            if (option.inputValue) {\n              return option.inputValue;\n            }\n            return option.title;\n          }}\n          renderOption={(option) => <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>{option.title}<Delete onClick={(e) => handleDelete(e, option.title)} /></div>}\n          style={{ width: 300 }}\n          renderInput={(params) => <TextField {...params} label=\"IP:Port\" variant=\"outlined\" />}\n          selectOnFocus\n          clearOnBlur\n          handleHomeEndKeys\n          freeSolo\n\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleSave} color=\"primary\">\n          Set Host\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport useStore from '../../utils/apiStore';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Divider, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Grid, Card, CardActionArea, CardActions, CardMedia, Icon, Typography } from '@material-ui/core';\nimport { Info } from '@material-ui/icons';\nimport Popover from '../../components/Popover';\nimport NoYet from '../../components/NoYet';\nimport BladeIcon from '../../components/Icons/BladeIcon';\n\nconst useStyles = makeStyles({\n  root: {\n    width: 'min(95vw, 345px)',\n  },\n  '@media (max-width: 580px)': {\n    root: {\n      width: '95vw',\n    },\n    sceneTitle: {\n      fontSize: '1rem',\n    }\n  },\n  media: {\n    height: 140,\n  },\n  iconMedia: {\n    height: 140,\n    display: 'flex',\n    alignItems: 'center',\n    margin: '0 auto',\n    fontSize: 100,\n    '& > span:before': {\n      position: 'relative',\n    },\n  },\n});\n\nconst Scenes = () => {\n  const classes = useStyles();\n  const getScenes = useStore((state) => state.getScenes);\n  const scenes = useStore((state) => state.scenes);\n  const activateScene = useStore((state) => state.activateScene);\n  const deleteScene = useStore((state) => state.deleteScene);\n  const [info, setInfo] = useState(false);\n  const [scene, setScene] = useState();\n\n  const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\n\n  const handleActivateScene = (e) => {\n    activateScene(e);\n    setDialogOpenAddScene(false);\n  };\n\n  const handleDeleteScene = (e) => {\n    deleteScene(e).then(() => {\n      getScenes();\n    });\n    setDialogOpenAddScene(false);\n  };\n\n  const handleInfoOpen = (s) => {\n    setScene(s)\n    setInfo(true);\n  };\n\n  const handleInfoClose = () => {\n    setInfo(false);\n  };\n\n  const sceneImage = (iconName) => iconName && iconName.startsWith('image:')\n    ? <CardMedia\n      className={classes.media}\n      image={iconName.split('image:')[1]}\n      title=\"Contemplative Reptile\"\n    />\n    : <BladeIcon scene className={classes.iconMedia} name={iconName} />\n\n  const SceneDialog = () => scene ? <Dialog\n    open={info}\n    onClose={handleInfoClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n    fullWidth={true}\n    maxWidth={\"xs\"}\n  >\n    <DialogTitle id=\"alert-dialog-title\">Scene: {scenes[scene].name || scene}</DialogTitle>\n    <DialogContent>\n      <DialogContentText id=\"alert-dialog-description\">\n        <div style={{ display: 'flex', justifyContent: 'space-between', fontVariant: 'all-small-caps' }}>\n          <span>Device</span>\n          <span>Effect</span>\n        </div>\n        <Divider />\n        {Object.keys(scenes[scene].virtuals).filter(d => !!scenes[scene].virtuals[d].type).map((dev, i) => (\n          <div key={i} style={{ display: 'flex', justifyContent: 'space-between', fontVariant: 'all-small-caps' }}>\n            <span>{dev}</span>\n            <span>{scenes[scene].virtuals[dev].type}</span>\n          </div>\n        ))}\n      </DialogContentText>\n    </DialogContent>\n    <DialogActions>\n      <Button onClick={handleInfoClose} color=\"primary\" autoFocus>\n        Close\n      </Button>\n    </DialogActions>\n  </Dialog> : <></>\n\n  useEffect(() => {\n    getScenes();\n  }, [getScenes]);\n  return (\n    <Grid container spacing={2} justifyContent=\"center\">\n      {scenes && Object.keys(scenes).length ? Object.keys(scenes).map((s, i) => (\n        <Grid item key={i}>\n          <Card className={classes.root}>\n            <CardActionArea style={{ background: '#090909' }} onClick={() => handleActivateScene({ id: s })}>\n              {sceneImage(scenes[s].scene_image || 'Wallpaper')}\n            </CardActionArea>\n            <CardActions style={{ justifyContent: 'space-between', aligntItems: 'center', width: '100%' }}>\n              <Typography gutterBottom className={classes.sceneTitle} variant={\"h5\"} component={\"h2\"}>\n                {scenes[s].name || s}\n              </Typography>\n              <div>\n                <Popover onConfirm={() => handleDeleteScene(s)} variant=\"outlined\" color=\"inherit\" />\n                <Button onClick={() => handleInfoOpen(s)} variant=\"outlined\" color=\"inherit\" size=\"small\" style={{ marginLeft: '0.5rem' }}>\n                  <Info />\n                </Button>\n\n              </div>\n            </CardActions>\n          </Card>\n          <SceneDialog />\n        </Grid>\n      )) : (<NoYet type=\"Scene\" />)}\n    </Grid>\n  );\n};\n\nexport default Scenes;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst cloud = axios.create({\n  baseURL: 'https://strapi.yeonv.com',\n});\n// const backendUrl = process.env.REACT_APP_BACKEND_URL;\nconst backendUrl = \"https://strapi.yeonv.com\";\n\nconst LoginRedirect = (props) => {\n  const [text, setText] = useState('Loading...');\n  const location = useLocation();\n  const params = useParams();\n  const history = useHistory();\n  console.log(params, props, location)\n  useEffect(() => {\n    // Successfully logged with the provider\n    // Now logging with strapi by using the access_token (given by the provider) in props.location.search\n    fetch(`${backendUrl}/auth/${params.providerName}/callback${location.search}`)\n      .then(res => {\n        if (res.status !== 200) {\n          throw new Error(`Couldn't login to Strapi. Status: ${res.status}`);\n        }\n        return res;\n      })\n      .then(res => res.json())\n      .then(async res => {\n        // Successfully logged with Strapi\n        // Now saving the jwt to use it for future authenticated requests to Strapi\n        console.log(res)\n        localStorage.setItem('jwt', res.jwt);\n        localStorage.setItem('username', res.user.username);\n        const me = await cloud.get('users/me', {\n          headers: {\n            Authorization:\n              `Bearer ${localStorage.getItem('jwt')}`,\n          }\n        })\n        const user = await me.data\n        localStorage.setItem('ledfx-cloud-userid', user.id);\n        localStorage.setItem('ledfx-cloud-role', user.role.type);\n        setText(`You have been successfully logged in as ${localStorage.getItem('username')}. You will be redirected in a few seconds...`);\n        setTimeout(() => history.push('/devices'), 2000); // Redirect to homepage after 3 sec\n      })\n      .catch(err => {\n        console.log(err);\n        setText('An error occurred, please see the developer console.')\n      });\n  }, [history, location.search, params.providerName]);\n\n  return <p>{text}</p>\n};\n\nexport default LoginRedirect;","import { useState } from 'react';\n\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useStore from '../../utils/apiStore';\n\nconst useStyles = makeStyles((theme) => ({\n  FormRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    borderRadius: '10px',\n    margin: '0 0 0.5rem',\n    '@media (max-width: 580px)': {\n      flexDirection: 'column',\n    },\n  },\n  FormLabel: {\n    marginLeft: '1rem',\n    paddingTop: '0.5rem',\n    '@media (max-width: 580px)': {\n      display: 'none',\n    },\n  },\n  FormSelect: {\n    flexGrow: 1,\n    marginLeft: '1rem',\n    paddingTop: '0.5rem',\n    '&:before, &:after': {\n      display: 'none',\n    },\n    '& > .MuiSelect-select:focus': {\n      backgroundColor: 'unset',\n    },\n  },\n  FormListHeaders: {\n    pointerEvents: 'none',\n    background: theme.palette.secondary.main,\n    color: '#fff',\n  },\n  FormListItem: {\n    paddingLeft: '2rem',\n  },\n  FormToggleWrapper: {\n    '@media (max-width: 580px)': {\n      order: -1,\n    },\n  },\n\n  FormToggle: {\n    '@media (max-width: 580px)': {\n      flexGrow: 1,\n    },\n  },\n}));\n\nconst BladeEffectDropDown = ({ effects, virtual }) => {\n  const classes = useStyles();\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const viewMode = useStore((state) => state.viewMode);\n\n  const effectNames = effects\n    && Object.keys(effects).map((eid) => ({\n      name: effects[eid].name,\n      id: effects[eid].id,\n      category: effects[eid].category,\n    }));\n\n  const group = effectNames\n    && effectNames.reduce((r, a) => {\n      r[a.category] = [...(r[a.category] || []), a];\n      return r;\n    }, {});\n\n  const [formats, setFormats] = useState(\n    () => group && Object.keys(group).map((c) => c || []),\n  );\n\n  const handleFormat = (event, newFormats) => {\n    setFormats(newFormats);\n  };\n  const onEffectTypeChange = (e) => setVirtualEffect(virtual.id, {\n    type: e.target.value,\n  }).then(() => {\n    getVirtuals();\n  });\n\n  return (\n    <>\n      <FormControl className={`${classes.FormRow} step-device-one`}>\n        <InputLabel htmlFor=\"grouped-select\" className={classes.FormLabel}>\n          Effect Type\n        </InputLabel>\n        <Select\n          value={virtual && virtual.effect && virtual.effect.type || \"\"}\n          onChange={(e) => onEffectTypeChange(e)}\n          id=\"grouped-select\"\n          className={classes.FormSelect}\n        >\n          <MenuItem value=\"\" disabled>\n            <em>None</em>\n          </MenuItem>\n          {effects\n            && group\n            && Object.keys(group).map(\n              (c) => formats\n                && formats.indexOf(c) !== -1 && [\n                  <ListSubheader\n                  className={classes.FormListHeaders}\n                  color=\"primary\"\n                >\n                  {c}\n                </ListSubheader>,\n                group[c].map((e) => (\n                    <MenuItem className={classes.FormListItem} value={e.id}>\n                    {e.name}\n                  </MenuItem>\n                )),\n              ],\n            )}\n        </Select>\n        {viewMode !== 'user' && <ToggleButtonGroup\n          value={formats}\n          onChange={handleFormat}\n          aria-label=\"text formatting\"\n          className={classes.FormToggleWrapper}\n        >\n          {effects\n            && Object.keys(group).map((c, i) => (\n              <ToggleButton\n                className={classes.FormToggle}\n                key={i}\n                value={c}\n                aria-label={c}\n              >\n                {c}\n              </ToggleButton>\n            ))}\n        </ToggleButtonGroup>}\n      </FormControl>\n    </>\n  );\n};\n\nexport default BladeEffectDropDown;\n","import { useEffect } from 'react';\n\n// Improved version of https://usehooks.com/useOnClickOutside/\nconst useClickOutside = (ref, handler) => {\n  useEffect(() => {\n    let startedInside = false;\n    let startedWhenMounted = false;\n\n    const listener = (event) => {\n      // Do nothing if `mousedown` or `touchstart` started inside ref element\n      if (startedInside || !startedWhenMounted) return;\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) return;\n\n      handler(event);\n    };\n\n    const validateEventStart = (event) => {\n      startedWhenMounted = ref.current;\n      startedInside = ref.current && ref.current.contains(event.target);\n    };\n\n    document.addEventListener('mousedown', validateEventStart);\n    document.addEventListener('touchstart', validateEventStart);\n    document.addEventListener('click', listener);\n\n    return () => {\n      document.removeEventListener('mousedown', validateEventStart);\n      document.removeEventListener('touchstart', validateEventStart);\n      document.removeEventListener('click', listener);\n    };\n  }, [ref, handler]);\n};\n\nexport default useClickOutside;\n","import { useState, useCallback, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport useClickOutside from '../../utils/useClickOutside';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    border: '1px solid',\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: '320px',\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n  },\n  picker: {\n    // width: '135px',\n    height: '30px',\n    margin: '15px 10px 10px 10px',\n    borderRadius: '10px',\n    cursor: 'pointer',\n    border: '1px solid #fff',\n    \"@media (max-width: 580px)\": {\n      // width: \"31vw\",\n    },\n  },\n  wrapper: {\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    borderRadius: '10px',\n    position: 'relative',\n    // margin: \"0.5rem\",\n    order: '-2',\n    // \"@media (max-width: 580px)\": {\n    width: '100%',\n    margin: '0.5rem 0',\n    // },\n    '& > label': {\n      top: '-0.5rem',\n      display: 'flex',\n      alignItems: 'center',\n      left: '1rem',\n      padding: '0 0.3rem',\n      position: 'absolute',\n      fontVariant: 'all-small-caps',\n      fontSize: '0.9rem',\n      letterSpacing: '0.1rem',\n      backgroundColor: theme.palette.background.paper,\n      boxSizing: 'border-box',\n    },\n  },\n}));\n\nconst coloring = {\n  red: 'rgb(255, 0, 0)',\n  'orange-deep': 'rgb(255, 40, 0)',\n  orange: 'rgb(255, 120, 0)',\n  yellow: 'rgb(255, 200, 0)',\n  'yellow-acid': 'rgb(160, 255, 0)',\n  green: 'rgb(0, 255, 0)',\n  'green-forest': 'rgb(34, 139, 34)',\n  'green-spring': 'rgb(0, 255, 127)',\n  'green-teal': 'rgb(0, 128, 128)',\n  'green-turquoise': 'rgb(0, 199, 140)',\n  'green-coral': 'rgb(0, 255, 50)',\n  cyan: 'rgb(0, 255, 255)',\n  blue: 'rgb(0, 0, 255)',\n  'blue-light': 'rgb(65, 105, 225)',\n  'blue-navy': 'rgb(0, 0, 128)',\n  'blue-aqua': 'rgb(0, 255, 255)',\n  purple: 'rgb(128, 0, 128)',\n  pink: 'rgb(255, 0, 178)',\n  magenta: 'rgb(255, 0, 255)',\n  black: 'rgb(0, 0, 0)',\n  white: 'rgb(255, 255, 255)',\n  gold: 'rgb(255, 215, 0)',\n  hotpink: 'rgb(255, 105, 180)',\n  lightblue: 'rgb(173, 216, 230)',\n  lightgreen: 'rgb(152, 251, 152)',\n  lightpink: 'rgb(255, 182, 193)',\n  lightyellow: 'rgb(255, 255, 224)',\n  maroon: 'rgb(128, 0, 0)',\n  mint: 'rgb(189, 252, 201)',\n  olive: 'rgb(85, 107, 47)',\n  peach: 'rgb(255, 100, 100)',\n  plum: 'rgb(221, 160, 221)',\n  sepia: 'rgb(94, 38, 18)',\n  skyblue: 'rgb(135, 206, 235)',\n  steelblue: 'rgb(70, 130, 180)',\n  tan: 'rgb(210, 180, 140)',\n  violetred: 'rgb(208, 32, 144)',\n};\n\nconst BladeColorPicker = ({ sendColor, col, clr, index }) => {\n  const classes = useStyles();\n  const popover = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n  };\n\n  const handleClose = useCallback(() => {\n    setAnchorEl(null);\n  }, []);\n  useClickOutside(popover, handleClose);\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popper' : undefined;\n\n  return (\n    <div className={`${classes.wrapper} step-effect-${index}`}>\n      <label className={'MuiFormLabel-root'}>\n        {/* <Palette /> */}\n        {clr.replaceAll('_', ' ').replaceAll('background', 'bg')}\n      </label>\n      <div\n        className={classes.picker}\n        style={{ background: coloring[col] }}\n        aria-describedby={id}\n        onClick={handleClick}\n      />\n      <ClickAwayListener\n        onClickAway={() => {\n          // console.log('anchorEl');\n          // setAnchorEl(null);\n        }}\n      >\n        <Popper\n          id={id}\n          open={open}\n          onClose={handleClose}\n          anchorEl={anchorEl}\n          ref={popover}\n        >\n          <div className={classes.paper}>\n            {Object.keys(coloring).map((c) => (\n              <div\n                key={c}\n                style={{\n                  width: c === col ? '22px' : '20px',\n                  height: c === col ? '22px' : '20px',\n                  margin: c === col ? '4px' : '5px',\n                  borderRadius: '5px',\n                  cursor: 'pointer',\n                  background: coloring[c],\n                  border: c === col ? '2px solid #000' : '1px solid #fff',\n                }}\n                onClick={() => sendColor(c)}\n              />\n            ))}\n          </div>\n        </Popper>\n      </ClickAwayListener>\n    </div>\n  );\n};\nexport default BladeColorPicker;\n","import { useState, useCallback, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport { HslStringColorPicker } from 'react-colorful';\nimport useClickOutside from '../../utils/useClickOutside';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    border: '1px solid',\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: '320px',\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n  },\n  picker: {\n    width: '150px',\n    height: '30px',\n    margin: '15px 10px 10px 10px',\n    borderRadius: '10px',\n    cursor: 'pointer',\n    border: '1px solid #fff',\n  },\n  wrapper: {\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    borderRadius: '10px',\n    position: 'relative',\n    margin: '0.5rem',\n    '& > label': {\n      top: '-0.5rem',\n      display: 'flex',\n      alignItems: 'center',\n      left: '1rem',\n      padding: '0 0.3rem',\n      position: 'absolute',\n      fontVariant: 'all-small-caps',\n      fontSize: '0.9rem',\n      letterSpacing: '0.1rem',\n      backgroundColor: theme.palette.background.paper,\n      boxSizing: 'border-box',\n    },\n  },\n}));\n\nconst BladeColorNewPicker = ({ sendColor, col, clr, virtual }) => {\n  const classes = useStyles();\n  const popover = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [colorNew, setColorNew] = useState('hsl(0, 100%, 25%)');\n  const handleClick = (event) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n  };\n  const handleColorChange = (e) => {\n    console.log(virtual)\n    setColorNew(e);\n    sendColor(e, virtual);\n  };\n  // const handleClickaway = event => {\n  //     console.log(anchorEl);\n  //     if (!anchorEl) {\n  //         setAnchorEl(null);\n  //     }\n  //     // setAnchorEl(anchorEl ? null : event.currentTarget);\n  // };\n  const handleClose = useCallback(() => {\n    setAnchorEl(null);\n  }, []);\n  useClickOutside(popover, handleClose);\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popper' : undefined;\n\n  return (\n    <div className={classes.wrapper}>\n      <label className={'MuiFormLabel-root'}>\n        {/* <Palette /> */}\n        {clr.replaceAll('_', ' ')}\n      </label>\n      <div\n        className={classes.picker}\n        style={{\n          backgroundColor: colorNew.replaceAll('\"', '').replaceAll(\"'\", ''),\n        }}\n        aria-describedby={id}\n        onClick={handleClick}\n      />\n      <ClickAwayListener\n        onClickAway={() => {\n          // console.log('anchorEl');\n          // setAnchorEl(null);\n        }}\n      >\n        <Popper\n          id={id}\n          open={open}\n          onClose={handleClose}\n          anchorEl={anchorEl}\n          ref={popover}\n        >\n          <div className={classes.paper}>\n            <HslStringColorPicker\n              color={colorNew}\n              onChange={(e)=>handleColorChange(e)}\n            />\n            {/* {Object.keys(coloring).map(c => (\n                            <div\n                                key={c}\n                                style={{\n                                    width: c === col ? '22px' : '20px',\n                                    height: c === col ? '22px' : '20px',\n                                    margin: c === col ? '4px' : '5px',\n                                    borderRadius: '5px',\n                                    cursor: 'pointer',\n                                    background: coloring[c],\n                                    border: c === col ? `2px solid #000` : `1px solid #fff`,\n                                }}\n                                onClick={() => sendColor(c)}\n                            ></div>\n                        ))} */}\n          </div>\n        </Popper>\n      </ClickAwayListener>\n    </div>\n  );\n};\nexport default BladeColorNewPicker;\n","import { useState, useCallback, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popper from '@material-ui/core/Popper';\nimport useClickOutside from '../../utils/useClickOutside';\nimport useStore from '../../utils/apiStore';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    border: '1px solid',\n    borderRadius: 10,\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: '320px',\n    height: '50vh',\n    overflow: 'auto',\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n    '&.gradient-picker': {\n      // backgroundColor: 'blue'\n    }\n  },\n  picker: {\n    // width: '135px',\n    height: '30px',\n    margin: '15px 10px 10px 10px',\n    borderRadius: '10px',\n    cursor: 'pointer',\n    border: '1px solid #fff',\n    \"@media (max-width: 580px)\": {\n      // width: \"31vw\",\n    },\n  },\n  pickerItemWrapper: {\n    width: 300,\n    cursor: 'pointer',\n    padding: '2px 3px 2px 15px',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderRadius: 10,\n    border: '1px solid #999',\n    margin: 3,\n    transition: 'background-color 0.15s ease-in-out',\n    '&:hover': {\n      backgroundColor: 'rgba(255,255,255,0.1)',     \n    },\n    '.gradient-picker-var2 &': {\n      position: 'relative',\n      display: 'flex',\n      flexDirection: 'column',\n      padding: 0\n    }\n  },\n  pickerItemGradient: {\n    width: 200,\n    height: 20,\n    borderRadius: 7,\n    '.gradient-picker-var2 &': {\n      width: '100%',\n      height: 30,\n      borderRadius: 10\n    }\n  },\n  pickerItemLabel: {\n    '.gradient-picker-var2 &': {\n      position: 'absolute',\n      background: 'rgba(0,0,0,0.5)',\n      padding: '0px 15px',\n      borderRadius: 10,\n      fontSize: 12\n    },\n  },\n  wrapper: {\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    borderRadius: '10px',\n    position: 'relative',\n    // margin: \"0.5rem\",\n    order: '-2',\n    // \"@media (max-width: 580px)\": {\n    width: '100%',\n    margin: '0.5rem 0',\n    // },\n    '& > label': {\n      top: '-0.5rem',\n      display: 'flex',\n      alignItems: 'center',\n      left: '1rem',\n      padding: '0 0.3rem',\n      position: 'absolute',\n      fontVariant: 'all-small-caps',\n      fontSize: '0.9rem',\n      letterSpacing: '0.1rem',\n      backgroundColor: theme.palette.background.paper,\n      boxSizing: 'border-box',\n    },\n\n  },\n\n}));\n\nconst coloring = {\n  red: 'rgb(255, 0, 0)',\n  'orange-deep': 'rgb(255, 40, 0)',\n  orange: 'rgb(255, 120, 0)',\n  yellow: 'rgb(255, 200, 0)',\n  'yellow-acid': 'rgb(160, 255, 0)',\n  green: 'rgb(0, 255, 0)',\n  'green-forest': 'rgb(34, 139, 34)',\n  'green-spring': 'rgb(0, 255, 127)',\n  'green-teal': 'rgb(0, 128, 128)',\n  'green-turquoise': 'rgb(0, 199, 140)',\n  'green-coral': 'rgb(0, 255, 50)',\n  cyan: 'rgb(0, 255, 255)',\n  blue: 'rgb(0, 0, 255)',\n  'blue-light': 'rgb(65, 105, 225)',\n  'blue-navy': 'rgb(0, 0, 128)',\n  'blue-aqua': 'rgb(0, 255, 255)',\n  purple: 'rgb(128, 0, 128)',\n  pink: 'rgb(255, 0, 178)',\n  magenta: 'rgb(255, 0, 255)',\n  black: 'rgb(0, 0, 0)',\n  white: 'rgb(255, 255, 255)',\n  gold: 'rgb(255, 215, 0)',\n  hotpink: 'rgb(255, 105, 180)',\n  lightblue: 'rgb(173, 216, 230)',\n  lightgreen: 'rgb(152, 251, 152)',\n  lightpink: 'rgb(255, 182, 193)',\n  lightyellow: 'rgb(255, 255, 224)',\n  maroon: 'rgb(128, 0, 0)',\n  mint: 'rgb(189, 252, 201)',\n  olive: 'rgb(85, 107, 47)',\n  peach: 'rgb(255, 100, 100)',\n  plum: 'rgb(221, 160, 221)',\n  sepia: 'rgb(94, 38, 18)',\n  skyblue: 'rgb(135, 206, 235)',\n  steelblue: 'rgb(70, 130, 180)',\n  tan: 'rgb(210, 180, 140)',\n  violetred: 'rgb(208, 32, 144)',\n};\n\nconst gradients = {\n  \"Rainbow\": {\n    colors: [\n      coloring[\"red\"],\n      coloring[\"orange\"],\n      coloring[\"yellow\"],\n      coloring[\"green\"],\n      coloring[\"green-turquoise\"],\n      coloring[\"blue\"],\n      coloring[\"purple\"],\n      coloring[\"pink\"],\n    ]\n  },\n  \"Dancefloor\": {\n    colors: [\n      coloring[\"red\"],\n      coloring[\"pink\"],\n      coloring[\"blue\"],\n    ]\n  },\n\n  \"Plasma\": {\n    colors: [\n      coloring[\"blue\"],\n      coloring[\"purple\"],\n      coloring[\"red\"],\n      coloring[\"orange-deep\"],\n      coloring[\"yellow\"],\n    ]\n  },\n\n  \"Ocean\": {\n    colors: [\n      coloring[\"blue-aqua\"],\n      coloring[\"blue\"],\n    ]\n  },\n\n  \"Viridis\": {\n    colors: [\n      coloring[\"purple\"],\n      coloring[\"blue\"],\n      coloring[\"green-teal\"],\n      coloring[\"green\"],\n      coloring[\"yellow\"],\n    ]\n  },\n\n  \"Jungle\": {\n    colors: [\n      coloring[\"green\"],\n      coloring[\"green-forest\"],\n      coloring[\"orange\"],\n    ]\n  },\n\n  \"Spring\": {\n    colors: [\n      coloring[\"pink\"],\n      coloring[\"orange-deep\"],\n      coloring[\"yellow\"],\n    ]\n  },\n\n  \"Winter\": {\n    colors: [\n      coloring[\"green-turquoise\"],\n      coloring[\"green-coral\"],\n    ]\n  },\n\n  \"Frost\": {\n    colors: [\n      coloring[\"blue\"],\n      coloring[\"blue-aqua\"],\n      coloring[\"purple\"],\n      coloring[\"pink\"],\n    ]\n  },\n\n  \"Sunset\": {\n    colors: [\n      coloring[\"blue-navy\"],\n      coloring[\"orange\"],\n      coloring[\"red\"],\n    ]\n  },\n\n  \"Borealis\": {\n    colors: [\n      coloring[\"orange-deep\"],\n\n      coloring[\"purple\"],\n\n      coloring[\"green-turquoise\"],\n\n      coloring[\"green\"],\n    ]\n  },\n  \"Rust\": {\n    colors: [\n      coloring[\"orange-deep\"],\n      coloring[\"red\"],\n    ]\n  },\n  \"Christmas\": {\n    colors: [\n      coloring[\"red\"],\n      coloring[\"red\"],\n      coloring[\"red\"],\n      coloring[\"red\"],\n      coloring[\"red\"],\n      coloring[\"green\"],\n      coloring[\"green\"],\n      coloring[\"green\"],\n      coloring[\"green\"],\n      coloring[\"green\"],\n    ],\n    method: \"repeat\"\n  },\n  \"Winamp\": {\n    colors: [\n      coloring[\"green\"],\n      coloring[\"yellow\"],\n      coloring[\"orange\"],\n      coloring[\"orange-deep\"],\n      coloring[\"red\"],\n    ]\n  },\n}\n\n\nconst BladeGradientPicker = ({ col, clr, index, virtual, variant = 'picker' }) => {\n  const classes = useStyles();\n  const popover = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n\n  const virtuals = useStore((state) => state.virtuals);\n  const effectyz = virtual && virtuals[Object.keys(virtuals).find((d) => d === virtual.id)];\n\n  const sendColor = (e, v) => {\n    if (virtual && effectyz && effectyz.effect && effectyz.effect.type) {\n      updateVirtualEffect(virtual.id, {\n        virtId: virtual.id,\n        type: effectyz.effect.type,\n        config: { [clr]: e },\n      }).then(() => {\n        getVirtuals();\n      });\n    }\n\n  }\n  const handleClick = (event) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n  };\n\n  const handleClose = useCallback(() => {\n    setAnchorEl(null);\n  }, []);\n  useClickOutside(popover, handleClose);\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popper' : undefined;\n\n  return (\n    <div className={`${classes.wrapper} step-effect-${index} gradient-${variant}`} style={{ width: '49%', display: virtual.effect.config.solid_color ? 'none' : 'block' }}>\n      <label className={'MuiFormLabel-root'}>\n        {/* <Palette /> */}\n        {clr.replaceAll('_', ' ').replaceAll('background', 'bg').replaceAll('name', '')}\n      </label>\n      <div\n        className={classes.picker}\n        style={{\n          background: coloring[col],\n          background: `linear-gradient(to right,${Object.keys(gradients).indexOf(col) > -1 ? (gradients[col].colors.map((c, i) => i === 0 ? `${c}, ` : `${c} ${i * 100 / (gradients[col].colors.length - 1)}%${i === gradients[col].colors.length - 1 ? '' : ', '}`).join('')) : '#000, #fff 100%'})`\n        }}\n        aria-describedby={id}\n        onClick={handleClick}\n      />\n\n      <Popper\n        id={id}\n        open={open}\n        onClose={handleClose}\n        anchorEl={anchorEl}\n        ref={popover}\n      >\n        <div className={`${classes.paper} gradient-${variant}`}>\n\n          {Object.keys(gradients).map((cg) => (\n            <div\n              key={cg}\n              className={classes.pickerItemWrapper}\n              onClick={() => sendColor(cg)}\n            >\n              <div className={classes.pickerItemLabel}>\n                {cg}\n              </div>\n              <div className={classes.pickerItemGradient} style={{ background: `linear-gradient(to right,${gradients[cg].colors.map((c, i) => i === 0 ? `${c}, ` : `${c} ${i * 100 / (gradients[cg].colors.length - 1)}%${i === gradients[cg].colors.length - 1 ? '' : ', '}`).join('')})` }} />\n            </div>\n          ))}\n        </div>\n      </Popper>\n    </div>\n  );\n};\nexport default BladeGradientPicker;\n","import InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n// import { setVirtualEffect } from \"modules/selectedDisplay\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport useStore from '../../utils/apiStore';\nimport BladeColorPicker from './BladeColorPicker';\nimport BladeColorNewPicker from './BladeColorNewPicker';\nimport { useEffect } from 'react';\nimport BladeGradientPicker from './BladeGradientPicker';\n\nconst useStyles = makeStyles((theme) => ({\n  FormRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    borderRadius: '10px',\n    '@media (max-width: 580px)': {\n      flexDirection: 'column',\n    },\n  },\n  FormLabel: {\n    marginLeft: '1rem',\n    paddingTop: '0.5rem',\n    '@media (max-width: 580px)': {\n      display: 'none',\n    },\n  },\n  FormSelect: {\n    flexGrow: 1,\n    marginLeft: '1rem',\n    paddingTop: '0.5rem',\n    '&:before, &:after': {\n      display: 'none',\n    },\n    '& > .MuiSelect-select:focus': {\n      backgroundColor: 'unset',\n    },\n  },\n}));\n\nconst BladeColorDropDown = ({\n  effects = {},\n  virtual = {},\n  clr = 'color',\n  type = 'both',\n  selectedType,\n  model,\n}) => {\n  const classes = useStyles();\n\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n\n  const virtuals = useStore((state) => state.virtuals);\n  const effectyz = virtuals[Object.keys(virtuals).find((d) => d === virtual.id)];\n  const curEffSchema = effects[selectedType];\n  const colors = curEffSchema\n    && curEffSchema.schema.properties[clr]\n    && curEffSchema.schema.properties[clr].enum;\n  \n  \n  \n  const sendColor = (e, v) => { \n    // console.log(virtual,effectyz, v)\n    if (virtual && effectyz && effectyz.effect && effectyz.effect.type) {\n      \n      updateVirtualEffect(virtual.id, {\n        virtId: virtual.id,\n        type: effectyz.effect.type,\n        config: { [clr]: e },\n      }).then(() => {\n        getVirtuals();\n      });\n    }\n \n  }\n\n  const onEffectTypeChange = (e) => virtual\n    && setVirtualEffect(virtual.id, {\n      virtId: virtual.id,\n      type: virtual.config[virtual.id].effect.type,\n      config: { [clr]: e.target.value },\n    }).then(() => {\n      getVirtuals();\n    });\n\n  //  console.log(virtual.effect.config)\n  \n  return (\n    <div style={{ display: (clr==='color' && Object.keys(virtual.effect.config).indexOf(\"solid_color\") > -1 && virtual.effect.config.solid_color === false) ? 'none' : 'flex', alignItems: 'center', width: '49%' }}>\n      {(type === 'text' || type === 'both') && (\n        <FormControl className={classes.FormRow} style={{ width: '100%' }}>\n          <InputLabel htmlFor=\"grouped-select\" className={classes.FormLabel}>\n            {clr.replaceAll('_', ' ')}\n          </InputLabel>\n          <Select\n            value={model[clr]}\n            onChange={onEffectTypeChange}\n            id=\"grouped-select\"\n            className={classes.FormSelect}\n          >\n            {colors\n              && colors.map((c) => (\n                <MenuItem className={classes.FormListItem} key={c} value={c}>\n                  {c}\n                </MenuItem>\n              ))}\n          </Select>\n        </FormControl>\n      )}\n\n      {(type === 'color' || type === 'both') && (<>\n        <BladeColorPicker\n          col={model[clr]}\n          clr={clr}\n          sendColor={sendColor}\n          selectedType={selectedType}\n          model={model}\n        />\n      </>)}\n      {type === 'colorNew'\n        && (\n          <BladeColorNewPicker\n            col={model[clr]}\n            clr={clr}\n            sendColor={sendColor}\n            selectedType={selectedType}\n            model={model}\n            type={virtual}\n          />\n        )}\n    </div>\n  );\n};\n\nexport default BladeColorDropDown;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Fab,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  Select,\n  DialogActions,\n  Button,\n  InputLabel,\n  MenuItem,\n  FormControl,\n} from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport useStore from '../../utils/apiStore';\nimport BladeColorDropDown from './BladeColorDropDown';\nimport BladeBoolean from './BladeBoolean';\nimport BladeSelect from './BladeSelect';\nimport BladeSlider from './BladeSlider';\nimport BladeGradientPicker from './BladeGradientPicker';\n\nconst useStyles = makeStyles({\n  bladeSchemaForm: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n  },\n});\n\nconst BladeEffectSchemaForm = (props) => {\n  const {\n    effects,\n    virtual,\n    schema,\n    model,\n    virtual_id,\n    selectedType,\n    colorKeys = [],\n  } = props;\n  const pickerKeys = [\n    'color',\n    'background_color',\n    'color_lows',\n    'color_mids',\n    'color_high',\n    'strobe_color',\n    'lows_colour',\n    'mids_colour',\n    'high_colour',\n    ...colorKeys,\n  ];\n\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n  const color_mode = useStore((state) => state.schemaForm.color_mode);\n  const bool_mode = useStore((state) => state.schemaForm.bool_mode);\n  const gradient_mode = useStore((state) => state.schemaForm.gradient_mode);\n  const setSchemaForm = useStore((state) => state.setSchemaForm);\n\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleEffectConfig = (virtual_id, config) => updateVirtualEffect(virtual_id, {\n    virtId: virtual_id,\n    type: selectedType,\n    config,\n  }).then(() => {\n    getVirtuals();\n  });\n\n  return (\n    <div className={classes.bladeSchemaForm}>\n      {parseInt(window.localStorage.getItem('BladeMod')) > 20 && (\n        <Fab\n          onClick={handleClickOpen}\n          variant=\"circular\"\n          color=\"primary\"\n          size=\"small\"\n          style={{ position: 'absolute', right: '3rem', top: '1rem' }}\n        >\n          <SettingsIcon />\n        </Fab>\n      )}\n      {pickerKeys && pickerKeys.map(\n        (k, i) => model && Object.keys(model).indexOf(k) !== -1 && (\n          <BladeColorDropDown\n            virtual={virtual}\n            effects={effects}\n            selectedType={selectedType}\n            model={model}\n            key={k}\n            index={i}\n            type={color_mode === 'select' ? 'text' : 'color'}\n            clr={k}\n          />\n        ),\n      )}\n      { }\n      {Object.keys(schema.properties).map((s, i) => {\n        switch (schema.properties[s].type) {\n          case 'boolean':\n            return (\n              <BladeBoolean\n                type={bool_mode}\n                key={i}\n                index={i}\n                model={model}\n                model_id={s}\n                schema={schema.properties[s]}\n                hideDesc={true}\n                onClick={(model_id, value) => {\n                  const c = {};\n                  c[model_id] = value;\n                  return handleEffectConfig(virtual_id, c);\n                }}\n              />\n            );\n          case 'string':\n            return schema.properties[s].enum && pickerKeys.indexOf(s) === -1 ?\n              (s === 'gradient_name' && gradient_mode !== 'select')\n                ? (\n                  <BladeGradientPicker\n                    col={model[s]}\n                    key={i}\n                    clr={s}\n                    selectedType={selectedType}\n                    model={model}\n                    virtual={virtual}\n                    variant={gradient_mode}\n                  />\n                )\n                : (\n                  <BladeSelect\n                    model={model}\n                    schema={schema.properties[s]}\n                    wrapperStyle={{ width: '49%' }\n                    }\n                    model_id={s}\n                    key={i}\n                    index={i}\n                    onChange={(model_id, value) => {\n                      const c = {};\n                      c[model_id] = value;\n                      return handleEffectConfig(virtual_id, c);\n                    }}\n                  />\n                ) : (\n                pickerKeys.indexOf(s) === -1 && (\n                  <BladeColorDropDown\n                    selectedType={selectedType}\n                    index={i}\n                    model={model}\n                    type=\"colorNew\"\n                    clr=\"blade_color\"\n                    key={i}\n                  />\n                )\n              );\n\n          case 'number':\n            return (\n              <BladeSlider\n                key={i}\n                index={i}\n                hideDesc={true}\n                model_id={s}\n                model={model}\n                schema={schema.properties[s]}\n                onChange={(model_id, value) => {\n                  const c = {};\n                  c[model_id] = value;\n                  return handleEffectConfig(virtual_id, c);\n                }}\n              />\n            );\n\n          case 'integer':\n            return (\n              <BladeSlider\n                step={1}\n                key={i}\n                index={i}\n                hideDesc={true}\n                model_id={s}\n                model={model}\n                schema={schema.properties[s]}\n                style={{ margin: '0.5rem 0' }}\n                onChange={(model_id, value) => {\n                  const c = {};\n                  c[model_id] = value;\n                  return handleEffectConfig(virtual_id, c);\n                }}\n              />\n            );\n\n          default:\n            return (\n              <>\n                Unsupported type:\n                {schema.properties[s].type}\n              </>\n            );\n        }\n      })}\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          Blade's SchemaForm Settings\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Customize the appearance of dynamically generated forms\n          </DialogContentText>\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <FormControl>\n              <InputLabel id=\"ColorVariantLabel\">Color Mode</InputLabel>\n              <Select\n                labelId=\"ColorVariantLabel\"\n                id=\"ColorVariant\"\n                value={color_mode}\n                onChange={(e) => setSchemaForm('color_mode', e.target.value)}\n              >\n                <MenuItem value=\"picker\">Picker</MenuItem>\n                <MenuItem value=\"select\">Select</MenuItem>\n              </Select>\n            </FormControl>\n            <FormControl>\n              <InputLabel id=\"BoolModeLabel\">Bool Mode</InputLabel>\n              <Select\n                labelId=\"BoolModeLabel\"\n                id=\"bool_mode\"\n                value={bool_mode}\n                onChange={(e) => setSchemaForm('bool_mode', e.target.value)}\n              >\n                <MenuItem value=\"switch\">Switch</MenuItem>\n                <MenuItem value=\"checkbox\">Checkbox</MenuItem>\n                <MenuItem value=\"button\">Button</MenuItem>\n              </Select>\n            </FormControl>       \n            <FormControl>\n              <InputLabel id=\"GradientModeLabel\">Gradient Mode</InputLabel>\n              <Select\n                labelId=\"GradientModeLabel\"\n                id=\"gradient_mode\"\n                value={gradient_mode}\n                onChange={(e) => setSchemaForm('gradient_mode', e.target.value)}\n              >\n                <MenuItem value=\"picker\">Picker</MenuItem>\n                <MenuItem value=\"picker-var2\">Picker Variant 2</MenuItem>\n                <MenuItem value=\"select\">Select</MenuItem>\n              </Select>\n            </FormControl>       \n          </div>\n          <DialogActions>\n            <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\n              Ok\n            </Button>\n          </DialogActions>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nBladeEffectSchemaForm.propTypes = {\n  colorMode: PropTypes.oneOf(['picker', 'select']),\n  boolMode: PropTypes.oneOf(['switch', 'checkbox', 'button']),\n  colorKeys: PropTypes.array,\n  schema: PropTypes.object.isRequired,\n  model: PropTypes.object.isRequired,\n  virtual_id: PropTypes.string.isRequired,\n  selectedType: PropTypes.string.isRequired,\n};\n\nexport default BladeEffectSchemaForm;\n","import { useState } from 'react';\nimport { MenuItem, Button } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { Info, InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst step = ({ title = 'Title', text = 'Text', number = 0 }) => (\n  {\n    selector: `.step-effect-${number}`,\n    content: (\n      <div>\n        <h2>{title}</h2>\n        {text}\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  }\n);\n\nconst TourEffect = ({ schema }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const steps = Object.keys(schema.properties).map((p, i) => step({ \n    title: schema.properties[p].title, \n    text: schema.properties[p].description, \n    number: i }))\n  return (\n    <>\n      <Button\n        onClick={(e) => {\n          setIsTourOpen(true);\n          setTour(\"effect\");\n        }}\n        variant=\"outlined\"\n        style={{ marginRight: '.5rem' }}\n        className={'step-device-seven'}\n      >\n        <Info />\n      </Button>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        showNavigation={false}\n        // badgeContent={()=><Info size=\"small\" />}\n        onRequestClose={() => setIsTourOpen(false)}\n        showNumber={false}\n      />\n    </>\n  );\n};\n\nexport default TourEffect;\n","import { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport { Button, Card, CardContent, Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core/';\nimport { Casino, Clear, ExpandMore, Pause, PlayArrow } from '@material-ui/icons/';\nimport useStore from '../../utils/apiStore';\nimport BladeEffectDropDown from '../../components/SchemaForm/BladeEffectDropDown';\nimport BladeEffectSchemaForm from '../../components/SchemaForm/BladeEffectSchemaForm';\nimport PixelGraph from '../../components/PixelGraph';\nimport TourEffect from '../../components/Tours/TourEffect';\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  actionButton: {\n    marginTop: '0.5rem',\n    width: '100%',\n    borderColor: theme.palette.grey[400]\n  },\n  card: {\n    width: '100%',\n    maxWidth: '540px',\n    '@media (max-width: 580px)': {\n      maxWidth: '97vw',\n      margin: '0 auto',\n    },\n    '& > .MuiCardContent-root': {\n      paddingBottom: '0.5rem',\n    }\n  },\n  pixelbar: {\n    opacity: 1,\n    transitionDuration: 0\n  },\n  pixelbarOut: {\n    opacity: 0.2,\n    transition: 'opacity',\n    transitionDuration: 1000\n  }\n}));\n\nconst EffectsCard = ({ virtId }) => {\n  const classes = useStyles();\n  const [fade, setFade] = useState(false)\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const getSchemas = useStore((state) => state.getSchemas);\n  const clearVirtualEffect = useStore((state) => state.clearVirtualEffect);\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\n  const virtuals = useStore((state) => state.virtuals);\n  const effects = useStore((state) => state.schemas.effects);\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\n  const viewMode = useStore((state) => state.viewMode);\n  const updateVirtual = useStore((state) => state.updateVirtual);\n\n  const graphs = useStore((state) => state.graphs);\n\n  const virtual = virtuals[virtId];\n  const effectType = virtual && virtual.effect.type;\n\n  const handleRandomize = () => {\n    setVirtualEffect(\n      virtual.id,\n      {\n        virtId: virtual.id,\n        type: effectType,\n        config: 'RANDOMIZE',\n        active: true\n      }\n    ).then(() => getVirtuals());\n  };\n\n  const handleClearEffect = () => {\n    clearVirtualEffect(virtId).then(() => {\n      setFade(true)\n      setTimeout(() => { getVirtuals() }, virtual.config.transition_time * 1000)\n      setTimeout(() => { setFade(false) }, virtual.config.transition_time * 1000 + 300)\n    });\n  };\n\n  const handlePlayPause = () => {\n    updateVirtual(virtual.id, { active: !virtual.active })\n      .then(() => getVirtuals());\n  };\n\n  useEffect(() => {\n    getVirtuals();\n    getSchemas();\n    if (graphs) {\n      setPixelGraphs([virtId]);\n    }\n  }, [graphs, setPixelGraphs, getVirtuals, getSchemas, effectType]);\n\n  return (\n    <>\n      <Card className={classes.card}>\n        <CardContent>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n            }}\n          >\n            <h1>{virtual && virtual.config.name}</h1>\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n              {effects && effectType && (\n                <>\n                  <TourEffect schema={effects[effectType].schema} />\n                  <Button\n                    onClick={() => handleRandomize()}\n                    variant=\"outlined\"\n                    style={{ marginRight: '.5rem' }}\n                    className={'step-device-six'}\n                  >\n                    <Casino />\n                  </Button>\n                  <Button variant=\"outlined\" style={{ marginRight: '.5rem' }} className={'step-device-five'} onClick={() => handlePlayPause()}>\n                    {virtual.active ? <Pause /> : <PlayArrow />}\n                  </Button>\n                  <Button variant=\"outlined\" className={'step-device-five'} onClick={() => handleClearEffect()}>\n                    <Clear />\n                  </Button>\n                </>\n              )}\n\n            </div>\n          </div>\n          <div className={clsx(classes.pixelbar, {\n            [classes.pixelbarOut]: fade,\n          })} style={{ transitionDuration: virtual.config.transition_time * 1000 }}>\n\n            <PixelGraph\n              virtId={virtId}\n              active={virtuals\n                && virtual\n                && effects\n                && virtual.effect\n                && virtual.effect.config}\n              dummy={!(virtuals\n                && virtual\n                && effects\n                && virtual.effect\n                && virtual.effect.config)}\n            />\n\n          </div>\n          <div style={{ height: '1rem' }} />\n          <BladeEffectDropDown\n            virtId={virtId}\n            effects={effects}\n            virtual={virtual}\n          />\n        </CardContent>\n      </Card>\n      {virtuals\n        && virtual\n        && effects\n        && virtual.effect\n        && virtual.effect.config && (\n          <Card style={{ marginTop: '1rem' }}>\n            <CardContent style={{ padding: '0 16px' }}>\n\n              <Accordion style={{ paddin: 0 }} defaultExpanded={viewMode !== 'user'}>\n                <AccordionSummary\n                  expandIcon={<ExpandMore />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                  style={{ padding: 0 }}\n                >\n                  <Typography variant={\"h5\"}>Effect Configuration</Typography>\n                </AccordionSummary>\n                <AccordionDetails style={{ padding: '0 0 8px 0' }}>\n                  <div>\n                    <BladeEffectSchemaForm\n                      virtual={virtual}\n                      effects={effects}\n                      schema={effects[effectType].schema}\n                      model={virtual.effect.config}\n                      virtual_id={virtId}\n                      selectedType={effectType}\n                    />\n                  </div>\n                </AccordionDetails>\n              </Accordion>\n            </CardContent>\n\n          </Card>\n        )}\n    </>\n  );\n};\n\nexport default EffectsCard;\n","import React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n\nimport useStore from '../../utils/apiStore';\nimport axios from 'axios';\nimport { useEditVirtualsStyles } from '../Devices/EditVirtuals/EditVirtuals.styles'\nimport { useTheme } from '@material-ui/core/styles';\nimport { Card, CardHeader, Grid, ListItemIcon, MenuItem } from '@material-ui/core';\nimport { Settings } from '@material-ui/icons';\n\nconst cloud = axios.create({\n    baseURL: 'https://strapi.yeonv.com',\n});\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst MuiMenuItem = React.forwardRef((props, ref) => {\n    return <MenuItem ref={ref} {...props} />;\n});\n\nexport default function CloudScreen({\n    virtId,\n    effectType,\n    icon = <Settings />,\n    startIcon,\n    label = '',\n    type,\n    className,\n    color = 'default',\n    variant = 'contained',\n    onClick = () => { },\n    innerKey,\n}) {\n    const classes = useEditVirtualsStyles();\n    const theme = useTheme();\n    const [open, setOpen] = React.useState(false);\n    const [cloudEffects, setCloudEffects] = useState([])\n    const setVirtualEffect = useStore((state) => state.setVirtualEffect);\n    const addPreset = useStore((state) => state.addPreset);\n    const getPresets = useStore((state) => state.getPresets);\n    const getVirtuals = useStore((state) => state.getVirtuals);\n    const virtuals = useStore((state) => state.virtuals);\n\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const refreshPresets = async () => {\n        const response = await cloud.get('presets', {\n            headers: {\n                Authorization:\n                    `Bearer ${localStorage.getItem('jwt')}`,\n            }\n        });\n        if (response.status !== 200) {\n            alert(\"No Access\")\n            return\n        }\n        const res = await response.data\n\n        const cEffects = {}\n        res.forEach(p => {\n            if (!cEffects[p.effect.Name]) {\n                cEffects[p.effect.Name] = []\n            }\n            cEffects[p.effect.Name].push(p)\n        })\n        setCloudEffects(cEffects)\n    }\n\n    useEffect(async () => {\n        refreshPresets()\n    }, [])\n\n\n\n    return (\n        <>\n            {type === 'menuItem'\n                ? <MuiMenuItem key={innerKey} className={className} onClick={(e) => { e.preventDefault(); onClick(e); handleClickOpen(e) }}>\n                    <ListItemIcon>\n                        {icon}\n                    </ListItemIcon>\n                    {label}\n                </MuiMenuItem>\n                : <Button\n                    variant={variant}\n                    startIcon={startIcon}\n                    color={color}\n                    onClick={(e) => { onClick(e); refreshPresets(); handleClickOpen(e); }}\n                    size=\"small\"\n                    className={className}\n                >\n                    {label}\n                    {!startIcon && icon}\n                </Button>\n            }\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <Button\n                            autoFocus\n                            color=\"primary\"\n                            variant=\"contained\"\n                            startIcon={<NavigateBeforeIcon />}\n                            onClick={handleClose}\n                            style={{ marginRight: '1rem' }}\n                        >\n                            back\n                        </Button>\n                        <Typography variant=\"h6\" className={classes.title}>\n                            LedFx Cloud\n                        </Typography>\n                    </Toolbar>\n                </AppBar>\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\n                    {Object.keys(cloudEffects).map((e, i) => <div key={i} style={{ order: virtuals[virtId].effect.name === e ? -1 : 1 }}>\n                        <Typography className={classes.segmentTitle} variant=\"caption\" style={{ color: virtuals[virtId].effect.name === e ? theme.palette.primary.main : theme.palette.text.primary }}>{e}</Typography>\n                        <Grid style={{ padding: 20 }} container spacing={2}>\n                            {cloudEffects[e].map((p, ind) => <Grid item key={ind}>\n                                <Card className={classes.cloudEffectCard} key={ind} onClick={() => {\n                                    setVirtualEffect(\n                                        virtId,\n                                        {\n                                            virtId: virtId,\n                                            type: effectType,\n                                            config: p.config,\n                                            active: true\n                                        }\n                                    ).then(() => addPreset(virtId, p.Name).then(() => {\n                                        getPresets(effectType)\n                                    })).then(() => getVirtuals());\n                                }}>\n                                    <CardHeader title={p.Name} subheader={`by ${p.user.username}`} />\n                                </Card>\n                            </Grid>\n                            )}\n\n                            {/* <Grid item key={\"ho\"}>\n                            <Card>\n                                <CardHeader title={\"Test Preset\"} subheader={`by Blade`} />\n                            </Card>\n\n                        </Grid> */}\n                        </Grid>\n                    </div>)\n                    }\n                </div>\n\n\n            </Dialog>\n        </>\n    )\n}\n","import { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTheme, Card, CardContent, CardActions, CardHeader, Divider, Button, Grid, Typography, TextField, Switch } from '@material-ui/core';\nimport SaveIcon from '@material-ui/icons/Save';\nimport useStore from '../../utils/apiStore';\nimport Popover from '../../components/Popover';\nimport { Add, Cloud, Share } from '@material-ui/icons';\nimport axios from 'axios';\nimport CloudScreen from './Cloud';\nimport { useLongPress } from 'use-long-press';\n\nconst cloud = axios.create({\n  baseURL: 'https://strapi.yeonv.com',\n});\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    padding: theme.spacing(2),\n  },\n  presetButton: {\n    margin: theme.spacing(0),\n    textDecoration: 'none',\n  },\n  buttonGrid: {\n    direction: 'row',\n  },\n  hint: {\n    color: theme.palette.text.disabled,\n  },\n  actions: {\n    display: 'flex',\n    flexDirection: 'row',\n    margin: theme.spacing(1),\n  },\n  deviceCard: {\n    width: '100%',\n    maxWidth: '540px',\n    '@media (max-width: 580px)': {\n      maxWidth: '97vw',\n      margin: '0 auto',\n    },\n  },\n}));\n\nconst PresetsCard = ({ virtual, effectType, presets, style }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [name, setName] = useState('');\n  const [valid, setValid] = useState(true);\n  const [sharing, setSharing] = useState(false);\n\n  const activatePreset = useStore((state) => state.activatePreset);\n  const addPreset = useStore((state) => state.addPreset);\n  const getPresets = useStore((state) => state.getPresets);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const deletePreset = useStore((state) => state.deletePreset);\n  const isLogged = useStore((state) => state.isLogged);\n\n\n  const sharePreset = async (list, preset) => {\n\n    const existing = await cloud.get(`presets?user.username=${localStorage.getItem('username')}&Name=${list[preset].name}`, {\n      headers: {\n        Authorization:\n          `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    })\n    const exists = await existing.data\n    const eff = await cloud.get(`effects?ledfx_id=${effectType}`, {\n      headers: {\n        Authorization:\n          `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    })\n    const effId = await eff.data[0].id\n    // console.log(exists, existing)\n    if (exists.length && exists.length > 0) {\n      cloud.put(`presets/${exists[0].id}`, {\n        Name: list[preset].name,\n        config: virtual.effect.config,\n        effect: effId,\n        user: localStorage.getItem('ledfx-cloud-userid')\n      }, {\n        headers: {\n          Authorization:\n            `Bearer ${localStorage.getItem('jwt')}`,\n        }\n      })\n    } else {      \n      cloud.post('presets', {\n        Name: list[preset].name,\n        config: virtual.effect.config,\n        effect: effId,\n        user: localStorage.getItem('ledfx-cloud-userid')\n      }, {\n        headers: {\n          Authorization:\n            `Bearer ${localStorage.getItem('jwt')}`,\n        }\n      })\n    }\n\n  }\n\n\n  const deleteCloudPreset = async (list, preset) => {\n    const existing = await cloud.get(`presets?user.username=${localStorage.getItem('username')}&Name=${list[preset].name}`, {\n      headers: {\n        Authorization:\n          `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    })\n    const exists = await existing.data\n    if (exists.length && exists.length > 0) {\n      cloud.delete(`presets/${exists[0].id}`, {\n        headers: {\n          Authorization:\n            `Bearer ${localStorage.getItem('jwt')}`,\n        }\n      })\n    }\n  }\n\n\n\n\n  const handleActivatePreset = (virtId, category, effectType, presetId) => () => {\n    activatePreset(virtId, category, effectType, presetId).then(() => getVirtuals());\n    setName('');\n  };\n  const renderPresetsButton = (list, CATEGORY) => {\n    if (list && !Object.keys(list)?.length) {\n      return (\n        <Button style={{ margin: '0.5rem 0 0.5rem 0.5rem' }} variant=\"outlined\" size=\"small\" className={classes.presetButton} disabled>\n          No {CATEGORY === 'default_presets' ? '' : 'Custom'} Presets\n        </Button>\n      );\n    }\n\n\n    return list && Object.keys(list).map((preset) => {\n      const longPress = useLongPress((e) => deleteCloudPreset(list, preset), {\n        onCancel: e => {\n          sharePreset(list, preset)\n        },\n        treshhold: 1000,\n        captureEvent: true,\n      });\n      return (\n        <Grid item key={preset}>\n\n          {CATEGORY !== \"default_presets\"\n            ? <>\n              <Popover\n                className={classes.presetButton}\n                color={JSON.stringify(virtual.effect.config) === JSON.stringify(list[preset].config) ? \"primary\" : \"default\"}\n                variant=\"outlined\"\n                direction=\"center\"\n                onSingleClick={handleActivatePreset(\n                  virtual.id,\n                  CATEGORY,\n                  effectType,\n                  preset,\n                )}\n                openOnLongPress={true}\n                onConfirm={handleRemovePreset(effectType, preset)}\n                startIcon={\"\"}\n                size=\"medium\"\n                noIcon={true}\n                label={list[preset].name}\n              />\n              {sharing && <Button color=\"primary\" style={{ minWidth: 'unset', padding: '4px 4px', border: '1px solid #444' }}\n                // onClick={async () => {              \n                //   const eff = await cloud.get(`effects?ledfx_id=${effectType}`, {\n                //     headers: {\n                //       Authorization:\n                //         `Bearer ${localStorage.getItem('jwt')}`,\n                //     }\n                //   })\n                //   const effId = await eff.data[0].id\n                //   cloud.post('presets', {\n                //     Name: list[preset].name,\n                //     config: virtual.effect.config,\n                //     effect: effId,\n                //     user: localStorage.getItem('ledfx-cloud-userid')\n                //   }, {\n                //     headers: {\n                //       Authorization:\n                //         `Bearer ${localStorage.getItem('jwt')}`,\n                //     }\n                //   })\n                // }} \n                {...longPress}><Share /></Button>}\n            </>\n            : <Button\n              className={classes.presetButton}\n              color={JSON.stringify(virtual.effect.config) === JSON.stringify(list[preset].config) ? \"primary\" : \"default\"}\n              variant=\"outlined\"\n              onClick={handleActivatePreset(\n                virtual.id,\n                CATEGORY,\n                effectType,\n                preset,\n              )}\n            >\n              {list[preset].name}\n            </Button>}\n\n        </Grid>\n      )\n    })\n  };\n\n  const handleAddPreset = () => {\n    addPreset(virtual.id, name).then(() => {\n      getPresets(effectType)\n    })\n    setName('')\n  };\n  const handleRemovePreset = (effectType, presetId) => () => deletePreset(effectType, presetId)\n    .then(() => {\n      getPresets(effectType)\n    });\n\n  useEffect(() => {\n    getVirtuals();\n    effectType && getPresets(effectType);\n  }, [getVirtuals, effectType])\n\n  return (\n    <Card variant=\"outlined\" className={`${classes.deviceCard} step-device-three`} style={style}>\n      <CardHeader style={{ margin: '0' }} title=\"Presets\" subheader=\"Explore different effect configurations or create your own.\" />\n      <CardContent className={classes.content}>\n        {/* <Divider style={{ margin: '0 0 0.25rem 0' }} />\n        <Typography style={{ marginLeft: '1rem', fontVariant: 'all-small-caps', color: theme.palette.text.disabled }} variant=\"h6\">\n          Default Presets\n        </Typography>\n        <Divider style={{ margin: '0.25rem 0 1rem 0' }} /> */}\n        <Grid spacing={2} container className={classes.buttonGrid}>\n          {renderPresetsButton(presets?.default_presets, 'default_presets')}\n        </Grid>\n        <Divider style={{ margin: '1rem 0' }} />\n        {/* <Divider style={{ margin: '1rem 0 0.25rem 0' }} />\n        <Typography style={{ marginLeft: '1rem', fontVariant: 'all-small-caps', color: theme.palette.text.disabled }} variant=\"h6\">\n          Custom Presets\n        </Typography>\n        <Divider style={{ margin: '0.25rem 0 1rem 0' }} /> */}\n        <Grid spacing={2} container className={classes.buttonGrid}>\n          {renderPresetsButton(presets?.custom_presets, 'custom_presets')}\n          <Grid item>\n            <Popover\n              className={classes.presetButton}\n              popoverStyle={{ padding: '0.5rem' }}\n              color={\"default\"}\n              variant=\"outlined\"\n              direction=\"center\"\n              onSingleClick={() => { console.log(\"hi\") }}\n              content={<TextField\n                onKeyDown={e => (e.key == 'Enter') && handleAddPreset(e)}\n                error={presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)}\n                size=\"small\"\n                variant=\"outlined\"\n                id=\"presetNameInput\"\n                label={\n                  presets[\"default_presets\"] &&\n                    (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)\n                    ? \"Default presets are readonly\"\n                    : presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(name) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === name).length > 0)\n                      ? \"Preset already exsisting\"\n                      : \"Add Custom Preset\"}\n                style={{ marginRight: '1rem', flex: 1 }}\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value)\n                  presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(e.target.value) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === e.target.value).length > 0)\n                    ? setValid(false)\n                    : setValid(true)\n                }}\n              />}\n              footer={<div style={{ margin: '0 0 0.5rem 1rem' }}>\n                <Typography variant=\"body2\" className={classes.hint}>\n                  Save the current effect configuration as a new preset.\n                </Typography>\n              </div>}\n              confirmDisabled={name.length === 0 || presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0) || !valid}\n              onConfirm={handleAddPreset}\n              startIcon={\"\"}\n              size=\"medium\"\n              icon={<Add />}\n            />\n          </Grid>\n        </Grid>\n      </CardContent>\n      <CardActions >\n        <div style={{ flexDirection: 'column', flex: 1 }}>\n          {/* <div className={classes.actions}>\n            <TextField\n              onKeyDown={e => (e.key == 'Enter') && handleAddPreset(e)}\n              error={presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)}\n              size=\"small\"\n              variant=\"outlined\"\n              id=\"presetNameInput\"\n              label={\n                presets[\"default_presets\"] &&\n                  (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)\n                  ? \"Default presets are readonly\"\n                  : presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(name) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === name).length > 0)\n                    ? \"Update Custom Preset\"\n                    : \"Add Custom Preset\"}\n              style={{ marginRight: '1rem', flex: 1 }}\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value)\n                presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(e.target.value) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === e.target.value).length > 0)\n                  ? setValid(false)\n                  : setValid(true)\n              }}\n            />\n            <Button\n              className={classes.presetButton}\n              color=\"secondary\"\n              aria-label=\"Save\"\n              disabled={name.length === 0 || presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)}\n              variant=\"contained\"\n              onClick={handleAddPreset}\n              endIcon={<SaveIcon />}\n            >\n              {valid ? \"Save\" : \"Update\"}\n            </Button>\n          </div> */}\n          <div style={{ marginLeft: '0.5rem' }}>\n            <Typography variant=\"body2\" className={classes.hint}>\n              Long-Press to delete a preset.\n            </Typography>\n            {!!localStorage.getItem('jwt') && isLogged && <>\n              <CloudScreen virtId={virtual.id} effectType={effectType} variant=\"outlined\" label=\"Get more...\" startIcon={<Cloud />} />\n              {localStorage.getItem('ledfx-cloud-role') === 'creator' && <>\n                <Switch checked={sharing} onChange={(e) => setSharing(e.target.checked)} />\n                Share\n              </>\n              }\n            </>\n            }\n          </div>\n        </div>\n      </CardActions>\n\n    </Card>\n  );\n};\n\nexport default PresetsCard;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Slider from '@material-ui/core/Slider';\nimport useStore from '../../utils/apiStore';\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: '100%',\n    padding: theme.spacing(2),\n    paddingBottom: 0,\n  },\n  formControl: {\n    marginRight: theme.spacing(3),\n    flex: 1,\n  },\n  card: { width: '100%', maxWidth: '540px' },\n}));\n\nconst TransitionCard = ({ virtual, style }) => {\n  const classes = useStyles();\n  const schemas = useStore((state) => state.schemas.virtuals && state.schemas.virtuals.schema.properties);\n  const addVirtual = useStore((state) => state.addVirtual);\n  const transition_mode = virtual && virtual.config && virtual.config.transition_mode;\n  const transition_time = virtual && virtual.config && virtual.config.transition_time;\n  \n  const handleSetTransition = (virtId, config) => addVirtual({\n      \"id\": virtId, \"config\": config\n  });\n\n  const onSliderChange = (e, newValue) => handleSetTransition(virtual.id, {\n    transition_time: newValue,\n  });\n\n  const marks = [\n    {\n      value: schemas?.transition_time.minimum,\n      label: `${schemas?.transition_time.minimum}s`,\n    },\n    {\n      value: schemas?.transition_time.maximum,\n      label: `${schemas?.transition_time.maximum}s`,\n    },\n  ];\n\n  return (\n    <Card variant=\"outlined\" className={`${classes.card} step-device-two`} style={style}>\n      <CardHeader title=\"Transitions\" subheader=\"Seamlessly blend between effects\" />\n      <CardContent className={classes.content}>\n        <FormControl className={classes.formControl}>\n          <BladeFrame title=\"Duration\">\n          <Slider\n            defaultValue={transition_time || schemas?.transition_time.default}\n            onChangeCommitted={onSliderChange}\n            aria-labelledby=\"discrete-slider\"\n            step={0.1}\n            min={schemas?.transition_time.minimum}\n            max={schemas?.transition_time.maximum}\n            marks={marks}\n            valueLabelDisplay=\"auto\"\n          />\n          </BladeFrame>\n        </FormControl>\n        <BladeFrame title=\"Mode\" style={{ flexGrow: 0, flexBasis: '180px', minWidth: '180px', minHeight: '72px' }}>\n        <Select\n            defaultValue={transition_mode || schemas?.transition_mode.default}\n            onChange={(e) => {\n              handleSetTransition(virtual.id, { transition_mode: e.target.value });\n            }}\n          >\n            {schemas?.transition_mode.enum.map((mode, i) => <MenuItem key={i} value={mode}>{mode}</MenuItem>)}\n          </Select>\n        </BladeFrame>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default TransitionCard;\n","import { makeStyles } from '@material-ui/core/styles';\nimport { useState } from 'react';\nimport useStore from \"../../utils/apiStore\";\nimport Slider from '@material-ui/core/Slider';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { InputAdornment, TextField } from '@material-ui/core';\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\n\nconst log13 = (x) => Math.log(x) / Math.log(13);\nconst logIt = (x) => 3700.0 * log13(1 + x / 200.0);\nconst hzIt = (x) => 200.0 * 13 ** (x / 3700.0) - 200.0;\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    padding: theme.spacing(2),\n    paddingBottom: 0,\n  },\n  formControl: {\n    marginRight: theme.spacing(3),\n  },\n  card: {\n    width: '100%',\n    maxWidth: '540px',\n    '@media (max-width: 580px)': {\n      maxWidth: '97vw',\n      margin: '0 auto',\n    },\n  },\n}));\n\n\nconst FrequenciesCard = ({ virtual, style }) => {\n  const classes = useStyles();\n  const addVirtual = useStore((state) => state.addVirtual);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const config = useStore((state) => state.config);\n\n  const [value, setValue] = useState([logIt(virtual.config.frequency_min), logIt(virtual.config.frequency_max)]);\n\n  const freq_max = config.melbanks?.max_frequencies.map(f => ({\n    value: f,\n    label: `${f > 1000 ? `${f / 1000}kHz` : `${f}Hz`}`,\n  }));\n\n  const freq_min = {\n    value: config.melbanks?.min_frequency,\n    label: `${config.melbanks?.min_frequency > 1000 ? `${config.melbanks?.min_frequency / 1000}kHz` : `${config.melbanks?.min_frequency}Hz`}`,\n  }\n  const marks = freq_max && [freq_min, ...freq_max]\n\n  const convertedMarks = marks?.map((m) => ({\n    value: logIt(m.value),\n    label: m.label,\n  }));\n\n  const handleChange = (event, newValue) => {\n    const copy = [...newValue];\n    convertedMarks.forEach((m, i) => {\n      if (Math.abs(newValue[0] - m.value) < 100) {\n        copy[0] = m.value;\n      }\n      if (Math.abs(newValue[1] - m.value) < 100) {\n        copy[1] = m.value;\n      }\n    });\n    setValue(copy);\n  };\n\n  return (\n    <Card variant=\"outlined\" className={`${classes.card} step-device-four`} style={style}>\n      <CardHeader\n        title=\"Frequencies\"\n        subheader=\"Adjust the audio range used for this strip\"\n      />\n      <CardContent className={classes.content}>\n        <div style={{ width: '100%' }}>\n          <BladeFrame title=\"Range\" style={{padding: '16px 2rem 6px 2rem', marginBottom: '1rem'}}>\n          <Slider\n            value={[value[0], value[1]]}\n            aria-labelledby=\"discrete-slider-custom\"\n            step={0.001}\n            valueLabelDisplay=\"auto\"\n            marks={convertedMarks}\n            min={logIt(config.melbanks?.min_frequency)}\n            max={logIt(config.melbanks?.max_frequencies[config.melbanks?.max_frequencies.length - 1])}\n            onChange={handleChange}\n            ValueLabelComponent={ValueLabelComponent}\n            onChangeCommitted={(e, val) => {\n              // Backend cannot do partial updates yet, sending whole config\n              addVirtual({\n                id: virtual.id,\n                config: {\n                  ...virtual.config,\n                  frequency_min: Math.round(hzIt(value[0])),\n                  frequency_max: Math.round(hzIt(value[1]))\n                }\n              }).then(() => getVirtuals())\n            }}\n          />\n          </BladeFrame>\n          <div\n            style={{\n              width: '100%',\n              display: 'flex',\n              justifyContent: 'space-between',\n            }}\n          >\n            <div style={{ maxWidth: '120px' }}>\n              <TextField\n                id=\"min\"\n                label=\"Min\"\n                type=\"number\"\n                InputLabelProps={{\n                  shrink: true,\n                }}\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"end\">Hz</InputAdornment>\n                }}\n                inputProps={{\n                  style: { textAlign: 'right', }\n                }}\n                value={Math.round(hzIt(value[0])) < 5 ? value[0] : Math.round(hzIt(value[0]))}\n                variant=\"outlined\"\n                onChange={(e, n) => {\n                  setValue([logIt(e.target.value), value[1]]);\n                }}\n              />\n            </div>\n            <div style={{ maxWidth: '120px' }}>\n              <TextField\n                id=\"max\"\n                label=\"Max\"\n                type=\"number\"\n\n                value={Math.round(hzIt(value[1])) > 20001 ? value[1] : Math.round(hzIt(value[1]))}\n                onChange={(e, n) => {\n                  setValue([value[0], logIt(e.target.value)]);\n                }}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"end\">Hz</InputAdornment>\n                }}\n                variant=\"outlined\"\n              />\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nfunction ValueLabelComponent(props) {\n  const { children, open, value } = props;\n\n  return (\n    <Tooltip\n      open={open}\n      enterTouchDelay={0}\n      placement=\"top\"\n      title={`${Math.round(hzIt(value))} Hz`}\n    >\n      {children}\n    </Tooltip>\n  );\n}\n\nexport default FrequenciesCard;\n","import { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core/';\nimport useStore from '../../utils/apiStore';\nimport EffectsCard from './Effects';\nimport PresetsCard from './Presets';\nimport TransitionCard from './Transition';\nimport MelbankCard from './Frequencies';\n\nconst useStyles = makeStyles((theme) => ({\n  virtualWrapper: {\n    justifyContent: 'center',\n  },\n  girdItem: { flexShrink: 0, flexGrow: 1, maxWidth: '540px', width: '100%' },\n}));\n\nconst Device = ({\n  match: {\n    params: { virtId },\n  },\n}) => {\n  const classes = useStyles();\n\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const getPresets = useStore((state) => state.getPresets);\n  const getSchemas = useStore((state) => state.getSchemas);\n\n  const virtuals = useStore((state) => state.virtuals);\n  const presets = useStore((state) => state.presets);\n  const viewMode = useStore((state) => state.viewMode);\n\n  const virtual = virtuals[virtId];\n  const effectType = virtual && virtual.effect.type;\n\n  useEffect(() => {\n    getVirtuals();\n    getSchemas();\n    effectType && getPresets(effectType);\n  }, [getVirtuals, getSchemas, getPresets, effectType]);\n\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      spacing={2}\n      className={classes.virtualWrapper}\n    >\n      {virtual && (\n        <>\n          <Grid item className={classes.girdItem}>\n            <EffectsCard virtId={virtId} />\n\n          </Grid>\n\n          <Grid item className={classes.girdItem}>\n            {effectType && presets && (\n              <PresetsCard\n                virtual={virtual}\n                presets={presets}\n                effectType={effectType}\n                style={{ marginBottom: '1rem' }}\n              />\n            )}\n            {viewMode === 'expert' && <TransitionCard virtual={virtual} style={{ marginTop: '1rem' }} />}\n            {viewMode === 'expert' && <MelbankCard virtual={virtual} style={{ marginTop: '1rem' }} />}\n          </Grid>\n        </>\n      )}\n    </Grid>\n  );\n};\n\nexport default Device;\n","import { useState } from 'react';\nimport useStore from '../../utils/apiStore';\nimport { Link, TextField, Dialog, DialogActions, DialogContent, DialogTitle, Button, Typography } from '@material-ui/core';\n\nconst AddSceneDialog = () => {  \n  const [name, setName] = useState('');\n  const [image, setImage] = useState('');\n  const [overwrite, setOverwrite] = useState(false)\n\n  const addScene = useStore((state) => state.addScene);\n  const getScenes = useStore((state) => state.getScenes);\n  const scenes = useStore((state) => state.scenes);\n  const open = useStore((state) => state.dialogs.addScene?.open || false);\n  const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\n\n  const handleClose = () => {\n    setDialogOpenAddScene(false);\n  };\n  const handleAddScene = (e) => {\n\n    addScene({ name, scene_image: image }).then(() => {\n      getScenes();\n    });\n    setName('');\n    setImage('');\n    setDialogOpenAddScene(false);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n    <DialogTitle id=\"form-dialog-title\">Add Scene</DialogTitle>\n    <DialogContent>\n        Image is optional and can be one of:\n        <ul style={{ paddingLeft: '1rem' }}>\n        <li>iconName <Link href=\"https://material-ui.com/components/material-icons/\">Find MUI icons here</Link>        \n        <Typography color=\"textSecondary\" variant=\"subtitle1\"><em>eg. flare, AccessAlarms</em></Typography></li>\n        <li>mdi:icon-name <Link href=\"https://materialdesignicons.com\">Find Material Design icons here</Link>\n        <Typography color=\"textSecondary\" variant=\"subtitle1\"><em>eg. mdi:balloon, mdi:led-strip-variant</em></Typography></li>\n        <li>image:custom-url\n        <Typography color=\"textSecondary\" variant=\"subtitle1\" style={{ wordBreak: 'break-all'}}><em>eg. image:https://i.ytimg.com/vi/4G2unzNoOnY/maxresdefault.jpg</em></Typography></li>\n        </ul>\n      \n      <TextField\n        autoFocus\n        margin=\"dense\"\n        id=\"name\"\n        label=\"Name\"\n        type=\"text\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n        onBlur={(e) => {          \n          setOverwrite(Object.keys(scenes).indexOf(e.target.value.toLowerCase()) > -1)\n        }}\n        error={overwrite}\n        helperText={overwrite && \"Scene already existing!\"}\n        required\n        fullWidth\n      />\n      <TextField\n        margin=\"dense\"\n        id=\"scene_image\"\n        label=\"Image\"\n        type=\"text\"\n        value={image}\n        onChange={(e) => setImage(e.target.value)}\n        fullWidth\n      />\n    </DialogContent>\n    <DialogActions>\n      <Button onClick={handleClose}>\n        Cancel\n      </Button>\n      <Button onClick={handleAddScene}>\n      {overwrite ? 'Overwrite' : 'Add'}\n      </Button>\n    </DialogActions>\n  </Dialog>\n  )\n}\n\nexport default AddSceneDialog\n","import { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Select, MenuItem, Button, Divider } from \"@material-ui/core\";\nimport useStore from \"../../utils/apiStore\";\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    minWidth: \"200px\",\n    padding: \"16px 1.2rem 6px 1.2rem\",\n    border: \"1px solid #999\",\n    borderRadius: \"10px\",\n    position: \"relative\",\n    margin: \"1rem 0\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"@media (max-width: 580px)\": {\n      width: \"100%\",\n      margin: \"0.5rem 0\",\n    },\n    \"& > label\": {\n      top: \"-0.7rem\",\n      display: \"flex\",\n      alignItems: \"center\",\n      left: \"1rem\",\n      padding: \"0 0.3rem\",\n      position: \"absolute\",\n      fontVariant: \"all-small-caps\",\n      fontSize: '0.9rem',\n      letterSpacing: '0.1rem',\n      backgroundColor: theme.palette.background.paper,\n      boxSizing: \"border-box\",\n    },\n  },\n}));\n\nconst AddDeviceDialog = () => {\n  const classes = useStyles();\n\n  const getDevices = useStore((state) => state.getDevices);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const addDevice = useStore((state) => state.addDevice);\n  const updateDevice = useStore((state) => state.updateDevice);\n  const devices = useStore((state) => state.devices);\n  const open = useStore((state) => state.dialogs.addDevice?.open || false);\n  const deviceId = useStore((state) => state.dialogs.addDevice?.edit || false);\n  const initial = devices[deviceId] || { type: \"\", config: {} };\n\n  const setDialogOpenAddDevice = useStore(\n    (state) => state.setDialogOpenAddDevice\n  );\n\n  const deviceTypes = useStore((state) => state.schemas?.devices);\n  const showSnackbar = useStore((state) => state.showSnackbar);\n  const [deviceType, setDeviceType] = useState(\"\");\n  const [model, setModel] = useState({});\n\n  const currentSchema = deviceType ? deviceTypes[deviceType].schema : {};\n\n  const handleClose = () => {\n    setDialogOpenAddDevice(false);\n  };\n  const handleAddDevice = (e) => {\n    const cleanedModel = Object.fromEntries(\n      Object.entries(model).filter(([_, v]) => v !== \"\")\n    );\n    const defaultModel = {};\n\n    for (const key in currentSchema.properties) {\n      currentSchema.properties[key].default !== undefined\n        ? (defaultModel[key] = currentSchema.properties[key].default)\n        : undefined;\n    }\n\n    const valid = currentSchema.required.every((val) =>\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\n    );\n\n    if (!valid) {\n      showSnackbar({\n        message: \"Please fill in all required fields.\",\n        messageType: \"warning\",\n      });\n    } else {\n      if (\n        initial.config &&\n        Object.keys(initial.config).length === 0 &&\n        initial.config.constructor === Object\n      ) {\n        // console.log(\"ADDING\");\n        addDevice({\n          type: deviceType,\n          config: { ...defaultModel, ...cleanedModel },\n        }).then((res) => {\n          if (res !== \"failed\") {\n            setDialogOpenAddDevice(false);\n            getDevices();\n            getVirtuals();\n          } else {\n          }\n        });\n      } else {\n        // console.log(\"EDITING\");\n        updateDevice(deviceId, {\n          type: deviceType,\n          config: { ...model },\n        }).then((res) => {\n          if (res !== \"failed\") {\n            setDialogOpenAddDevice(false);\n            getDevices();\n            getVirtuals();\n          } else {\n          }\n        });\n      }\n    }\n  };\n  const handleTypeChange = (value, initial = {}) => {\n    setDeviceType(value);\n    setModel(initial);\n  };\n  const handleModelChange = (config) => {\n    setModel({ ...model, ...config });\n  };\n\n  useEffect(() => {\n    handleTypeChange(initial.type, initial.config);\n  }, [initial.type]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">\n        {initial.config &&\n        Object.keys(initial.config).length === 0 &&\n        initial.config.constructor === Object\n          ? `Add ${deviceType.toUpperCase()} Device`\n          : `${deviceType.toUpperCase()} Config`}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          To add a device to LedFx, please first select the type of device you\n          wish to add then provide the necessary configuration.\n        </DialogContentText>\n        <div className={classes.wrapper}>\n          <label>Device Type</label>\n          <Select\n            label=\"Type\"\n            style={{ flexGrow: 1 }}\n            disableUnderline\n            value={deviceType}\n            onChange={(e) => handleTypeChange(e.target.value)}\n          >\n            {deviceTypes &&\n              Object.keys(deviceTypes).map((item, i) => (\n                <MenuItem key={i} value={item}>\n                  {item}\n                </MenuItem>\n              ))}\n          </Select>\n        </div>\n        <Divider style={{ marginBottom: \"1rem\" }} />\n        {model && (\n          <BladeSchemaForm\n            schema={currentSchema}\n            model={model}\n            onModelChange={handleModelChange}\n          />\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleAddDevice} color=\"primary\">\n          {initial.config &&\n          Object.keys(initial.config).length === 0 &&\n          initial.config.constructor === Object\n            ? \"Add\"\n            : \"Save\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddDeviceDialog;\n","import { useState, useEffect } from \"react\";\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Button } from \"@material-ui/core\";\nimport useStore from \"../../utils/apiStore\";\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\n\nconst AddVirtualDialog = () => {\n  const addVirtual = useStore((state) => state.addVirtual);\n  const getDevices = useStore((state) => state.getDevices);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const virtuals = useStore((state) => state.virtuals);\n\n  const open = useStore((state) => state.dialogs.addVirtual?.open || false);\n  const virtId = useStore(\n    (state) => state.dialogs.addVirtual?.edit || false\n  );\n  const initial = virtuals[virtId] || { type: \"\", config: {} };\n\n  const setDialogOpenAddVirtual = useStore(\n    (state) => state.setDialogOpenAddVirtual\n  );\n\n  const virtualsSchemas = useStore((state) => state.schemas?.virtuals);\n  const showSnackbar = useStore((state) => state.showSnackbar);\n  const [model, setModel] = useState({});\n\n  const currentSchema = (virtualsSchemas && virtualsSchemas.schema) || {};\n\n  const handleClose = () => {\n    setDialogOpenAddVirtual(false);\n    setModel({});\n  };\n  const handleAddVirtual = (e) => {\n    const cleanedModel = Object.fromEntries(\n      Object.entries(model).filter(([_, v]) => v !== \"\")\n    );\n    const defaultModel = {};\n\n    for (const key in currentSchema.properties) {\n      currentSchema.properties[key].default !== undefined\n        ? (defaultModel[key] = currentSchema.properties[key].default)\n        : undefined;\n    }\n\n    const valid = currentSchema.required.every((val) =>\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\n    );\n\n    if (!valid) {\n      showSnackbar({\n        message: \"Please fill in all required fields.\",\n        messageType: \"warning\",\n      });\n    } else {\n      if (\n        initial.config &&\n        Object.keys(initial.config).length === 0 &&\n        initial.config.constructor === Object\n      ) {\n        console.log(\"ADDING\");\n        addVirtual({\n          config: { ...defaultModel, ...cleanedModel },\n        }).then((res) => {\n          console.log(res);\n          if (res !== \"failed\") {\n            setDialogOpenAddVirtual(false);\n            getDevices();\n            getVirtuals();\n          } else {\n          }\n        });\n      } else {\n        console.log(\"EDITING\");\n        addVirtual({\n          id: virtId,\n          config: { ...model },\n        }).then((res) => {\n          console.log(res);\n          if (res !== \"failed\") {\n            setDialogOpenAddVirtual(false);\n            getDevices();\n            getVirtuals();\n          } else {\n          }\n        });\n      }\n    }\n  };\n\n  const handleModelChange = (config) => {\n    setModel({ ...model, ...config });\n  };\n\n  useEffect(() => {\n    handleModelChange(initial.config);\n  }, [virtId]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">\n        {initial.config &&\n        Object.keys(initial.config).length === 0 &&\n        initial.config.constructor === Object\n          ? \"Add Virtual Device\"\n          : \"Settings\"}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          With Virtuals, you can split devices into segments and merge several\n          segments over several devices into one Virtual-Device.\n        </DialogContentText>\n\n        <BladeSchemaForm\n          schema={currentSchema}\n          model={model}\n          onModelChange={handleModelChange}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleAddVirtual} color=\"primary\">\n          {initial.config &&\n          Object.keys(initial.config).length === 0 &&\n          initial.config.constructor === Object\n            ? \"Add\"\n            : \"Save\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddVirtualDialog;\n","import { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Button, MenuItem, Select, DialogTitle, DialogContentText, DialogContent, DialogActions, Dialog, Divider } from \"@material-ui/core\";\nimport useStore from \"../../utils/apiStore\";\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    minWidth: \"200px\",\n    padding: \"16px 1.2rem 6px 1.2rem\",\n    border: \"1px solid #999\",\n    borderRadius: \"10px\",\n    position: \"relative\",\n    margin: \"1rem 0\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"@media (max-width: 580px)\": {\n      width: \"100%\",\n      margin: \"0.5rem 0\",\n    },\n    \"& > label\": {\n      top: \"-0.7rem\",\n      display: \"flex\",\n      alignItems: \"center\",\n      left: \"1rem\",\n      padding: \"0 0.3rem\",\n      position: \"absolute\",\n      fontVariant: \"all-small-caps\",\n      fontSize: '0.9rem',\n      letterSpacing: '0.1rem',\n      backgroundColor: theme.palette.background.paper,\n      boxSizing: \"border-box\",\n    },\n  },\n}));\n\nconst AddIntegrationDialog = () => {\n  const classes = useStyles();\n\n  const getIntegrations = useStore((state) => state.getIntegrations);\n\n  const addIntegration = useStore((state) => state.addIntegration);\n  const updateIntegration = useStore((state) => state.updateIntegration);\n  const integrations = useStore((state) => state.integrations);\n  \n  const open = useStore((state) => state.dialogs.addIntegration?.open || false);\n  \n  const integrationId = useStore((state) => state.dialogs.addIntegration?.edit || false);\n  const initial = integrations[integrationId] || { type: \"\", config: {} };\n\n  const setDialogOpenAddIntegration = useStore(\n    (state) => state.setDialogOpenAddIntegration\n  );\n\n  const integrationsTypes = useStore((state) => state.schemas?.integrations);\n  const showSnackbar = useStore((state) => state.showSnackbar);\n  const [integrationType, setIntegrationType] = useState(\"\");\n  const [model, setModel] = useState({});\n\n  const currentSchema = integrationType ? integrationsTypes[integrationType].schema : {};\n\n  const handleClose = () => {\n    setDialogOpenAddIntegration(false);\n  };\n  const handleAddDevice = (e) => {\n    const cleanedModel = Object.fromEntries(\n      Object.entries(model).filter(([_, v]) => v !== \"\")\n    );\n    const defaultModel = {};\n\n    for (const key in currentSchema.properties) {\n      currentSchema.properties[key].default !== undefined\n        ? (defaultModel[key] = currentSchema.properties[key].default)\n        : undefined;\n    }\n\n    const valid = currentSchema.required.every((val) =>\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\n    );\n\n    if (!valid) {\n      showSnackbar({\n        message: \"Please fill in all required fields.\",\n        messageType: \"warning\",\n      });\n    } else {\n      if (\n        initial.config &&\n        Object.keys(initial.config).length === 0 &&\n        initial.config.constructor === Object\n      ) {\n        // console.log(\"ADDING\");\n        addIntegration({\n          type: integrationType,\n          config: { ...defaultModel, ...cleanedModel },\n        }).then((res) => {\n          if (res !== \"failed\") {\n            setDialogOpenAddIntegration(false);\n            getIntegrations();\n          } else {\n          }\n        });\n      } else {\n        // console.log(\"EDITING\");\n        updateIntegration({\n          id: integrationId,\n          type: integrationType,\n          config: { ...model },\n        }).then((res) => {\n          if (res !== \"failed\") {\n            setDialogOpenAddIntegration(false);\n            getIntegrations();\n          } else {\n          }\n        });\n      }\n    }\n  };\n  const handleTypeChange = (value, initial = {}) => {\n    setIntegrationType(value);\n    setModel(initial);\n  };\n  const handleModelChange = (config) => {\n    setModel({ ...model, ...config });\n  };\n\n  useEffect(() => {\n    handleTypeChange(initial.type, initial.config);\n  }, [initial.type]);\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">\n        {initial.config &&\n        Object.keys(initial.config).length === 0 &&\n        initial.config.constructor === Object\n          ? \"Add\"\n          : \"Edit\"}{\" \"}\n        {integrationType.toUpperCase()} Integration\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          To add an interation to LedFx, please first select the type of integration you\n          wish to add then provide the necessary configuration.\n        </DialogContentText>\n        <div className={classes.wrapper}>\n          <label>Integration Type</label>\n          <Select\n            label=\"Type\"\n            style={{ flexGrow: 1 }}\n            disableUnderline\n            value={integrationType}\n            onChange={(e) => handleTypeChange(e.target.value)}\n          >\n            {integrationsTypes &&\n              Object.keys(integrationsTypes).map((item, i) => (\n                <MenuItem key={i} value={item} disabled={item !== \"mqtt_hass\"}>\n                  {item}\n                </MenuItem>\n              ))}\n          </Select>\n        </div>\n        <Divider style={{ marginBottom: \"1rem\" }} />\n        {model && (\n          <BladeSchemaForm\n            schema={currentSchema}\n            model={model}\n            onModelChange={handleModelChange}\n          />\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Cancel\n        </Button>\n        <Button onClick={handleAddDevice} color=\"primary\">\n          {initial.config &&\n          Object.keys(initial.config).length === 0 &&\n          initial.config.constructor === Object\n            ? \"Add\"\n            : \"Save\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddIntegrationDialog;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Language } from '@material-ui/icons';\n\nexport default function ChangeSpotifyURLDialog({ style, spotifyURL, setSpotifyURL }) {\n    const [open, setOpen] = React.useState(false);\n    const [url, setUrl] = React.useState(spotifyURL);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = (e) => {\n        setOpen(false);\n    };\n    const handleSave = (e) => {\n        console.log(url)\n        setSpotifyURL(url)\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <IconButton onClick={handleClickOpen} style={style}>\n                <Language />\n            </IconButton>\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Spotify URL</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Right-click a Playlist/Track/... in spotify and select share,\n                        copy link and paste it here\n                    </DialogContentText>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"url\"\n                        label=\"URL\"\n                        type=\"text\"\n                        value={url}\n                        onChange={(e) => setUrl(e.target.value)}\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleSave} color=\"primary\">\n                        Change\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import useStore from '../../../utils/apiStore';\nimport { Fab, IconButton } from '@material-ui/core';\nimport { QueueMusic } from '@material-ui/icons';\nimport ChangeSpotifyURLDialog from './ChangeSpotifyURLDialog';\nimport BladeIcon from '../../Icons/BladeIcon';\n\nconst SpotifyWidget = ({\n  spotifyEnabled,\n  setSpotifyEnabled,\n  spotifyExpanded,\n  setSpotifyExpanded\n}) => {\n\n  const spotifyURL = useStore((state) => state.spotifyEmbedUrl);\n  const setSpotifyURL = useStore((state) => state.setSpotifyEmbedUrl);\n\n  return (\n    <>\n      <Fab size=\"small\" color=\"secondary\" onClick={() => setSpotifyEnabled(!spotifyEnabled)} style={{ position: 'fixed', bottom: spotifyEnabled ? spotifyExpanded ? 363 : 143 : 65, right: 10, zIndex: 4 }} >\n        <BladeIcon name=\"mdi:spotify\" style={{\n          marginLeft: '50%',\n          marginTop: '50%',\n          transform: 'translate(-43%, -43%)'\n\n        }} />\n      </Fab>\n      {spotifyEnabled && <>\n        <div style={{ position: 'fixed', display: 'flex', bottom: spotifyExpanded ? 258 : 38, right: 36, zIndex: 2 }}>\n          <ChangeSpotifyURLDialog spotifyURL={spotifyURL} setSpotifyURL={setSpotifyURL} />\n          <IconButton onClick={() => setSpotifyExpanded(!spotifyExpanded)} >\n            <QueueMusic />\n          </IconButton>\n        </div>\n        <iframe src={`${spotifyURL.split('?')[0].replace('.com/embed/', '.com/').replace('.com/', '.com/embed/')}?theme=0`} width=\"100%\" height={spotifyEnabled ? spotifyExpanded ? 300 : 80 : 0} style={{ position: 'fixed', bottom: 0, left: 0 }} frameBorder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\n      </>}\n    </>\n  )\n}\n\nexport default SpotifyWidget\n","import React from 'react';\nimport useStore from '../utils/apiStore';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Fab, Icon, Menu, MenuItem, ListItemIcon, ListItemText } from '@material-ui/core';\nimport { Add, Send, Wallpaper, SettingsInputComponent, SettingsInputSvideo } from '@material-ui/icons';\n\nconst MenuLine = React.forwardRef(({\n    icon = <Send fontSize=\"small\" />,\n    name = 'MenuItem',\n    action\n}, ref) => <MenuItem onClick={action} ref={ref}>\n        <ListItemIcon>\n            {icon}\n        </ListItemIcon>\n        <ListItemText primary={name} />\n    </MenuItem>)\n\nconst StyledMenu = withStyles({\n    paper: {\n        border: '1px solid rgba(255, 255, 255, 0.12)',\n        transform: 'translateY(-1rem) !important'\n    },\n})((props) => (\n    <Menu\n        elevation={0}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n        }}\n        transformOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n        }}\n        {...props}\n    />\n));\n\nconst AddButton = ({ className, style, setBackdrop }) => {\n    const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\n    const setDialogOpenAddDevice = useStore((state) => state.setDialogOpenAddDevice);\n    const setDialogOpenAddVirtual = useStore((state) => state.setDialogOpenAddVirtual);\n    const setDialogOpenAddIntegration = useStore((state) => state.setDialogOpenAddIntegration);\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n        setBackdrop(true)\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n        setBackdrop(false)\n    };\n\n    const menuitems = [\n        { icon: <SettingsInputComponent />, name: 'Add Device', action: () => { setDialogOpenAddDevice(true); handleClose(); } },\n        { icon: <Icon><span className={'mdi mdi-led-strip-variant'} style={{ position: 'relative', display: 'flex' }} /></Icon>, name: 'Add Virtual', action: () => { setDialogOpenAddVirtual(true); handleClose(); } },\n        { icon: <Wallpaper />, name: 'Add Scene', action: () => { setDialogOpenAddScene(true); handleClose(); } },\n    ];\n\n    if (parseInt(window.localStorage.getItem('BladeMod')) > 10) {\n        menuitems.push({ icon: <SettingsInputSvideo />, name: 'Add Integration', action: () => { setDialogOpenAddIntegration(true); handleClose(); } })\n    }\n\n    return (\n        <div className={className} style={{zIndex: 5, ...style}}>\n            <Fab color=\"primary\" aria-label=\"add\" onClick={handleClick}>\n                <Add />\n            </Fab>\n            <StyledMenu\n                id=\"customized-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                {menuitems.map((menuitem) => (\n                    <MenuLine\n                        key={menuitem.name}\n                        name={menuitem.name}\n                        icon={menuitem.icon}\n                        action={menuitem.action}\n                    />\n                ))}\n            </StyledMenu>\n        </div>\n    );\n}\n\nexport default AddButton","import { makeStyles } from '@material-ui/core/styles';\nimport { drawerWidth } from '../../utils/helpers';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    position: 'fixed',\n    bottom: 0,\n    zIndex: 4,\n    boxShadow: '0px -10px 30px 25px #030303',\n    background: theme.palette.background.light,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  rootShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  addButton: {\n    position: 'fixed',\n    marginLeft: 0,\n    left: '50%',\n    transform: 'translateX(-50%)',    \n    transition: theme.transitions.create(['margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2) + 25,\n    },\n    '& > button.MuiFab-primary': {\n      backgroundColor: theme.palette.secondary.main,\n    },\n    '& .MuiSpeedDialAction-staticTooltipLabel': {\n      backgroundColor: 'transparent',\n      marginLeft: '-1rem'\n    },\n  },\n  addButtonShift: {\n    marginLeft: drawerWidth / 2,\n    transition: theme.transitions.create(['margin'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n}));\nexport default useStyles;","import { useState, useEffect } from 'react';\nimport { BottomNavigation, BottomNavigationAction, Backdrop } from '@material-ui/core';\nimport { Settings, Home, Wallpaper, SettingsInputSvideo, SettingsInputComponent } from '@material-ui/icons';\nimport { useLocation, Link } from 'react-router-dom';\nimport useStore from '../../utils/apiStore';\nimport clsx from 'clsx';\nimport AddSceneDialog from '../Dialogs/AddSceneDialog';\nimport AddDeviceDialog from '../Dialogs/AddDeviceDialog';\nimport AddVirtualDialog from '../Dialogs/AddVirtualDialog';\nimport AddIntegrationDialog from '../Dialogs/AddIntegrationDialog';\nimport SpotifyWidget from '../Integrations/Spotify/SpotifyWidget';\nimport AddButton from '../AddButton';\nimport useStyles from './BarBottom.styles';\n\nexport default function LabelBottomNavigation() {\n  const classes = useStyles();\n  const { pathname } = useLocation();\n  const [value, setValue] = useState(pathname);\n  const [backdrop, setBackdrop] = useState(false);\n  const leftOpen = useStore((state) => state.ui.bars && state.ui.bars?.leftBar.open);\n\n  const [spotifyEnabled, setSpotifyEnabled] = useState(false)\n  const [spotifyExpanded, setSpotifyExpanded] = useState(false)\n\n  useEffect(() => {\n    setValue(pathname);\n  }, [pathname]);\n\n  return (<>\n    <BottomNavigation\n      value={value}\n      className={clsx(classes.root, {\n        [classes.rootShift]: leftOpen,\n      })}\n      showLabels={true}\n      style={{ bottom: spotifyEnabled ? spotifyExpanded ? 300 : 80 : 0 }}\n    >\n      <BottomNavigationAction\n        component={Link}\n        className={'step-one'}\n        label=\"Home\"\n        value=\"/\"\n        to=\"/\"\n        icon={<Home />}\n      />\n      <BottomNavigationAction\n        label=\"Devices\"\n        value=\"/Devices\"\n        component={Link}\n        to=\"/Devices\"\n        icon={<SettingsInputComponent />}\n      />\n      <BottomNavigationAction\n        component={Link}\n        to=\"/Scenes\"\n        label=\"Scenes\"\n        value=\"/Scenes\"\n        icon={<Wallpaper />}\n      />\n      {parseInt(window.localStorage.getItem('BladeMod')) > 10\n        ? (<BottomNavigationAction\n          label=\"Integrations\"\n          value=\"/Integrations\"\n          component={Link}\n          to={\"/Integrations\"}\n          icon={<SettingsInputSvideo />}\n        />)\n        : (<BottomNavigationAction\n          label=\"Settings\"\n          value=\"/Settings\"\n          icon={<Settings />}\n          component={Link}\n          to=\"/Settings\"\n        />)}\n    </BottomNavigation>\n    {parseInt(window.localStorage.getItem('BladeMod')) > 10 && (\n      <SpotifyWidget\n        spotifyEnabled={spotifyEnabled}\n        setSpotifyEnabled={setSpotifyEnabled}\n        spotifyExpanded={spotifyExpanded}\n        setSpotifyExpanded={setSpotifyExpanded}\n      />\n    )}\n    <AddSceneDialog />\n    <AddDeviceDialog />\n    <AddVirtualDialog />\n    <AddIntegrationDialog />\n    <AddButton\n      setBackdrop={setBackdrop}\n      className={`${clsx(classes.addButton, {\n        [classes.addButtonShift]: leftOpen,\n      })} step-four`}\n      style={{ bottom: spotifyEnabled ? spotifyExpanded ? 330 : 110 : 30 }}\n    />\n    <Backdrop style={{ zIndex: 1, backgroundColor: 'rgba(0, 0, 0, 0.8)' }} open={backdrop} />\n  </>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, DialogTitle, DialogContent, DialogActions, Dialog, RadioGroup, Radio, FormControlLabel, MenuItem, Select } from '@material-ui/core';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport useStore from '../../utils/apiStore';\nimport BladeFrame from '../SchemaForm/BladeFrame';\n\nfunction ConfirmationDialogRaw(props) {\n    const { onClose, value: valueProp, open, ...other } = props;\n    const [value, setValue] = React.useState(valueProp);  \n\n    const handleCancel = () => {\n        onClose();\n    };\n\n    const handleOk = () => {\n        onClose(value);\n    };\n\n    const handleChange = event => {\n        setValue(event.target.value);\n    };\n\n    delete other.deviceList;\n    return (\n        <Dialog\n            disableEscapeKeyDown\n            maxWidth=\"xs\"\n            aria-labelledby=\"confirmation-dialog-title\"\n            open={open}\n            {...other}\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\n            <DialogContent dividers>\n                <BladeFrame full={true}>\n                    <Select\n                        disableUnderline\n                        value={value}\n                        style={{ width: '100%' }}\n                        onChange={handleChange}>\n                        {Object.keys(props.deviceList).map(device => (\n                            <MenuItem\n                                value={props.deviceList[device].id}\n                                key={props.deviceList[device].id}\n                            >\n                                {props.deviceList[device].config.name}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </BladeFrame>\n            </DialogContent>\n            <DialogActions>\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleOk} color=\"primary\">\n                    Ok\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nConfirmationDialogRaw.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n    value: PropTypes.string.isRequired,\n    config: PropTypes.any,\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '1rem auto',\n        backgroundColor: theme.palette.background.paper,\n    },\n    paper: {\n        width: '80%',\n        maxHeight: 435,\n    },\n}));\n\nexport default function ConfirmationDialog({ virtual, config }) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const deviceList = useStore(state => state.devices) || {};\n    const updateVirtualSegments = useStore(state => state.updateVirtualSegments);\n    const getVirtuals = useStore(state => state.getVirtuals);\n\n    const handleClickListItem = () => {\n        setOpen(true);\n    };\n\n    const handleClose = newValue => {\n        setOpen(false);\n        if (newValue) {\n            const device = { ...deviceList[Object.keys(deviceList).find(d => deviceList[d].id === newValue)] };\n\n            if (device && device.config) {\n                const temp = [\n                    ...virtual.segments,\n                    [device.id, 0, device.config.pixel_count - 1, false],\n                ];\n                const test = temp.filter(t => t.length === 4);\n                updateVirtualSegments({ virtId: virtual.id, segments: test }).then(() => getVirtuals());\n            }\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            {deviceList && Object.keys(deviceList).length > 0 ? (\n                <>\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        aria-label=\"Add\"\n                        className={classes.button}\n                        endIcon={<AddCircleIcon />}\n                        onClick={handleClickListItem}\n                        role=\"listitem\"\n                    >\n                        ADD SEGMENT\n                    </Button>\n\n                    <ConfirmationDialogRaw\n                        classes={{\n                            paper: classes.paper,\n                        }}\n                        config={config}\n                        id=\"ringtone-menu\"\n                        keepMounted\n                        open={open}\n                        onClose={handleClose}\n                        value={\"\"}\n                        // value={deviceList[0].id}\n                        deviceList={deviceList}\n                    />\n                </>\n            ) : (\n                <></>\n            )}\n        </div>\n    );\n}\n","import { useEffect, useState } from \"react\";\nimport Slider from \"@material-ui/core/Slider\";\nimport useStore from \"../../../utils/apiStore\";\n\nconst PixelSlider = ({ s, handleRangeSegment }) => {\n  const getDevices = useStore((state) => state.getDevices);\n  const devices = useStore((state) => state.devices);\n\n  const [range, setRange] = useState([s[1], s[2]]);\n\n  useEffect(() => {\n    getDevices();\n  }, [getDevices]);\n\n  if (!devices[s[0]]) {\n    return <></>;\n  }\n\n  const pixelRange = [s[1], s[2]];\n\n  const handleChange = (event, newValue) => {\n    if (newValue !== pixelRange) {\n      handleRangeSegment(newValue[0], newValue[1]);\n    }\n  };\n\n  const marks = [\n    { value: 0, label: 0 },\n    {\n      value: devices[s[0]].config.pixel_count - 1,\n      label: devices[s[0]].config.pixel_count - 1,\n    },\n  ];\n\n  return (\n    <Slider\n      value={range}\n      marks={marks}\n      min={0}\n      max={devices[s[0]].config.pixel_count - 1}\n      onChange={(e, n) => setRange(n)}\n      onChangeCommitted={handleChange}\n      aria-labelledby=\"range-slider\"\n      valueLabelDisplay=\"auto\"\n    />\n  );\n};\n\nexport default PixelSlider;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useSegmentStyles = makeStyles(theme => ({\n    segmentsWrapper: {\n        display: 'flex',\n        borderBottom: '1px dashed #aaa',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '0.5rem 0',\n    },\n    segmentsColOrder: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    },\n    segmentsButtonUp: {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n        minWidth: '50px',\n    },\n    segmentsButtonDown: {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        minWidth: '50px',\n        marginRight: '1rem',\n    },\n    segmentsColPixelSlider: {\n        flex: '0 1 70%',\n    },\n    segmentsColActions: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    },\n    '@media (max-width: 600px)': {\n        segmentsColPixelSlider: {\n            order: 3,\n            width: 'calc(100% - 2rem)',\n            margin: '2rem auto 0 auto',\n        },\n\n        segmentsWrapper: {\n            flexDirection: 'column',\n            alignItems: 'flex-start',\n        },\n        segmentsColActions: {\n            position: 'absolute',\n            right: '1rem',\n        },\n    },\n}));","import { useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport PixelSlider from './PixelSlider';\nimport PopoverSure from '../../../components/Popover';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\nimport useStore from '../../../utils/apiStore';\nimport { swap } from '../../../utils/helpers';\nimport { useSegmentStyles } from './Segment.styles'\n\nconst Segment = ({ s, i, virtual, segments }) => {\n    const getDevices = useStore((state) => state.getDevices);\n    const devices = useStore((state) => state.devices);\n\n    const title = devices && devices[Object.keys(devices).find(d => d === s[0])].config.name;\n    const classes = useSegmentStyles();\n    const updateVirtualSegments = useStore(state => state.updateVirtualSegments);\n    const getVirtuals = useStore(state => state.getVirtuals);\n\n    const handleInvert = () => {\n        const newSegments = segments.map((seg, index) => index === i ? [seg[0], seg[1], seg[2], !seg[3]] : seg);\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\n    };\n    const reorder = direction => {\n        const newSegments = direction === 'UP' ? swap(segments, i - 1, i) : swap(segments, i, i + 1);\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\n    };\n    const handleDeleteSegment = () => {\n        const newSegments = segments.filter((seg, index) => index !== i)\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\n    };\n    const handleRangeSegment = (start, end) => {\n        const newSegments = segments.map((seg, index) => index === i ? [seg[0], start, end, !seg[3]] : seg);\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\n    };\n\n    useEffect(() => {\n        getDevices()\n    }, [getDevices])\n\n    return (\n        <div style={{ padding: '0 1rem' }}>\n            <div className={classes.segmentsWrapper}>\n                <div className={classes.segmentsColOrder}>\n                    <div style={{ display: 'flex' }}>\n                        <div>\n                            <Button\n                                disabled={i === 0}\n                                variant={'outlined'}\n                                color={'inherit'}\n                                onClick={() => reorder('UP')}\n                                size={'small'}\n                                className={classes.segmentsButtonUp}\n                            >\n                                <ExpandLess />\n                            </Button>\n                        </div>\n                        <div>\n                            <Button\n                                disabled={i === virtual.segments.length - 1}\n                                variant={'outlined'}\n                                color={'inherit'}\n                                onClick={() => reorder('DOWN')}\n                                size={'small'}\n                                className={classes.segmentsButtonDown}\n                            >\n                                <ExpandMore />\n                            </Button>\n                        </div>\n                    </div>\n                    <div style={{ minWidth: '120px' }}>\n                        <Typography color=\"textSecondary\">{title}</Typography>\n                    </div>\n                </div>\n                <div className={classes.segmentsColPixelSlider}>\n                    <PixelSlider s={s} handleRangeSegment={handleRangeSegment} />\n                </div>\n                <div className={classes.segmentsColActions}>\n                    <div>\n                        <Button\n                            variant={s[3] ? 'contained' : 'outlined'}\n                            color={s[3] ? 'primary' : 'default'}\n                            endIcon={<SwapHorizIcon />}\n                            onClick={handleInvert}\n                            style={{ margin: '0 1rem 0 1.5rem' }}\n                        >\n                            Flip\n                        </Button>\n                    </div>\n                    <PopoverSure\n                        variant=\"outlined\"\n                        color=\"default\"\n                        onConfirm={handleDeleteSegment}\n                        style={{ padding: '5px' }}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Segment;\n","import React, { useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\n\nimport { getOverlapping } from \"../../../utils/helpers\";\nimport useStore from '../../../utils/apiStore';\n\nimport AddSegmentDialog from '../../../components/Dialogs/_AddSegmentDialog';\nimport Segment from './Segment';\nimport { useEditVirtualsStyles } from './EditVirtuals.styles'\nimport { ListItemIcon, MenuItem } from '@material-ui/core';\nimport { Settings } from '@material-ui/icons';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst MuiMenuItem = React.forwardRef((props, ref) => {\n  return <MenuItem  ref={ref} {...props} />;\n});\n\nexport default function FullScreenDialog({\n  virtual,\n  icon = <Settings />,\n  startIcon,\n  label = '',\n  type,\n  className,\n  color = 'default',\n  variant = 'contained',\n  onClick = () => {},\n  innerKey,\n}) {\n  const classes = useEditVirtualsStyles();\n  const showSnackbar = useStore((state) => state.showSnackbar);\n  const getDevices = useStore((state) => state.getDevices);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    const output = getOverlapping(virtual.segments);\n    const overlap = Object.keys(output).find(k => output[k].overlap);\n    if (overlap) {\n      showSnackbar({\n        message: `Overlapping in ${overlap} detected! Please Check your config`,\n        messageType: 'warning'\n      })\n    } else {\n      setOpen(false);\n    }\n  };\n\n\n  useEffect(() => {\n    getDevices()\n  }, [getDevices])\n\n  return virtual && virtual.config ? (\n    <>\n      {type === 'menuItem'\n        ? <MuiMenuItem key={innerKey} className={className} onClick={(e) => { e.preventDefault(); onClick(e); handleClickOpen(e)}}>\n          <ListItemIcon>\n            {icon}\n          </ListItemIcon>\n          {label}\n        </MuiMenuItem>\n        : <Button\n          variant={variant}\n          startIcon={startIcon}\n          color={color}\n          onClick={(e)=>{onClick(e); handleClickOpen(e);}}\n          size=\"small\"\n          className={className}\n        >\n          {label}\n          {!startIcon && icon}\n        </Button>\n      }\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <Button\n              autoFocus\n              color=\"primary\"\n              variant=\"contained\"\n              startIcon={<NavigateBeforeIcon />}\n              onClick={handleClose}\n              style={{ marginRight: '1rem' }}\n            >\n              back\n            </Button>\n            <Typography variant=\"h6\" className={classes.title}>\n              {virtual.config.name}{' '}\n            </Typography>\n          </Toolbar>\n        </AppBar>\n\n        <div className={classes.segmentTitle}>\n          <Typography variant=\"caption\">Segments-Settings</Typography>\n        </div>\n        {virtual.segments.length > 0 &&\n          virtual.segments.map((s, i) => (\n            <Segment s={s} i={i} key={i} virtual={virtual} segments={virtual.segments} />\n          ))}\n        <div className={classes.segmentButtonWrapper}>\n          <AddSegmentDialog virtual={virtual} />\n        </div>\n      </Dialog>\n    </>\n  ) : (<></>);\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport { LinearScale } from '@material-ui/icons';\n\nexport const useDeviceCardStyles = makeStyles((theme) => ({\n    virtualCardPortrait: {     \n      padding: '1rem 0.7rem 0.7rem 0.7rem',\n      margin: '0.5rem',\n      display: 'flex',\n      alignItems: 'flex-start',\n      flexDirection: 'column',\n      minWidth: '230px',\n      maxWidth: '400px',\n      width: '100%',\n      height: '100%',\n      position: 'relative',\n      borderRadius: 10,\n      background: theme.palette.background.paper,\n      borderColor: 'transparent',\n      // '&.active': {\n      //   background: theme.palette.background.paper,\n      // },\n      '&:hover': {\n      borderColor: theme.palette.text.disabled,\n    }\n    },\n    virtualLink: {\n      flexGrow: 0,\n      textDecoration: 'none',\n      fontSize: 'large',\n      color: 'inherit',\n      alignSelf: 'flex-start',\n      '&:hover': {\n        color: `${theme.palette.primary.main} !important`,\n      },\n    },\n    virtualIconWrapper: {\n      width: '50px',\n      height: '55px',\n      marginRight: '0.5rem',\n    },\n    virtualIcon: {\n      marginBottom: '4px',\n      marginRight: '0.5rem',\n      position: 'relative',\n      fontSize: '50px',\n      position: 'absolute',\n      transformOrigin: 'top left',\n      '&.graphs': {\n        transformOrigin: 'center left',\n      },\n      transition: 'transform 0.3s ease-in-out',\n      transitionDelay: '0s',      \n      '&.extended': {\n        transform: 'scale(1.7) translateY(-4px);',\n        transformOrigin: 'top left',        \n        transition: 'transform 0.3s ease-in-out',\n        transitionDelay: '0s',\n      },\n      '&.extended.graphs': {\n        transform: 'scale(1.25)',\n        transformOrigin: 'center left',        \n        transition: 'transform 0.3s ease-in-out',\n        transitionDelay: '0s',\n      },\n      '& svg': {          \n        transform: 'unset',\n        width: '100%',\n        marginTop: '3px',\n        height: '100%',\n    }\n    },\n    \n    virtualCardContainer: {\n      display: 'flex',\n      alignItems: 'center',\n      width: '100%',\n      height: '100%',\n      padding: '0 0.3rem',\n      justifyContent: 'space-between',\n        flexDirection: 'row',\n    },\n    iconMedia: {\n      height: 140,\n      display: 'flex',\n      alignItems: 'center',\n      margin: '0 auto',\n      fontSize: 100,\n      '& > span:before': {\n        position: 'relative',\n      },\n    },\n    editButton: {\n      marginLeft: theme.spacing(1),\n        minWidth: 'unset',\n    },\n    editButtonMobile: {\n      marginLeft: theme.spacing(1),\n        minWidth: 'unset',\n        flexGrow: 1,\n    },\n    expand: {\n      transform: 'rotate(0deg)',\n      alignSelf: 'flex-start',\n      marginLeft: 'auto',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest,\n      }),\n        display: 'block'\n    },\n    expandOpen: {\n      transform: 'rotate(180deg)',\n    },\n    buttonBarMobile: {\n      width: '100%',\n      height: '100%',\n      textAlign: 'right',\n    },\n    buttonBarMobileWrapper: {\n      height: 110,\n      display: 'flex',\n      margin: 0,\n      padding: '0.5rem 80px 0.5rem 0.5rem',\n      background: 'rgba(0,0,0,0.93)',      \n      '& > div, & > button': {\n        flexGrow: 1,\n        flexBasis: '30%',\n      },\n      '&.extended.graphs': {\n        height: 'auto',\n        paddingTop: 0,\n      }\n    },\n    pixelbar: {\n      opacity: 1,\n      transitionDuration: 0,\n      width: '100%',\n    },\n    pixelbarOut: {\n      opacity: 0.2,\n      transition: 'opacity',\n      transitionDuration: 1000\n    }\n  }));","import { useState, forwardRef, useRef, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { useTheme, withStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport BuildIcon from '@material-ui/icons/Build';\nimport { NavLink } from 'react-router-dom';\nimport useStore from '../../../utils/apiStore';\nimport Popover from '../../../components/Popover';\nimport EditVirtuals from '../EditVirtuals/EditVirtuals';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport PixelGraph from '../../../components/PixelGraph';\nimport { useDeviceCardStyles } from './DeviceCard.styles'\nimport BladeIcon from '../../../components/Icons/BladeIcon';\nimport { Clear, Delete, Pause, PlayArrow } from '@material-ui/icons';\n\nconst DeviceCard = ({ virtual, index }) => {\n  const classes = useDeviceCardStyles();\n  const theme = useTheme();\n  const menuRef = useRef(null)\n  const isMobile = useMediaQuery(theme.breakpoints.down(580));\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const getDevices = useStore((state) => state.getDevices);\n  const virtuals = useStore((state) => state.virtuals);\n  const devices = useStore((state) => state.devices);\n  const deleteVirtual = useStore((state) => state.deleteVirtual);\n  const setDialogOpenAddDevice = useStore((state) => state.setDialogOpenAddDevice);\n  const setDialogOpenAddVirtual = useStore((state) => state.setDialogOpenAddVirtual);\n  const graphs = useStore((state) => state.graphs);\n  const clearVirtualEffect = useStore((state) => state.clearVirtualEffect);\n  const updateVirtual = useStore((state) => state.updateVirtual);\n\n  const [fade, setFade] = useState(false)\n  const [isActive, setIsActive] = useState((virtuals && virtual && virtuals[virtual] && virtuals[virtual].effect && Object.keys(virtuals[virtual].effect).length > 0) || devices && devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0)\n  const [expanded, setExpanded] = useState(false);\n  const color = 'inherit';\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const handleDeleteDevice = (virtual) => {\n    deleteVirtual(virtuals[virtual]?.id).then(() => {\n      getVirtuals();\n    });\n  };\n\n  const handleEditVirtual = (virtual) => {\n    setDialogOpenAddVirtual(true, virtual)\n  };\n  const handleEditDevice = (device) => {\n    setDialogOpenAddDevice(true, device)\n  };\n\n  const handleClearEffect = () => {\n    clearVirtualEffect(virtual).then(() => {\n      setFade(true)\n      setTimeout(() => { getVirtuals();getDevices(); }, virtuals[virtual].config.transition_time * 1000)\n      // setTimeout(() => { getDevices() }, virtuals[virtual].config.transition_time * 1100)\n      setTimeout(() => { setFade(false) }, virtuals[virtual].config.transition_time * 1000 + 300)\n    });\n  };\n\n  const handlePlayPause = () => {\n    updateVirtual(virtuals[virtual].id, { active: !virtuals[virtual].active })\n      .then(() => getVirtuals());\n  };\n\n  useEffect(() => {        \n    setIsActive(Object.keys(virtuals[virtual]?.effect).length > 0 || devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0)\n  }, [virtuals, devices])\n\n  \n  return virtuals[virtual] ?\n\n    <Card\n      component={NavLink}\n      to={`/device/${virtuals[virtual]?.id}`}\n      className={`${classes.virtualCardPortrait} ${Object.keys(virtuals[virtual]?.effect).length > 0 ? 'active' : ''}`}\n      style={{\n        textDecoration: 'none',\n        order: !(devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0 || virtuals[virtual]?.effect.name)\n          ? 100\n          : !virtuals[virtual]?.effect.name\n            ? 50\n            : 'unset'\n      }}>\n      <div className={classes.virtualCardContainer}>\n\n        <div className={`${classes.virtualIconWrapper}`}>\n          <BladeIcon\n            colorIndicator={false}\n            name={virtuals[virtual]?.config && virtuals[virtual]?.config.icon_name && virtuals[virtual]?.config.icon_name}\n            className={`${classes.virtualIcon} ${!graphs ? 'graphs' : ''} ${expanded ? 'extended' : ''}`}\n            style={{ zIndex: 3 }}\n            card={true} />\n        </div>\n\n\n        <div style={{ padding: '0 0.5rem' }}>\n          <Typography variant=\"h6\"\n            style={{ lineHeight: 1, color: (!graphs && Object.keys(virtuals[virtual]?.effect).length > 0) ? theme.palette.primary.light : 'inherit' }}\n          >\n            {virtual && virtuals[virtual]?.config && virtuals[virtual]?.config.name}\n          </Typography>\n          {virtuals[virtual]?.effect.name\n            ? <>\n              <Typography variant=\"body1\" color=\"textSecondary\" style={{ height: 25, display: 'flex', alignItems: 'center' }}>\n                Effect: {virtuals[virtual]?.effect.name}\n                <Button\n                  size=\"small\"\n                  onClick={(e) => { e.preventDefault(); handlePlayPause(); }}\n                  style={{ color: '#999', minWidth: 'unset', zIndex: expanded ? 1 : 3 }}\n                >\n                  {virtuals[virtual]?.active ? <Pause /> : <PlayArrow />}\n                </Button>\n                <Button\n                  size=\"small\"\n                  onClick={(e) => { e.preventDefault(); handleClearEffect(virtual); }}\n                  style={{ color: '#999', minWidth: 'unset', zIndex: expanded ? 1 : 3 }}\n                >\n                  <Clear />\n                </Button>\n              </Typography>\n\n            </>\n            : devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0\n              ? <Typography variant=\"body1\" color=\"textSecondary\" style={{ height: 25 }}>\n                Streaming...\n\n              </Typography>\n              : <Typography variant=\"body1\" style={{ color: theme.palette.text.disabled }} style={{ height: 25 }}>{\"off\"}</Typography>}\n        </div>\n\n        <div>\n          {virtual && virtuals[virtual]?.config && virtuals[virtual]?.config.preview_only && (\n            <Button\n              variant=\"text\"\n              disabled\n              size=\"small\"\n              className={classes.previewButton}\n            >\n              <VisibilityIcon />\n            </Button>\n          )}\n        </div>\n\n        <IconButton\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={(e) => { e.preventDefault(); handleExpandClick(e); }}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n          style={{ zIndex: 3, color: '#999' }}\n        >\n          <ExpandMoreIcon className={`step-devices-two-${index}`} />\n        </IconButton>\n\n      </div>\n      <div className={clsx(classes.pixelbar, {\n        [classes.pixelbarOut]: fade,\n      })} style={{ transitionDuration: virtuals[virtual].config.transition_time * 1000 }}>\n        <PixelGraph active={isActive} virtId={virtuals[virtual]?.id} className={`step-devices-seven`} />\n      </div>\n      {<div style={{ position: 'absolute', left: 0, top: 0, bottom: 0, right: 0, zIndex: 2 }}><Collapse in={expanded} timeout=\"auto\" unmountOnExit className={classes.buttonBarMobile}>\n        <div className={`${classes.buttonBarMobileWrapper} ${!graphs ? 'graphs' : ''} ${expanded ? 'extended' : ''}`} onClick={(e) => e.preventDefault()}>\n          <div>\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', justifyContent: 'center' }}>\n            <Popover\n              variant={\"text\"}\n              startIcon={<Delete />}\n              label=\"delete\"\n              color={color}\n              onConfirm={() => handleDeleteDevice(virtual)}\n              className={`step-devices-three-${index}`}\n              style={{ width: '100%' }}\n            />\n\n            {virtuals[virtual]?.is_device\n              ? <Button\n                variant={\"text\"}\n                color={color}\n                size=\"small\"\n                startIcon={<BuildIcon />}\n                className={`step-devices-four-${index}`}\n                onClick={(e) => { e.preventDefault(); handleEditDevice(virtuals[virtual]?.is_device) }}\n              >\n                Edit Device\n              </Button>\n              : <EditVirtuals\n                label=\"Edit Virtual\"\n                variant={\"text\"}\n                color={color}\n                virtual={virtuals[virtual]}\n                className={`step-devices-six`}\n                startIcon={<TuneIcon />}\n              />}\n            <Button\n              variant={\"text\"}\n              size=\"small\"\n              startIcon={<SettingsIcon />}\n              color={color}\n              className={`step-devices-five-${index}`}\n              onClick={(e) => { e.preventDefault(); handleEditVirtual(virtual) }}\n            >\n              Settings\n            </Button>\n          </div>\n\n        </div>\n      </Collapse></div>}\n    </Card>\n\n    : <></>\n}\n\nexport default DeviceCard\n","import { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useStore from '../../utils/apiStore';\nimport DeviceCard from './DeviceCard/DeviceCard';\nimport NoYet from '../../components/NoYet';\n\nconst useStyles = makeStyles((theme) => ({\n  cardWrapper: {\n    padding: theme.spacing(1),\n    display: 'flex', flexWrap: 'wrap', margin: '-0.5rem', justifyContent: 'center'\n  },\n  '@media (max-width: 580px)' : {\n    cardWrapper:{\n      justifyContent: 'center'\n    }\n  }\n}));\n\nconst Devices = () => {\n  const classes = useStyles();\n  const getDevices = useStore((state) => state.getDevices);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const virtuals = useStore((state) => state.virtuals);\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\n  const graphs = useStore((state) => state.graphs);\n\n  useEffect(() => {\n    getDevices();\n    getVirtuals();\n  }, [getDevices, getVirtuals]);\n\n  useEffect(() => {\n    if (graphs) {\n      setPixelGraphs(Object.keys(virtuals))\n    }\n  }, [graphs, setPixelGraphs]);\n\n  return (\n      <div className={classes.cardWrapper}>\n        {virtuals && Object.keys(virtuals).length ? Object.keys(virtuals).map((virtual, i) => (\n          <DeviceCard virtual={virtual} key={i} index={i} />\n        )) : (<NoYet type=\"Device\" />)}\n      </div>\n  );\n};\n\nexport default Devices;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-device-one',\n    content: (\n      <div>\n        <h2>Effect Type</h2>\n        Choose an effect here.\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li>BASIC: Simple, non reactive effects</li>\n          <li>1.0: Audio reactive effects</li>\n          <li>2D: [WIP] Effects designed for a 2D LED matrix</li>\n          <li>BPM: Effects designed for the beat of your music</li>\n          <li>2.0: Experimental new audio reactive effects</li>\n        </ul>\n        <li>Each effect has plenty of settings to play with</li>\n        <li>You can tune effects to your liking</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-two',\n    content: (\n      <div>\n        <h2>Transitions</h2>\n        <li>You can adjust the animation between effects</li>\n        <li>Set to 0 for no animation</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-three',\n    content: (\n      <div>\n        <h2>Presets</h2>\n        Easily save and apply the settings of an effect.\n        LedFx has some built in presets, and you can save your own too\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-four',\n    content: (\n      <div>\n        <h2>Frequency Range</h2>\n        <li>Adjust the audio frequency range used for effects</li>\n        <li>Most 1.0 effects will work with any frequency range you specify</li>\n        <li>Some effects will bypass this and do their own internal analysis</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-five',\n    content: (\n      <div>\n        <h2>Clear Effect</h2>\n        Clear effect and release device\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-six',\n    content: (\n      <div>\n        <h2>Randomizer</h2>\n        Randomly sets all effect properties\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-seven',\n    content: (\n      <div>\n        <h2>Effect Tours</h2>\n        Every effect has an individual tour to explain the different properties\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourDevice = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.device);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"device\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourDevice;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-scenes-one',\n    content: (\n      <div>\n        <h2>Scenes</h2>\n        You can save the current state of LedFx as a scene,\n        while giving it a name and optionally an image or an icon.\n        <p>\n          Note: This includes all active effects for all devices and their effect-settings.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourScenes = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.devices);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"scenes\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourScenes;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-settings-one',\n    content: (\n      <div>\n        <h2>Audio Device</h2>\n        Select your audio input device here.\n        <p>\n          Note: Additional Informations incoming\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-two',\n    content: (\n      <div>\n        <h2>Frontend FPS</h2>\n        FPS sent to the frontend to render the PixelGraphs\n        <p>\n          Note: Low-end devices might struggle with too much data.\n          Keep it at maximum, if everything runs smooth.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-three',\n    content: (\n      <div>\n        <h2>Frontend Max Pixel Length</h2>\n        Pixels per device sent to the frontend to render the PixelGraphs\n        <p>\n          Note: Low-end devices might struggle with too much data.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-four',\n    content: (\n      <div>\n        <h2>Control Buttons</h2>\n        No Explanation needed\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-five',\n    content: (\n      <div>\n        <h2>WLED Integration</h2>\n        Finetune how LedFx should handle your WLEDs\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourSettings = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.settings);\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"settings\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourSettings;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-devices-one',\n    content: (\n      <div>\n        <h2>Devices</h2>\n        Add at least one device using the red button to get specific tour.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-two-0',\n    content: (\n      <div>\n        <h2>Expand</h2>\n        Click the down arrow to toggle options.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-three-0',\n    content: (\n      <div>\n        <h2>Delete</h2>\n        A device can be deleted using trashcan icon.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-four-0',\n    content: (\n      <div>\n        <h2>Device-Settings</h2>\n        The wrench will allow you to modify logical device settings including streaming mode\n        , pixel count, and IP address.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-five-0',\n    content: (\n      <div>\n        <h2>Virtual-Settings</h2>\n        The Cogwheel will allow you to change various virtual device settings.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-six',\n    content: (\n      <div>\n        <h2>Segment-Settings</h2>\n        The slider bar icon will allow you to modify virtual device segments.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-seven',\n    content: (\n      <div>\n        <h2>Pixelgraph</h2>\n        When actively streaming with an active sound source selected you will find\n        the graph display here.\n        <p>\n          Note: Graphs are disabled by default to keep low-end devices safe.\n          For high-end clients they can be enabled using the top-right-menu\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourDevices = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.devices);\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"devices\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\n\n\nexport default TourDevices;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-integrations-one',\n    content: (\n      <div>\n        <h2>Integrations</h2>\n        Text for Integrations\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourIntegrations = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.integrations);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"integrations\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourIntegrations;\n","import { makeStyles } from '@material-ui/core/styles';\nimport { useState, useEffect } from 'react';\nimport useStore from '../../utils/apiStore';\nimport { useLocation, Link, useHistory } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { AppBar, Toolbar, Typography, IconButton, Menu, MenuItem, ListItemIcon, Button } from '@material-ui/core';\nimport { Menu as MenuIcon, MoreVert, PlayCircleOutline, Language, BarChart, Pause, Settings, AccountCircle, ChevronLeft } from '@material-ui/icons';\nimport { Login, Logout } from '@mui/icons-material';\nimport { drawerWidth } from '../../utils/helpers';\nimport TourDevice from '../Tours/TourDevice';\nimport TourScenes from '../Tours/TourScenes';\nimport TourSettings from '../Tours/TourSettings';\nimport TourDevices from '../Tours/TourDevices';\nimport TourIntegrations from '../Tours/TourIntegrations';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  backButton: {\n    position: 'absolute',\n    top: 14,\n    '@media (max-width: 599px)': {\n      top: 10\n    }\n  }\n}));\n\n\n\nconst TopBar = () => {\n  const classes = useStyles();\n  const open = useStore((state) => state.ui.bars && state.ui.bars?.leftBar.open);\n  const setLeftBarOpen = useStore((state) => state.setLeftBarOpen);\n  const virtuals = useStore((state) => state.virtuals);\n  const setDialogOpen = useStore((state) => state.setDialogOpen);\n  const togglePause = useStore((state) => state.togglePause);\n  const toggleGraphs = useStore((state) => state.toggleGraphs);\n  const paused = useStore((state) => state.paused);\n  const graphs = useStore((state) => state.graphs);\n  const config = useStore((state) => state.config);\n  const isLogged = useStore((state) => state.isLogged);\n  const setIsLogged = useStore((state) => state.setIsLogged);\n  const { pathname } = useLocation();\n  const history = useHistory();\n  // const [isLogged, setIsLogged] = useState(!!localStorage.getItem('jwt'));\n\n  // console.log(pathname.split('/'))\n\n  const handleLeftBarOpen = () => {\n    setLeftBarOpen(true);\n  };\n  const changeHost = () => {\n    setDialogOpen(true, true);\n    setAnchorEl(null);\n  };\n  const changePause = () => {\n    togglePause();\n  };\n  const changeGraphs = () => {\n    toggleGraphs();\n  };\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const logout = (e) => {\n    e.preventDefault();\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('username');\n    localStorage.removeItem('ledfx-cloud-userid');\n    localStorage.removeItem('ledfx-cloud-role');\n    setIsLogged(false);\n  };\n\nuseEffect(() => {\n  setIsLogged(!!localStorage.getItem('jwt'))\n}, [pathname])\n\n  return (\n    <AppBar\n      color={\"secondary\"}\n      position=\"fixed\"\n      className={clsx(classes.appBar, {\n        [classes.appBarShift]: open,\n      })}\n    >\n      <Toolbar style={{ justifyContent: 'space-between' }}>\n        <div>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleLeftBarOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, \"step-three\", open && classes.hide)}\n          >\n            <MenuIcon />\n          </IconButton>\n          {((pathname.split('/').length === 3 && pathname.split('/')[1] === 'device') || pathname === '/Settings') &&\n            <Button variant=\"text\" color=\"inherit\" className={classes.backButton} startIcon={<ChevronLeft />} onClick={() => history.goBack()} >\n              Back\n            </Button>}\n        </div>\n        {open && <div style={{ width: '48px', height: '48px' }} />}\n        <Typography variant=\"h6\" noWrap>\n          {pathname === '/' ? 'LedFx'\n            : (pathname.split('/').length === 3 && pathname.split('/')[1] === 'device') ? virtuals[pathname.split('/')[2]]?.config.name\n              : pathname.split('/').pop()}\n        </Typography>\n\n        <IconButton\n          aria-label=\"display more actions\"\n          edge=\"end\"\n          color=\"inherit\"\n          onClick={handleClick}\n          className={'step-two'}\n          style={{ marginLeft: '1rem' }}\n        >\n          <MoreVert />\n        </IconButton>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={() => setAnchorEl(null)}\n        >\n          {isLogged && <MenuItem disabled divider>\n            <ListItemIcon>\n              <AccountCircle />\n            </ListItemIcon>\n            {localStorage.getItem('username')}\n          </MenuItem>}\n          <MenuItem onClick={changeHost}>\n            <ListItemIcon>\n              <Language />\n            </ListItemIcon>\n            Change Host\n          </MenuItem>\n          <MenuItem onClick={changePause}>\n            <ListItemIcon>\n              {paused ? <PlayCircleOutline /> : <Pause />}\n            </ListItemIcon>\n            {paused ? 'Play' : 'Pause'}\n          </MenuItem>\n          <MenuItem onClick={changeGraphs}>\n            <ListItemIcon >\n              <BarChart color={graphs ? \"inherit\" : \"secondary\"} />\n            </ListItemIcon>\n            {!graphs ? 'Enable Graphs' : 'Disable Graphs'}\n          </MenuItem>\n          {pathname.split('/')[1] === 'device' ? <TourDevice cally={() => setAnchorEl(null)} />\n            : pathname.split('/')[1] === 'Scenes' ? <TourScenes cally={() => setAnchorEl(null)} />\n              : pathname.split('/')[1] === 'Settings' ? <TourSettings cally={() => setAnchorEl(null)} />\n                : pathname.split('/')[1] === 'Devices' ? <TourDevices cally={() => setAnchorEl(null)} />\n                  : pathname.split('/')[1] === 'Integrations' ? <TourIntegrations cally={() => setAnchorEl(null)} />\n                    : null}\n          <MenuItem onClick={() => setAnchorEl(null)} component={Link} to={\"/Settings\"} >\n            <ListItemIcon>\n              <Settings />\n            </ListItemIcon>\n            Settings\n          </MenuItem>\n          {parseInt(window.localStorage.getItem('BladeMod')) > 10 &&\n            <MenuItem onClick={(e) => isLogged ? logout(e) : window.location.href = \"https://strapi.yeonv.com/connect/github\"} >\n              <ListItemIcon>\n              {isLogged ? <Logout /> : <Login />}\n              </ListItemIcon>\n              {isLogged ? 'Logout' : 'Login'}\n            </MenuItem>}\n        </Menu>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default TopBar;\n","import { useEffect } from 'react';\nimport useStore from '../../utils/apiStore';\nimport BladeSchemaForm from \"../../components/SchemaForm/BladeSchemaForm\";\n\nconst AudioCard = ({ className }) => {\n    const setSystemConfig = useStore((state) => state.setSystemConfig)\n    const getSystemConfig = useStore((state) => state.getSystemConfig)\n    const schema = useStore((state) => state?.schemas?.audio?.schema)\n    const model = useStore((state) => state?.config?.audio)\n\n    useEffect(() => {\n        getSystemConfig();\n    }, []);\n\n    return <div className={className}>\n        {schema && <BladeSchemaForm\n            disableUnderline\n            schema={schema}\n            model={model}\n            onModelChange={(e) => {\n                setSystemConfig({\n                    config: {\n                        audio: e\n                    }\n                }).then(() => getSystemConfig())\n            }}\n        />}\n    </div>\n};\n\nexport default AudioCard;\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Card, CardHeader, CardContent, InputLabel, MenuItem, FormControl, Checkbox, Icon, TextField, Select,  Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Wled from '../../components/Icons/Wled';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    rowContainer: {\r\n        border: '1px solid',\r\n        borderRadius: '4px'\r\n    },\r\n    rowB: {\r\n        display: 'flex',\r\n        flexDirection: 'row'\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        padding: '10px 5px',\r\n        '&:not(:last-child)': {\r\n            borderBottom: '1px solid',\r\n        }\r\n    },\r\n    formControl: {\r\n        width: '100%',\r\n        marginRight: '1rem',\r\n    },\r\n    check: {\r\n        '& .MuiSvgIcon-root': {\r\n            width: '2rem',\r\n            height: '2rem',\r\n        }\r\n    },\r\n\r\n});\r\n\r\nconst WledCard = ({ className }) => {\r\n\r\n    const classes = useStyles();\r\n    const setSystemConfig = useStore(state => state.setSystemConfig);\r\n    const getSystemConfig = useStore((state) => state.getSystemConfig);\r\n    const settings = useStore(state => state.config);\r\n\r\n    const toggleSetting = (setting, value) => {\r\n        setSystemConfig({ config: { wled_preferences: { [setting]: { user_enabled: value } } } }).then(() => getSystemConfig());\r\n    }\r\n    const onChangeSetting = (setting, value) => {\r\n        setSystemConfig({ config: { wled_preferences: { [setting]: { setting: value } } } }).then(() => getSystemConfig());\r\n    }\r\n    const onScanOnStart = (setting, value) => {\r\n        setSystemConfig({ config: { [setting]: value } }).then(() => getSystemConfig());\r\n    }\r\n\r\n    useEffect(() => {\r\n        getSystemConfig();\r\n    }, [getSystemConfig]);\r\n\r\n    return settings.wled_preferences ? (\r\n        <Card style={{ marginBottom: '2rem' }} className={className}>\r\n            <CardHeader title=\"WLED Integration\" subheader=\"Configure WLED-Settings\" action={\r\n                <Icon\r\n                    style={{\r\n                        margin: '1rem',\r\n                        fontSize: '2.5rem'\r\n                    }}\r\n                >\r\n                    <Wled />\r\n                </Icon>} />\r\n            <CardContent className={classes.content}>\r\n                <FormControl>\r\n                    <InputLabel id=\"wled-scan-selector\">Scan for WLED on startup</InputLabel>\r\n                    <Select\r\n                        labelId=\"wled-scan-selector\"\r\n                        id=\"wled-scan-select\"\r\n                        value={settings.scan_on_startup}\r\n                        onChange={(e) => onScanOnStart(\"scan_on_startup\", e.target.value)}\r\n                    >\r\n                        <MenuItem value={true}>Yes</MenuItem>\r\n                        <MenuItem value={false}>No</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <Accordion style={{ marginTop: '2rem' }}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                    >\r\n                        <Typography className={classes.heading}>WLED Sync-Settings</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.content}>\r\n                        <p style={{ margin: '0 0 2rem 0' }}>LedFx can configure WLED's sync settings to recommended values.<br /><br />\r\n                            WARNING: <br />\r\n                            If you are using your strips with other controllers, changes to these settings might impact their functionality!<br /><br />\r\n                            LedFx will only change settings that you select with the checkbox</p>\r\n                        <div className={classes.rowContainer}>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.wled_preferred_mode.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"wled_preferred_mode\", !settings.wled_preferences.wled_preferred_mode.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-mode-selector\">Preferred WLED mode</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-mode-selector\"\r\n                                        id=\"wled-mode-select\"\r\n                                        value={settings.wled_preferences.wled_preferred_mode.setting}\r\n                                        onChange={(e) => onChangeSetting(\"wled_preferred_mode\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.wled_preferred_mode.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={\"unset\"}>Unset</MenuItem>\r\n                                        <MenuItem value={\"E131\"}>E131</MenuItem>\r\n                                        <MenuItem value={\"DDP\"}>DDP</MenuItem>\r\n                                        <MenuItem value={\"UDP\"}>UDP</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.realtime_gamma_enabled.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"realtime_gamma_enabled\", !settings.wled_preferences.realtime_gamma_enabled.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-gamma\">Realtime Gamma</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-gamma\"\r\n                                        id=\"wled-gamma-select\"\r\n                                        value={settings.wled_preferences.realtime_gamma_enabled.setting}\r\n                                        onChange={(e) => onChangeSetting(\"realtime_gamma_enabled\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.realtime_gamma_enabled.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={true}>Enable</MenuItem>\r\n                                        <MenuItem value={false}>Disable</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.force_max_brightness.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"force_max_brightness\", !settings.wled_preferences.force_max_brightness.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-brightness\">Force MaxBrightness</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-brightness\"\r\n                                        id=\"wled-brightness-select\"\r\n                                        value={settings.wled_preferences.force_max_brightness.setting}\r\n                                        onChange={(e) => onChangeSetting(\"force_max_brightness\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.force_max_brightness.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={true}>Enable</MenuItem>\r\n                                        <MenuItem value={false}>Disable</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.realtime_dmx_mode.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"realtime_dmx_mode\", !settings.wled_preferences.realtime_dmx_mode.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl  className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-dmx\">DMX mode</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-dmx\"\r\n                                        id=\"wled-dmx-select\"\r\n                                        value={settings.wled_preferences.realtime_dmx_mode.setting}\r\n                                        onChange={(e) => onChangeSetting(\"realtime_dmx_mode\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.realtime_dmx_mode.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={\"MultiRGB\"}>Disabled</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Single RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Single DRGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Multi RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Dimmer + Multi RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Multi RGBW</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.start_universe_setting.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"start_universe_setting\", !settings.wled_preferences.start_universe_setting.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"Start universe\"\r\n                                    id=\"wled-universe-select\"\r\n                                    value={settings.wled_preferences.start_universe_setting.setting}\r\n                                    onChange={(e) => onChangeSetting(\"start_universe_setting\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.start_universe_setting.user_enabled} \r\n                                    className={classes.formControl} />\r\n\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.dmx_address_start.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"dmx_address_start\", !settings.wled_preferences.dmx_address_start.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"DMX start address\"\r\n                                    id=\"wled-dmx-start-select\"\r\n                                    value={settings.wled_preferences.dmx_address_start.setting}\r\n                                    onChange={(e) => onChangeSetting(\"dmx_address_start\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.dmx_address_start.user_enabled}\r\n                                    className={classes.formControl}\r\n                                />\r\n\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.inactivity_timeout.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"inactivity_timeout\", !settings.wled_preferences.inactivity_timeout.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"Inactivity Timeout\"\r\n                                    id=\"wled-inactivity-select\"\r\n                                    value={settings.wled_preferences.inactivity_timeout.setting}\r\n                                    onChange={(e) => onChangeSetting(\"inactivity_timeout\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.inactivity_timeout.user_enabled}\r\n                                    className={classes.formControl}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </AccordionDetails>\r\n                </Accordion >\r\n            </CardContent >\r\n        </Card >\r\n    ) : (<></>);\r\n};\r\n\r\nexport default WledCard;\r\n","import { Button, Fab, TextField, Popover, FormControlLabel, Switch } from '@material-ui/core';\nimport { Check, Close } from '@material-ui/icons';\nimport { useState, useEffect, useRef } from 'react'\nimport BladeIcon from '../../components/Icons/BladeIcon';\nimport ws from \"../../utils/Websocket\";\nimport useStore from '../../utils/apiStore';\n\nconst getMedia = async (clientDevice) => {\n\n  try {\n    return await navigator.mediaDevices.getUserMedia({\n      audio: navigator.mediaDevices.enumerateDevices()\n        .then(function (devices) {\n          (clientDevice === null || devices.indexOf(clientDevice === -1)) ? true : { deviceId: { exact: clientDevice } }\n        }),\n      video: false,\n    })\n  } catch (err) {\n    console.log('Error:', err)\n  }\n}\n\nconst Webaudio = ({style}) => {\n  // const [webAud, setWebAud] = useState(false)\n  const webAud = useStore((state) => state.webAud)\n  const setWebAud = useStore((state) => state.setWebAud)\n  const [wsReady, setWsReady] = useState(false)\n  const [audioData, setAudioData] = useState([])\n  // const [keep, setKeep] = useState(false)\n  const webAudName = useStore((state) => state.webAudName)\n  const setWebAudName = useStore((state) => state.setWebAudName)\n\n  const audioContext = webAud && new (window.AudioContext || window.webkitAudioContext)();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const getSchemas = useStore((state) => state.getSchemas)\n  const clientDevice = useStore((state) => state.clientDevice)\n  const setClientDevices = useStore((state) => state.setClientDevices)\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n\n\n  let s\n  useEffect(() => {\n    webAud && navigator.mediaDevices && navigator.mediaDevices.getUserMedia && getMedia(clientDevice).then(stream => {\n      s = stream\n      if (!audioContext || audioContext.state === 'closed') {\n        return\n      }\n\n      const source = audioContext.createMediaStreamSource(stream)\n      const scriptNode = audioContext.createScriptProcessor(1024, 1, 1);\n      // const analyser = audioContext.createAnalyser()\n      // // const scriptNode = audioContext.createScriptProcessor(0, 1, 1);\n      // console.log(\"THIS\", analyser);      \n      source.connect(scriptNode);\n      // analyser.connect(scriptNode);\n      scriptNode.connect(audioContext.destination);\n      if (wsReady) {\n        if (webAud) {\n          const sendWs = async () => {\n            let i = 0\n            const request = {\n              data: {\n                sampleRate: scriptNode?.context?.sampleRate,\n                bufferSize: scriptNode?.bufferSize\n              },\n              client: webAudName,\n              id: i,\n              type: \"audio_stream_config\",\n            };\n            ws.ws.send(JSON.stringify(++request.id && request));\n          };\n          sendWs();\n        }\n      }\n      scriptNode.onaudioprocess = e => {\n        if (wsReady) {\n          if (webAud) {\n            const sendWs = async () => {\n              let i = 0\n              const request = {\n                data: e.inputBuffer.getChannelData(0),\n                client: webAudName,\n                id: i,\n                type: \"audio_stream_data\",\n              };\n              ws.ws.send(JSON.stringify(++request.id && request));\n            };\n            sendWs();\n          }\n        }\n      };\n    });\n  }, [audioContext])\n\n\n\n  if (!wsReady) {\n    if (ws && ws.ws && ws.ws.readyState === 1) {\n      setWsReady(true)\n    }\n  }\n\n  return (\n    <>\n      <Fab aria-describedby={id} size=\"large\" color={webAud ? \"inherit\" : \"secondary\"} onClick={(e) => {\n        if (webAud) {\n          if (audioContext) {\n            s.getTracks().forEach(track => track.stop())\n            audioContext.close()\n          }\n          const sendWs = async () => {\n            let i = 0\n            const request = {\n              client: webAudName,\n              id: i,\n              type: \"audio_stream_stop\",\n            };\n            ws.ws.send(JSON.stringify(++request.id && request));\n          };\n          sendWs().then(() => getSchemas());\n          setWebAud(false)\n          setClientDevices(null)\n          window.location.reload(true);\n        } else {\n\n          handleClick(e)\n        }\n\n      }} data-webaud={webAud} style={style}>\n        {!webAud\n          ? <>\n            <BladeIcon name={\"mdi:wifi\"} colorIndicator={webAud} style={{ position: 'relative', transform: 'scale(0.8) translate(20%,-30%)' }} />\n            <BladeIcon name={\"mdi:microphone\"} colorIndicator={webAud} style={{ position: 'absolute', transform: 'scale(0.7) translate(-20%,50%)' }} />\n          </>\n          : <BladeIcon name={\"mdi:stop\"} colorIndicator={webAud} style={{ position: 'relative' }} />\n        }\n      </Fab>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"center\",\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: \"center\",\n          horizontal: 'right',\n        }}\n      >\n        <div style={{ display: 'flex', margin: 20 }}>\n          <TextField\n            id=\"client-name\"\n            label=\"Client Name\"\n            value={webAudName}\n            onChange={(e) => setWebAudName(e.target.value)}\n            variant=\"outlined\"\n          />\n          <Button\n            aria-describedby={id}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => {\n              console.log(\"BOOM\")\n              console.log(audioContext)\n              if (!webAud) {\n                if (wsReady) {\n                  navigator.mediaDevices.enumerateDevices()\n                    .then(function (devices) {\n                      setClientDevices(devices)\n                    })\n                    .catch(function (err) {\n                      console.log(err.name + \": \" + err.message);\n                    });\n                  const sendWs = async () => {\n                    const request = {\n                      data: {\n\n                      },\n                      client: webAudName,\n                      id: 1,\n                      type: \"audio_stream_start\",\n                    };\n                    ws.ws.send(JSON.stringify(++request.id && request));\n                  };\n                  sendWs()\n                  setTimeout(() => {\n                    getSchemas()\n                  }, 1000)\n\n                }\n              }\n\n              setAnchorEl(null);\n              setWebAud(true)\n            }}\n          >\n            <Check />\n          </Button>\n          <Button\n            aria-describedby={id}\n            variant=\"contained\"\n            color=\"default\"\n            onClick={() => {\n              setAnchorEl(null);\n            }}\n          >\n            <Close />\n          </Button>\n        </div>\n      </Popover>\n      {/* <canvas width={dw} height={dh} style={style} ref={canvas} /> */}\n    </>\n  )\n}\n\nexport default Webaudio\n","import { MenuItem, Select } from '@material-ui/core';\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\nimport useStore from '../../utils/apiStore';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Webaudio from './Webaudio';\n\nconst useStyles = makeStyles((theme) => ({\n    select: {\n        '& div.MuiSelect-select': {\n            padding: '6px 0',\n        }\n    },\n}));\n\nconst ClientAudioCard = ({ style }) => {\n    const classes = useStyles()\n    const clientDevice = useStore((state) => state.clientDevice)\n    const clientDevices = useStore((state) => state.clientDevices)\n    const setClientDevice = useStore((state) => state.setClientDevice)\n    const setClientDevices = useStore((state) => state.setClientDevices)\n    const webAudName = useStore((state) => state.webAudName)\n    \n\n    return clientDevices && <BladeFrame style={{ order: 0, ...style }} full={true} title={`${webAudName}: Audio Device`} className={classes.select}>\n        <Select\n            variant=\"standard\"\n            disableUnderline\n            value={clientDevice || clientDevices[0].deviceId}\n            style={{ width: '100%' }}\n            onChange={(e) => {\n                setClientDevice(e.target.value)\n                // WEBAUDIO CHANGE INPUT DEVICE\n            }}\n        >\n            {clientDevices.filter(cd => cd.kind === 'audioinput').map((d, i) =>\n                <MenuItem key={i} value={d.deviceId}>\n                    {d.label}\n                </MenuItem>\n            )}\n\n        </Select>      \n    </BladeFrame>\n};\n\nexport default ClientAudioCard;\n","import * as React from 'react';\nimport useStore from '../../utils/apiStore';\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\n\nexport default function AboutDialog({ className, children, startIcon, title }) {\n    const config = useStore((state) => state.config);\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <div>\n            <Button size=\"small\" startIcon={startIcon} variant=\"outlined\" className={className} onClick={handleClickOpen}>\n                {children}\n            </Button>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"about-dialog-title\"\n                aria-describedby=\"about-dialog-description\"\n            >\n                <DialogTitle id=\"about-dialog-title\">\n                    {\"About (WIP)\"}\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"about-dialog-description\">\n                        backend:<br />\n                        configuration_version: {config.configuration_version} <br />\n                        host: {config.host} <br />\n                        port: {config.port} <br />\n                        port_s: {config.port_s} <br />\n                        dev_mode: {config.dev_mode ? 'yes' : 'no'} <br />\n                        commit: incoming<br />\n                        <br />\n                        frontend:<br />\n                        version: b28<br />\n                        commit: incoming<br />\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} autoFocus>\n                        OK\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n","import { useEffect, useState } from 'react';\nimport useStore from '../../utils/apiStore';\nimport { deleteFrontendConfig, download } from '../../utils/helpers';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport { Button,  Input,  Slider, Accordion, AccordionSummary, Typography, AccordionDetails, Switch, TextField } from '@material-ui/core';\nimport { CloudUpload, CloudDownload, PowerSettingsNew, Delete, Refresh, ExpandMore, Info } from '@material-ui/icons';\nimport useSliderStyles from '../../components/SchemaForm/BladeSlider.styles';\nimport PopoverSure from '../../components/Popover';\nimport AudioCard from './AudioCard';\nimport WledCard from './WledCard';\nimport Webaudio from './Webaudio';\nimport ClientAudioCard from './ClientAudioCard';\nimport { useLongPress } from 'use-long-press';\nimport AboutDialog from '../../components/Dialogs/AboutDialog';\n\nconst useStyles = makeStyles(theme => ({\n  content: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    flexDirection: 'row',\n    '&>div': {\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'space-between',\n    }\n  },\n  settingsRow: {\n    order: 'unset',\n    width: \"100%\",\n    justifyContent: 'space-between',\n    display: 'flex',\n    alignItems: 'center',\n    height: 40,\n    '&>label': {\n      marginRight: '1rem',\n      width: 100\n    }\n  },\n  actionButton: {\n    marginTop: '0.5rem',\n    flexBasis: '49%',\n    width: '100%',\n    borderColor: '#444'\n  },\n  card: {\n    maxWidth: '540px',\n    margin: '0 auto', // mobile\n  },\n  '@media (max-width: 580px)': {\n    card: {\n      maxWidth: '97vw',\n      margin: '0 auto',\n    },\n  },\n  audioCard: {\n    '& > div > div:not(:last-child)': {\n      '@media (max-width: 580px)': {\n        width: '48% !important',\n        minWidth: 'unset'\n      },\n    },\n  }\n}));\n\nconst IOSSlider = styled(Slider)(({ theme }) => ({\n  color: theme.palette.mode === 'dark' ? '#eeeeee' : '#eeeeee',\n  height: 2,\n  padding: '15px 0',\n  '& .MuiSlider-thumb': {\n    height: 20,\n    width: 20,\n    backgroundColor: '#fff',\n    marginTop: '-10px',\n    boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)',\n    '&:focus, &:hover, &.Mui-active': {\n      boxShadow:\n        '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)',\n      },\n    },\n  },\n  '& .MuiSlider-valueLabel': {\n    fontSize: 12,\n    fontWeight: 'normal',\n    top: -6,\n    backgroundColor: 'unset',\n    color: theme.palette.text.primary,\n    '&:before': {\n      display: 'none',\n    },\n    '& *': {\n      background: 'transparent',\n      color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n    },\n  },\n  '& .MuiSlider-track': {\n    border: 'none',\n  },\n  '& .MuiSlider-rail': {\n    opacity: 0.5,\n    backgroundColor: '#bfbfbf',\n  },\n  '& .MuiSlider-mark': {\n    backgroundColor: '#bfbfbf',\n    height: 8,\n    width: 1,\n    '&.MuiSlider-markActive': {\n      opacity: 1,\n      backgroundColor: 'currentColor',\n    },\n  },\n}));\n\nconst IOSSwitch = styled((props) => (\n  <Switch focusVisibleClassName=\".Mui-focusVisible\" disableRipple {...props} />\n))(({ theme }) => ({\n  width: 50,\n  height: 26,\n  padding: 0,\n  '& .MuiSwitch-switchBase': {\n    padding: 0,\n    margin: 2,\n    transitionDuration: '300ms',\n    '&.Mui-checked': {\n      transform: 'translateX(24px)',\n      color: '#fff',\n      '& + .MuiSwitch-track': {\n        backgroundColor: theme.palette.primary,\n        opacity: 1,\n        border: 0,\n      },\n      '&.Mui-disabled + .MuiSwitch-track': {\n        opacity: 0.5,\n      },\n    },\n    '&.Mui-focusVisible .MuiSwitch-thumb': {\n      color: '#33cf4d',\n      border: '6px solid #fff',\n    },\n    '&.Mui-disabled .MuiSwitch-thumb': {\n      color:\n        theme.palette.mode === 'light'\n          ? theme.palette.grey[100]\n          : theme.palette.grey[600],\n    },\n    '&.Mui-disabled + .MuiSwitch-track': {\n      opacity: theme.palette.mode === 'light' ? 0.7 : 0.3,\n    },\n  },\n  '& .MuiSwitch-thumb': {\n    boxSizing: 'border-box',\n    width: 22,\n    height: 22,\n  },\n  '& .MuiSwitch-track': {\n    borderRadius: 26 / 2,\n    backgroundColor: theme.palette.mode === 'light' ? '#E9E9EA' : '#39393D',\n    opacity: 1,\n    transition: theme.transitions.create(['background-color'], {\n      duration: 500,\n    }),\n  },\n}));\n\n\nconst Settings = () => {\n  const classes = useStyles();\n  const sliderClasses = useSliderStyles();\n  const getSystemConfig = useStore((state) => state.getSystemConfig);\n  const getFullConfig = useStore((state) => state.getFullConfig);\n  const setSystemConfig = useStore((state) => state.setSystemConfig);\n  const deleteSystemConfig = useStore((state) => state.deleteSystemConfig);\n  const importSystemConfig = useStore((state) => state.importSystemConfig);\n  const viewMode = useStore((state) => state.viewMode);\n  const setViewMode = useStore((state) => state.setViewMode);\n  const shutdown = useStore((state) => state.shutdown);\n  const restart = useStore((state) => state.restart);\n  const config = useStore((state) => state.config);\n  const graphs = useStore((state) => state.graphs);\n  const toggleGraphs = useStore((state) => state.toggleGraphs);\n\n  const [fps, setFps] = useState(30)\n  const [pixelLength, setPixelLength] = useState(50)\n  const configDownload = async () => {\n\n    getFullConfig().then((newConfig) => download(\n      newConfig,\n      'config.json',\n      'application/json',\n    ))\n\n  };\n\n  const configDelete = async () => {\n    deleteFrontendConfig();\n    deleteSystemConfig().then(() => window.location = window.location.href)\n  }\n\n  const fileChanged = async (e) => {\n    const fileReader = new FileReader();\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\n    fileReader.onload = (e) => {\n      importSystemConfig(e.target.result).then(() => (window.location = window.location.href));\n    };\n  }\n\n  const setSystemSetting = (setting, value) => {\n    setSystemConfig({ config: { [setting]: value } }).then(() => getSystemConfig());\n  }\n\n  const marks = [\n    {\n      value: 1,\n      label: '1',\n    },\n    {\n      value: 15,\n      label: '15',\n    },\n    {\n      value: 30,\n      label: '30',\n    },\n    {\n      value: 45,\n      label: '45',\n    },\n    {\n      value: 60,\n      label: '60',\n    },\n  ];\n\n  const marksPixelLength = [\n    {\n      value: 1,\n      label: '1',\n    },\n    {\n      value: 50,\n      label: '50',\n    },\n    {\n      value: 100,\n      label: '100',\n    },\n    {\n      value: 150,\n      label: '150',\n    },\n    {\n      value: 200,\n      label: '200',\n    },\n    {\n      value: 250,\n      label: '250',\n    },\n    {\n      value: 300,\n      label: '300',\n    },\n  ];\n\n  const [expanded, setExpanded] = useState(false);\n  const [active, setActive] = useState(false);\n  const [dev, setDev] = useState(false);\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n\n  const longPress = useLongPress((e) => viewMode === 'expert' && setDev(true), {\n    treshhold: 1000,\n    captureEvent: true,\n  });\n\n  useEffect(() => {\n    if (typeof config.visualisation_fps === 'number') {\n      setFps(config.visualisation_fps)\n    }\n    if (typeof config.visualisation_maxlen === 'number') {\n      setPixelLength(config.visualisation_maxlen)\n    }\n  }, [config]);\n\n  useEffect(() => {\n    getSystemConfig()\n  }, []);\n\n  return (\n    <>\n      <div className={classes.card}>\n        <Accordion expanded={expanded === 'panel3'} onChange={handleChange('panel3')}>\n          <AccordionSummary\n            expandIcon={<ExpandMore />}\n            aria-controls=\"panel3a-content\"\n            id=\"panel3a-header\"\n          >\n            <Typography>General</Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            <div className={'step-settings-four'} style={{ display: 'flex', justifyContent: 'space-between'}}>\n              <div style={{ flex: '0 0 49%'}}>\n                <Button\n                  size=\"small\"\n                  startIcon={<CloudUpload />}\n                  variant=\"outlined\"\n                  className={classes.actionButton}\n                  onClick={configDownload}\n                >\n                  Export Config\n                </Button>\n                <PopoverSure\n                  startIcon={<Delete />}\n                  label=\"Reset Config\"\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"inherit\"\n                  className={classes.actionButton}\n                  onConfirm={configDelete}\n                  direction=\"center\"\n                  vertical=\"top\"\n                  wrapperStyle={{\n                    marginTop: '0.5rem',\n                    flexBasis: '49%',\n                  }}\n                />\n                <input\n                  hidden\n                  accept=\"application/json\"\n                  id=\"contained-button-file\"\n                  type=\"file\"\n                  onChange={(e) => fileChanged(e)}\n                />\n                <label htmlFor=\"contained-button-file\" style={{ width: '100%', flexBasis: '49%' }}>\n                  <Button\n                    component=\"span\"\n                    size=\"small\"\n                    startIcon={<CloudDownload />}\n                    variant=\"outlined\"\n                    className={classes.actionButton}\n                  >\n                    Import Config\n                  </Button>\n                </label>\n              </div>\n              <div style={{ flex: '0 0 49%'}}>\n                {viewMode === 'dev' && <AboutDialog startIcon={<Info />} className={classes.actionButton}>\n                  About\n                </AboutDialog>}\n                <Button\n                  size=\"small\"\n                  startIcon={<Refresh />}\n                  variant=\"outlined\"\n                  className={classes.actionButton}\n                  onClick={restart}\n\n                >\n                  Restart\n                </Button>\n\n                <Button\n                  size=\"small\"\n                  startIcon={<PowerSettingsNew />}\n                  variant=\"outlined\"\n                  className={classes.actionButton}\n                  onClick={shutdown}\n                >\n                  Shutdown\n                </Button>\n              </div>\n            </div>\n          </AccordionDetails>\n        </Accordion>\n        <Accordion expanded={expanded === 'panel1'} onChange={handleChange('panel1')}>\n          <AccordionSummary\n            expandIcon={<ExpandMore />}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n          >\n            <Typography>Audio Settings</Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            <div>\n              {(parseInt(window.localStorage.getItem('BladeMod')) > 10) &&\n                <Webaudio style={{ position: 'absolute', right: '3.5rem', top: '0.3rem' }} />\n              }\n              <ClientAudioCard />\n              <AudioCard className={`${classes.audioCard} step-settings-one`} />\n            </div>\n          </AccordionDetails>\n        </Accordion>\n        <Accordion expanded={expanded === 'panel2'} onChange={handleChange('panel2')}>\n          <AccordionSummary\n            expandIcon={<ExpandMore />}\n            aria-controls=\"panel2a-content\"\n            id=\"panel2a-header\"\n          >\n            <Typography>UI Settings</Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            <div style={{ width: '100%' }}>\n\n              <div className={`${classes.settingsRow} step-settings-three `}>\n                <label>Show Graphs</label>\n                <IOSSwitch checked={graphs} onChange={(e) => toggleGraphs()} />\n              </div>\n\n              <div className={`${classes.settingsRow} step-settings-x `}>\n                <label {...longPress}>Expert Mode</label>\n                <IOSSwitch checked={viewMode !== 'user'} onChange={(e) => viewMode === 'user' ? setViewMode(\"expert\") : setViewMode(\"user\")} />\n              </div>\n\n              {(dev || viewMode === 'dev') && <div className={`${classes.settingsRow} step-settings-x `}>\n                <label>Dev Mode</label>\n                <Input\n                  disableUnderline\n                  style={{\n                    marginLeft: '1rem',\n                    backgroundColor: 'rgb(57, 57, 61)',\n                    paddingLeft: '0.5rem',\n                    borderRadius: '5px',\n                    paddingTop: '3px',\n                    width: 50\n                  }}\n                  margin=\"dense\"\n                  onBlur={(e) => {\n                    if (e.target.value === 'clear') { setViewMode('user'); window.localStorage.setItem('ledfx-theme', \"Dark\"); window.localStorage.setItem('BladeMod', 0); window.location.reload() }\n                    if (e.target.value === 'dev') { setViewMode('dev'); window.localStorage.setItem('BladeMod', 11) }\n                    if (e.target.value.startsWith('theme:')) { window.localStorage.setItem('ledfx-theme', e.target.value.replace('theme:', '')); window.location.reload() }\n                  }}\n                />\n              </div>}\n\n              {config.visualisation_fps && (<>\n                {/* <div className={`${sliderClasses.wrapper} step-settings-two`} style={{ order: 'unset', width: \"100%\" }}> */}\n                <div className={`${classes.settingsRow} step-settings-two`}>\n                  <label>Frontend FPS</label>\n                  <div style={{ flexGrow: 1 }}>\n                    <IOSSlider\n                      value={fps}\n                      // marks={marks}\n                      // marks\n                      // color=\"\"\n                      step={1}\n                      // valueLabelDisplay=\"auto\"\n                      min={1}\n                      max={60}\n                      size=\"medium\"\n                      onChangeCommitted={(e, val) => setSystemSetting(\"visualisation_fps\", val)}\n                      onChange={(e, val) => {\n                        setFps(val);\n                      }}\n                    />\n                  </div>\n                  <Input\n                    disableUnderline\n                    className={sliderClasses.input}\n                    style={{ width: 50 }}\n                    value={fps}\n                    margin=\"dense\"\n                    onFocus={() => setActive(true)}\n                    onChange={(e, val) => {\n                      setFps(val);\n                    }}\n                    onBlur={(e, val) => { setSystemSetting(\"visualisation_fps\", val) }}\n                    inputProps={{\n                      min: 1,\n                      max: 60,\n                      type: 'number',\n                      'aria-labelledby': 'input-slider',\n                    }}\n                  />\n                </div>\n\n                <div className={`${classes.settingsRow} step-settings-three `}>\n                  <label>Frontend Pixels</label>\n                  <div style={{ flexGrow: 1 }}>\n                    <IOSSlider\n                      value={pixelLength}\n                      // marks={marksPixelLength}\n                      step={1}\n                      valueLabelDisplay=\"auto\"\n                      min={1}\n                      max={300}\n                      onChangeCommitted={(e, val) => setSystemSetting(\"visualisation_maxlen\", val)}\n                      onChange={(e, val) => {\n                        setPixelLength(val);\n                      }}\n                    />\n                  </div>\n                  <Input\n                    disableUnderline\n                    className={sliderClasses.input}\n                    value={pixelLength}\n                    style={{ width: 50 }}\n                    margin=\"dense\"\n                    onChange={(e, val) => {\n                      setPixelLength(val);\n                    }}\n                    onBlur={(e, val) => setSystemSetting(\"visualisation_maxlen\", val)}\n                    inputProps={{\n                      min: 1,\n                      max: 300,\n                      type: 'number',\n                      'aria-labelledby': 'input-slider',\n                    }}\n                  />\n                </div>\n\n              </>)}\n            </div>\n          </AccordionDetails>\n        </Accordion>\n\n        {((parseInt(window.localStorage.getItem('BladeMod')) > 10) || viewMode === 'dev') &&\n          <Accordion expanded={expanded === 'panel4'} onChange={handleChange('panel4')}>\n            <AccordionSummary\n              expandIcon={<ExpandMore />}\n              aria-controls=\"panel4a-content\"\n              id=\"panel4a-header\"\n            >\n              <Typography>WLED Settings</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <div>\n                <WledCard className={`${classes.card} step-settings-five`} />\n              </div>\n            </AccordionDetails>\n          </Accordion>}\n      </div>\n    </>\n  );\n};\n\nexport default Settings;\n","export default __webpack_public_path__ + \"static/media/blademod.04a8d38d.svg\";","import { makeStyles } from '@material-ui/core/styles';\nimport { drawerWidth } from '../../utils/helpers';\nimport blademod from '../../assets/blademod.svg';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    '*::-webkit-scrollbar': {\n      backgroundColor: '#ffffff30',\n      width: '8px',\n      borderRadius: '8px',\n    },\n    '*::-webkit-scrollbar-track': {\n      backgroundColor: '#00000060',\n      borderRadius: '8px',\n    },\n    '*::-webkit-scrollbar-thumb': {\n      backgroundColor: '#555555',\n      borderRadius: '8px',\n    },\n    '*::-webkit-scrollbar-button': {\n      display: 'none',\n    },\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    backgroundColor: theme.palette.background.default,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    overflowX: 'hidden',\n  },\n  drawerHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n  },\n  logo: {\n    position: 'relative',\n    padding: '15px 15px',\n    zIndex: '4',\n  },\n  logoLink: {\n    padding: '5px 0',\n    display: 'block',\n    fontSize: '18px',\n    textAlign: 'left',\n    fontWeight: '400',\n    lineHeight: '30px',\n    textDecoration: 'none',\n    backgroundColor: 'transparent',\n    '&,&:hover': {\n      color: '#FFFFFF',\n    },\n  },\n  logoImage: {\n    width: '30px',\n    display: 'inline-block',\n    maxHeight: '30px',\n    marginLeft: '10px',\n    marginRight: '15px',\n\n    '& img': {\n      width: '35px',\n      top: '17px',\n      position: 'absolute',\n      verticalAlign: 'middle',\n      border: '0',\n    },\n  },\n  devbadge: {\n    backgroundImage: `url(${blademod})`,\n    backgroundColor: theme.palette.secondary.main,\n    border: theme.palette.primary.main,\n    color: '#fff',\n    borderRadius: '15px',\n    width: '150px',\n    padding: '5px 25px',\n    backgroundSize: '230px',\n    height: '25px',\n    marginBottom: '0.5rem',\n    backgroundRepeat: 'no-repeat',\n    textAlign: 'right',\n    backgroundPosition: '-40px 50%',\n  },\n  activeView: {\n    backgroundColor: theme.palette.secondary.main,\n    boxShadow: theme.shadows[12],\n    '&:hover,&:focus,&:visited,&': {\n        backgroundColor: theme.palette.secondary.main,\n        boxShadow: theme.shadows[12],\n    },\n    color: '#fff',\n},\n}));\nexport default useStyles;\n","import { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\nimport { ListItem, ListItemIcon, ListItemText, Drawer, List, Icon, Divider, IconButton } from '@material-ui/core';\nimport { useLocation, Link } from 'react-router-dom';\nimport useStore from '../../utils/apiStore';\nimport useStyles from './BarLeft.styles';\nimport logoAsset from '../../assets/logo.png';\nimport BladeIcon from '../Icons/BladeIcon';\n\nconst LeftBar = () => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { pathname } = useLocation();\n  const virtuals = useStore((state) => state.virtuals);\n  const open = useStore((state) => state.ui.bars?.leftBar.open);\n  const setOpen = useStore((state) => state.setLeftBarOpen);\n  const smallScreen = useMediaQuery('(max-width:768px)');\n\n\n  const handleDrawerClose = () => {\n    setOpen(false)\n  };\n\n  const logo = (\n    <div className={classes.logo}>\n      <a href=\"/#\" className={classes.logoLink}>\n        <div className={classes.logoImage}>\n          <img src={logoAsset} alt=\"logo\" className={classes.img} />\n        </div>\n        LedFx\n      </a>\n      <div className={classes.devbadge} onClick={() => window.localStorage.setItem('BladeMod', 0)} onDoubleClick={() => window.localStorage.setItem('BladeMod', 10)} />\n    </div>\n  );\n\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={open}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <div className={classes.drawerHeader}>\n        {logo}\n        <IconButton onClick={handleDrawerClose}>\n          {theme.direction === 'ltr' ? <ChevronLeft /> : <ChevronRight />}\n        </IconButton>\n      </div>\n      <Divider />\n      <List>\n        {Object.keys(virtuals).map((d, i) => (\n          <Link\n            style={{ textDecoration: 'none' }}\n            key={i}\n            to={`/device/${virtuals[d].id}`}\n            onClick={() => {\n              smallScreen && handleDrawerClose();\n            }}\n          >\n            <ListItem className={\n              (pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) ? classes.activeView : classes.dummy\n            } button key={virtuals[d].config.name}>\n              <ListItemIcon>\n                <BladeIcon\n                style={{ position: 'relative' }}\n                  colorIndicator={!(pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) && Object.keys(virtuals[d]?.effect).length > 0}\n                  name={virtuals && virtuals[d] && virtuals[d].config && virtuals[d].config.icon_name && virtuals[d].config.icon_name} />\n              </ListItemIcon>\n              <ListItemText\n                style={{ color: !(pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) && Object.keys(virtuals[d]?.effect).length > 0 ? theme.palette.primary.light : theme.palette.text.primary }}\n                primary={virtuals[d].config.name}\n              />\n            </ListItem>\n          </Link>\n        ))}\n      </List>\n      <Divider />\n    </Drawer>\n  );\n};\n\nexport default LeftBar;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/ring.1faea45b.png\";","import { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport Tour from 'reactour';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-zero',\n    content: (\n      <div>\n        <h2>LedFx Tour</h2>\n        Welcome to LedFx!\n        Feel free to follow this tour and we&apos;ll show you around \n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-one',\n    content: (\n      <div>\n        <h2>Navigation</h2>\n        Go to different pages from here\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-two',\n    content: (\n      <div>\n        <h2>Menu</h2>\n        LedFx actions and settings can be found up here\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li> You can access a tour for other pages in this menu</li>\n          <li>\n             &apos;Enable Graphs&apos; to see a preview of the device LEDs.\n            Leave it off if your browser struggles with too many pixels!\n          </li>\n        </ul>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-three',\n    content: (\n      <div>\n        <h2>Devices Quick-Access</h2>\n        Directly jump to a device\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-four',\n    content: (\n      <div>\n        <h2>The Big Red Button</h2>\n        This is where it all begins!\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li>Add Device: Add a networked LED strip</li>\n          <li>Add Virtual: Divide or merge your devices into one virtual strip</li>\n          <li>Add Scene: Save the active effects of all devices</li>\n          <li>Add Integration: Connect LedFx to other software (upcoming...)</li>\n        </ul>\n        I&apos;d recommend you now close this tour and add your first devices to LedFx \n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourHome = () => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  return (\n    <>\n      <Button variant=\"outlined\" className=\"step-zero\" onClick={() => { \n        setTour(\"home\");\n        setIsTourOpen(true); \n        }}>\n        Start Tour\n      </Button>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourHome;\n","import './FX.css'\n\nconst FX = ({\n  stroke=\"#ffffff\", strokeWidth, strokeLinejoin, strokeLinecap, currentColor = 'transparent', style\n}) => <svg id=\"svg\"  onDoubleClick={()=>window.localStorage.getItem('BladeMod') === '10' ? window.localStorage.setItem('BladeMod', 11) : window.localStorage.setItem('BladeMod', 0)}  className={'fxSvg'} xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"400\" viewBox=\"-200, -200, 800,800\">\n    <g id=\"svgg\">\n    <path \n      id=\"path0\"\n      className={'fxPath'}\n      d=\"M12.218 90.039 C 12.544 90.576,19.991 100.596,28.767 112.305 L 44.725 133.594 121.877 133.594 L 199.030 133.594 223.686 166.476 L 248.342 199.357 207.374 253.970 C 184.842 284.007,166.406 308.936,166.406 309.369 C 166.406 309.885,177.801 310.156,199.516 310.156 L 232.626 310.156 257.134 277.377 C 270.612 259.348,281.816 244.597,282.031 244.597 C 282.246 244.597,293.450 259.348,306.929 277.377 L 331.436 310.156 364.983 310.156 C 391.615 310.156,398.408 309.955,397.938 309.180 C 397.612 308.643,378.979 283.712,356.531 253.778 L 315.717 199.353 357.080 144.208 L 398.443 89.063 364.651 89.095 L 330.859 89.127 306.648 121.517 C 293.332 139.331,282.254 153.906,282.031 153.906 C 281.808 153.906,270.731 139.331,257.414 121.517 L 233.203 89.127 122.415 89.095 C 33.983 89.069,11.746 89.260,12.218 90.039 M61.719 155.393 C 61.719 155.786,67.702 164.132,75.014 173.938 C 82.326 183.745,88.135 192.222,87.922 192.777 C 87.710 193.331,68.016 219.749,44.158 251.483 C 20.301 283.217,0.781 309.400,0.781 309.668 C 0.781 309.937,15.811 310.146,34.180 310.133 L 67.578 310.109 108.954 255.054 L 150.331 200.000 183.759 200.000 C 202.145 200.000,217.188 199.703,217.188 199.340 C 217.188 198.976,209.521 188.869,200.151 176.879 L 183.114 155.078 122.416 154.878 C 86.076 154.758,61.719 154.965,61.719 155.393 \" \n      stroke={stroke} \n      fill={currentColor}\n      fillRule=\"evenodd\">\n    </path>\n  </g></svg>\n\nexport default FX;\n","import { useState } from \"react\";\nimport {\n  Button,\n  Box,\n  Typography,\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  CircularProgress,\n  Badge,\n} from '@material-ui/core';\nimport logoCircle from '../assets/ring.png';\nimport TourHome from '../components/Tours/TourHome';\nimport useStore from '../utils/apiStore';\nimport FX from \"../components/Icons/FX\";\n// import useAddToHomescreenPrompt from \"../utils/useAddToHomeScreenPromt\";\n\nconst sleep = ms => {\n  return new Promise(resolve => setTimeout(resolve, ms));\n};\n\nexport default function Home(props) {\n  const scanForDevices = useStore((state) => state.scanForDevices);\n  const getDevices = useStore((state) => state.getDevices);\n  const getVirtuals = useStore((state) => state.getVirtuals);\n  const [scanning, setScanning] = useState(false)\n  const invisible = useStore((state) => state.tours.home);\n  // const [promptable, promptToInstall, isInstalled] = useAddToHomescreenPrompt();\n  // console.log(promptable, promptToInstall, isInstalled)\n  const handleScan = () => {\n    setScanning(true)\n    scanForDevices().then(async () => {\n      for (let sec = 1; sec <= 30; sec++) {\n        await sleep(1000).then(() => {\n          getDevices();\n          getVirtuals();\n          setScanning(sec)\n        });\n      }\n    }).then(() => {\n      setScanning(false)\n    })\n  }\n  return (\n    <>\n      <div className=\"Content\">\n        <div style={{ position: 'relative' }} >\n          <img src={logoCircle} className=\"App-logo\" alt=\"logo-circle\" />\n          <FX />\n        </div>\n      </div>\n      <Card\n        variant=\"outlined\"\n        style={{\n          maxWidth: '400px',\n          margin: '0.5rem auto 2rem auto',\n        }}\n      >\n        <CardHeader title=\"Welcome to LedFx\" />\n        <CardContent>\n          Complete Frontend Rewrite... from scratch\n          <ul>\n            <li>Modern React</li>\n            <li>Zustand as State-Management</li>\n            <li>Typescript supported</li>\n            <li>Mobile First</li>\n            <li>by Blade</li>\n          </ul>\n        </CardContent>\n        <CardActions>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <TourHome className={'step-one'} />\n          </Badge>\n          <Button onClick={() => handleScan()} variant=\"outlined\">\n            {scanning ? <><CircularProgress\n              variant=\"determinate\"\n              value={(scanning / 30) * 100}\n              size={24}\n            />\n              <Box\n                top={0}\n                left={0}\n                bottom={0}\n                right={0}\n                position=\"absolute\"\n                display=\"flex\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n              >\n                <Typography variant=\"caption\" style={{ fontSize: 10 }} component=\"div\" color=\"textSecondary\">{`${Math.round(\n                  (scanning / 30) * 100,\n                )}%`}</Typography>\n              </Box>\n            </> : 'WLED-scan'}\n          </Button>\n        </CardActions>\n      </Card>\n      {/* {promptable && !isInstalled ? (\n        <ButtonElement onClick={promptToInstall}>INSTALL APP</ButtonElement>\n      ) : null} */}\n    </>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useIntegrationCardStyles = makeStyles((theme) => ({\n    integrationCardPortrait: {\n      padding: '1rem',\n      margin: '0.5rem',\n      display: 'flex',\n      alignItems: 'flex-start',\n      flexDirection: 'column',\n      width: '290px',\n      justifyContent: 'space-between',\n      '@media (max-width: 580px)': {\n        maxWidth: '97vw',\n        margin: '0 auto',\n        height: 'unset',\n      }\n    },\n    integrationLink: {\n      flexGrow: 0,\n      padding: '0 0.5rem',\n      textDecoration: 'none',\n      fontSize: 'large',\n      color: 'inherit',\n  \n      '&:hover': {\n        color: theme.palette.primary.main,\n      },\n    },\n    integrationIcon: {\n      margingBottom: '4px',\n      marginRight: '0.5rem',\n      position: 'relative',\n      fontSize: '50px',\n    },\n    integrationCardContainer: {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'column',\n      width: '100%',\n      height: '100%',\n      justifyContent: 'space-between',\n      '@media (max-width: 580px)': {\n        flexDirection: 'row',\n      },\n    },\n    iconMedia: {\n      height: 140,\n      display: 'flex',\n      alignItems: 'center',\n      margin: '0 auto',\n      fontSize: 100,\n      '& > span:before': {\n        position: 'relative',\n      },\n    },\n    editButton: {\n      minWidth: 32,\n      marginLeft: theme.spacing(1),\n      '@media (max-width: 580px)': {\n        minWidth: 'unset',\n      },\n    },\n    editButtonMobile: {\n      minWidth: 32,\n      marginLeft: theme.spacing(1),\n      '@media (max-width: 580px)': {\n        minWidth: 'unset',\n        flexGrow: 1,\n      },\n    },\n    expand: {\n      display: 'none',\n      transform: 'rotate(0deg)',\n      marginLeft: 'auto',\n      transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest,\n      }),\n      '@media (max-width: 580px)': {\n        display: 'block'\n      },\n    },\n    expandOpen: {\n      transform: 'rotate(180deg)',\n    },\n    buttonBar: {    \n      '@media (max-width: 580px)': {\n        display: 'none'\n      },\n    },\n    buttonBarMobile: {\n      width: '100%',\n      textAlign: 'right',\n    },\n    buttonBarMobileWrapper: {\n      display: 'flex',\n      margin: '0 -1rem -1rem -1rem',\n      padding: '0.5rem 0.5rem 1.5rem 0.5rem',\n      background: 'rgba(0,0,0,0.4)',\n      '& > div, & > button': {\n        flexGrow: 1,\n        flexBasis: '30%'\n      },\n      '& > div > button': {\n        width: '100%'\n      }\n    },\n  }));","import { useState } from 'react';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport EditIcon from '@material-ui/icons/Edit';\nimport AddIcon from '@material-ui/icons/Add';\nimport useStore from '../../../utils/apiStore';\nimport Popover from '../../../components/Popover';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from '@material-ui/core/IconButton';\nimport { CardActions, CardHeader, Switch } from '@material-ui/core';\nimport { useIntegrationCardStyles } from './IntegrationCard.styles'\n\nconst IntegrationCard = ({ integration }) => {\n\n  const classes = useIntegrationCardStyles();\n  const getIntegrations = useStore((state) => state.getIntegrations);\n  const integrations = useStore((state) => state.integrations);\n  const deleteIntegration = useStore((state) => state.deleteIntegration);\n  const toggleIntegration = useStore((state) => state.toggleIntegration);\n  const setDialogOpenAddIntegration = useStore((state) => state.setDialogOpenAddIntegration);\n\n  const [expanded, setExpanded] = useState(false);\n  const variant = 'outlined';\n  const color = 'inherit';\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const handleDeleteDevice = (integration) => {\n    deleteIntegration(integrations[integration].id).then(() => {\n      getIntegrations();\n    });\n  };\n\n  const handleEditIntegration = (integration) => {\n    setDialogOpenAddIntegration(true, integration)\n  };\n  const handleActivateIntegration = (integration) => {\n    toggleIntegration({\n      id: integration.id\n    }).then(() => getIntegrations())\n  };\n\n  return integrations[integration]?.config ? (\n    <Card className={classes.integrationCardPortrait}>\n      <CardHeader \n        title={integrations[integration].config.name} \n        subheader={integrations[integration].config.description} \n        action={\n          <Switch aria-label=\"status\" checked={integrations[integration].active} onClick={() => handleActivateIntegration(integrations[integration])} />\n        }\n      />\n      <CardActions style={{alignSelf: 'flex-end'}}>\n      <div className={classes.integrationCardContainer}>\n        <IconButton\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <ExpandMoreIcon />\n        </IconButton>\n        <div className={classes.buttonBar}>\n          <Popover\n            variant={variant}\n            color={color}\n            onConfirm={() => handleDeleteDevice(integration)}\n            className={classes.editButton}\n          />\n\n          <Button\n            variant={variant}\n            size=\"small\"\n            color={color}\n            className={classes.editButton}\n            onClick={() => handleEditIntegration(integration)}\n          >\n            <EditIcon />\n          </Button>\n          <Button\n            variant={variant}\n            size=\"small\"\n            color={color}\n            className={classes.editButton}\n            onClick={() => console.log(\"coming soon...\")}\n            disabled\n          >\n            <AddIcon />\n          </Button>\n        </div>\n      </div>\n\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit className={classes.buttonBarMobile}>\n        <div className={classes.buttonBarMobileWrapper}>\n          <Popover\n            variant={variant}\n            color={color}\n            onConfirm={() => handleDeleteDevice(integration)}\n            className={classes.editButton}\n          />         \n          <Button\n            variant={variant}\n            size=\"small\"\n            color={color}\n            className={classes.editButtonMobile}\n            onClick={() => handleEditIntegration(integration)}\n          >\n            <EditIcon />\n          </Button>\n        </div>\n      </Collapse>\n      </CardActions>\n     \n    </Card>\n  ) :(\n    <></>\n  )\n}\n\nexport default IntegrationCard\n","import { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useStore from '../../utils/apiStore';\nimport IntegrationCard from './IntegrationCard/IntegrationCard';\nimport NoYet from '../../components/NoYet';\n\nconst useStyles = makeStyles((theme) => ({\n  cardWrapper: {\n    display: 'flex', flexWrap: 'wrap', margin: '-0.5rem', justifyContent: 'center'\n  },\n  '@media (max-width: 580px)' : {\n    cardWrapper:{\n      justifyContent: 'center'\n    }\n  }\n}));\n\nconst Integrations = () => {\n  const classes = useStyles();\n  const getIntegrations = useStore((state) => state.getIntegrations);\n  const integrations = useStore((state) => state.integrations);\n\n  useEffect(() => {\n    getIntegrations();\n  }, [getIntegrations]);\n  return (\n    <div className={classes.cardWrapper}>\n    {integrations && Object.keys(integrations).length ? Object.keys(integrations).map((integration, i) => (\n      <IntegrationCard integration={integration} key={i} />\n    )) : (<NoYet type=\"Integration\" />)}\n  </div>\n  );\n};\n\nexport default Integrations;\n","export const drawerWidth = 240;\nexport const frontendConfig = 3;\n\n\nexport const camelToSnake = (str) => str[0].toLowerCase()\n  + str\n    .slice(1, str.length)\n    .replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n\nexport const download = (content, fileName, contentType) => {\n  const a = document.createElement('a');\n  const file = new Blob([JSON.stringify(content, null, 4)], {\n    type: contentType,\n  });\n  a.href = URL.createObjectURL(file);\n  a.download = fileName;\n  a.click();\n};\n\n\nexport const getOverlapping = (data) => {\n  const tmp = {};\n  data.forEach(([name, start, end]) => {\n      if (!tmp[name]) {\n          tmp[name] = {};\n          data.forEach(y => {\n              tmp[name].items = [];\n              tmp[name].overlap = false;\n              tmp[name].items.push([start, end]);\n          });\n      } else {\n          tmp[name].items.push([start, end]);\n      }\n  });\n  Object.keys(tmp).forEach(e =>\n      tmp[e].items\n          .sort(([startA], [startB]) => startA > startB)\n          .forEach(([start, end], i) => {\n              if (tmp[e].items[i + 1]) {\n                  const [startNew, endNew] = tmp[e].items[i + 1];\n                  if (startNew <= end && endNew >= start) {\n                      tmp[e].overlap = true;\n                  }\n              }\n          })\n  );\n  return tmp;\n}\n\nexport const swap = (array, i, j) => [array[i], array[j]] = [array[j], array[i]];\n\nexport const deleteFrontendConfig = () => {\n    window.localStorage.removeItem('undefined')\n    window.localStorage.removeItem('ledfx-host')\n    window.localStorage.removeItem('ledfx-hosts')\n    window.localStorage.removeItem('ledfx-ws')\n}\n\nexport const initFrontendConfig = () => {\n    if (window.localStorage.getItem('ledfx-frontend') >= frontendConfig) {\n        return\n    }\n    window.localStorage.removeItem('undefined')\n    window.localStorage.setItem('ledfx-frontend', frontendConfig)\n}","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false };\n    }\n\n    static getDerivedStateFromError(error) {\n        // Update state so the next render will show the fallback UI.\n        return { hasError: true };\n    }\n\n    componentDidCatch(error, errorInfo) {\n        // You can also log the error to an error reporting service\n        // logErrorToMyService(error, errorInfo);\n        console.log(error, errorInfo);\n    }\n\n    render() {\n        if (this.state.hasError) {\n            // You can render any custom fallback UI\n            return <div style={{\n                maxWidth: 360, width: '100%', display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center',\n                textAlign: 'center',\n                margin: '0 auto',\n                paddingTop: '3rem'\n            }}>\n                <h1>Something went wrong</h1>\n                <p>\n                    Deleting the browser's frontend-data might help,<br />\n                    if there is old config data left.\n                </p>\n                <button style={{ height: 40, borderRadius: 10, border: '1px solid #999', color: '#fff', backgroundColor: '#600000', cursor: 'pointer'}} onClick={() => {\n                    window.localStorage.removeItem('undefined')\n                    window.localStorage.removeItem('ledfx-host')\n                    window.localStorage.removeItem('ledfx-hosts')\n                    window.localStorage.removeItem('ledfx-ws')\n                    window.location.reload()\n                }}>Refresh Page</button><br />\n                <button style={{ height: 40, borderRadius: 10, border: '1px solid #999', color: '#fff', backgroundColor: '#600000', cursor: 'pointer'}}  onClick={() => {\n                    window.location.reload()\n                }}>Clear Browser-Data</button><br />\n                {/* <button onClick={() => {\n                    if (window.confirm(\"Are you sure to delete your ledfx-config?\")) {\n                        alert('NICE')\n                    }\n\n                }}>Clear LedFx-Config</button> */}\n            </div>;\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport ErrorBoundary from './utils/ErrorBoundary';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <ErrorBoundary>\n    <App />\n  </ErrorBoundary>,\n  // </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from 'axios';\n\nconst baseURL = 'http://localhost:8888';\nconst storedURL = window.localStorage.getItem('ledfx-host');\n\nconst api = axios.create({\n  baseURL: storedURL || baseURL,\n});\n\nexport const Ledfx = async (path, set, method = 'GET', body) => {\n  try {\n    let response = null;\n    switch (method) {\n      case 'PUT':\n        response = await api.put(path, body);\n        break;\n      case 'DELETE':\n        response = await api.delete(path, body);\n        break;\n      case 'POST':\n        response = await api.post(path, body);\n        break;\n\n      default:\n        response = await api.get(path);\n        break;\n    }\n    \n    if (response.data && response.data.payload){\n      // console.log(\"YZ1\", response)\n      set({\n        ui: {\n          snackbar: {\n            isOpen: true,\n            messageType: response.data.payload.type || 'error',\n            message:\n              response.data.payload.reason || response.data.payload.message || JSON.stringify(response.data.payload),\n          },\n        },\n      });\n      if (response.data.status) {\n        return response.data.status\n      }\n    }\n    if (response.payload) {\n      // console.log(\"YZ2\", response)\n      set({\n        ui: {\n          snackbar: {\n            isOpen: true,\n            messageType: response.payload.type || 'error',\n            message:\n              response.payload.reason || response.payload.message || JSON.stringify(response.payload),\n          },\n        },\n      });\n    }\n    if (response.status === 200) {\n      // console.log(\"YZ3\", response)\n      return response.data || response;\n    }\n\n    set({\n      ui: {\n        snackbar: {\n          isOpen: true,\n          messageType: 'error',\n          message: response.error || JSON.stringify(response),\n        },\n      },\n    });\n  } catch (error) {\n   \n    // console.log(\"YZ4\", JSON.parse(JSON.stringify(error)))\n    if (error.message) {\n      return set({\n        ui: {\n          snackbar: {\n            isOpen: true,\n            messageType: 'error',\n            message: JSON.stringify(error.message),\n          },\n        },\n      });\n    }\n    set({\n      ui: {\n        snackbar: {\n          isOpen: true,\n          messageType: 'error',\n          message: JSON.stringify(error, null, 2),\n        },\n      },\n    });\n    // console.log(error);\n  }\n};\n","import create from 'zustand';\nimport { devtools, persist } from 'zustand/middleware';\nimport { Ledfx } from './apiProxy';\n\nconst useStore = create(\n  persist(\n    devtools((set, get) => ({\n\n      host: 'http://localhost:8888',\n      setHost: (host) => {\n        window.localStorage.setItem('ledfx-host', host.title ? host.title : host);\n        return set((state) => ({\n          host,\n        }));\n      },\n\n      // FRONTEND STUFF\n      tours: {\n        home: false,\n        devices: false,\n        device: false,\n        integrations: false,\n        scenes: false,\n        settings: false\n      },\n      setTour: (tour) => set((state) => ({\n        tours: {\n          ...state.tours,\n          [tour]: true\n        }\n      })),\n\n      viewMode: 'user',\n      setViewMode: (mode) => set(() => ({\n        viewMode: mode\n      })),\n\n      schemaForm: {\n        color_mode: 'picker',\n        bool_mode: 'switch',\n        gradient_mode: 'picker-var2',\n      },\n      setSchemaForm: (attrib, value) => set((state) => ({\n        schemaForm: {\n          ...state.schemaForm,\n          [attrib]: value\n        }\n      })),\n      pixelGraphs: [],\n      setPixelGraphs: (virtuals) => set((state) => ({\n        pixelGraphs: [...virtuals]\n      })),\n\n      dialogs: {\n        nohost: {\n          open: false,\n          edit: false\n        },\n        addScene: {\n          open: false,\n        },\n        addDevice: {\n          open: false,\n          edit: {},\n        },\n        addVirtual: {\n          open: false,\n          edit: {},\n        },\n        addIntegration: {\n          open: false,\n          edit: {},\n        },\n      },\n      setDialogOpen: (open, edit = false) => set((state) => ({\n        dialogs: {\n          ...state.dialogs,\n          nohost: {\n            open,\n            edit,\n          },\n        },\n      })),\n      setDialogOpenAddScene: (open, edit = false) => set((state) => ({\n        dialogs: {\n          ...state.dialogs,\n          addScene: {\n            open,\n            edit,\n          },\n        },\n      })),\n      setDialogOpenAddDevice: (open, edit = false) => set((state) => ({\n        dialogs: {\n          ...state.dialogs,\n          addDevice: {\n            open,\n            edit,\n          },\n        },\n      })),\n      setDialogOpenAddVirtual: (open, edit = false) => set((state) => ({\n        dialogs: {\n          ...state.dialogs,\n          addVirtual: {\n            open,\n            edit,\n          },\n        },\n      })),\n      setDialogOpenAddIntegration: (open, edit = false) => set((state) => ({\n        dialogs: {\n          ...state.dialogs,\n          addIntegration: {\n            open,\n            edit,\n          },\n        },\n      })),\n\n      ui: {\n        snackbar: {\n          isOpen: false,\n          type: 'error',\n          message: 'NO MESSAGE',\n        },\n        bars: {\n          leftBar: {\n            open: false,\n          },\n        }\n      },\n      setLeftBarOpen: (open) => set((state) => ({\n        ui: {\n          ...state.ui,\n          bars: {\n          leftBar: {\n            open,\n          },\n        }},\n      })),\n      showSnackbar: ({ messageType, message }) => {\n        set((state) => ({\n          ui: {\n            ...state.ui,\n            snackbar: { isOpen: true, message, messageType },\n          },\n        }));\n      },\n      clearSnackbar: () => {\n        set((state) => ({\n          ui: {\n            ...state.ui,\n            snackbar: {\n              ...state.ui.snackbar,\n              isOpen: false,\n            },\n          },\n        }));\n      },\n\n      // Cloud\n      // const [isLogged, setIsLogged] = useState(!!localStorage.getItem('jwt'));\n      isLogged: false,\n      setIsLogged: (logged) => set(() => ({\n        isLogged: logged\n      })),\n      // API\n      devices: {},\n      getDevices: async () => {\n        const resp = await Ledfx('/api/devices', set);\n        if (resp && resp.devices) {\n          set({ devices: resp.devices });\n        }\n      },\n      addDevice: async (config) => await Ledfx(\n        `/api/devices`,\n        set,\n        'POST',\n        config,\n      ),\n      updateDevice: async (deviceId, config) => await Ledfx(\n        `/api/devices/${deviceId}`,\n        set,\n        'PUT',\n        config,\n      ),\n\n      virtuals: {},\n      getVirtuals: async () => {\n        const resp = await Ledfx('/api/virtuals', set);\n        if (resp) {          \n          set({ paused: resp.paused });\n          if (resp && resp.virtuals) {          \n            set({ virtuals: resp.virtuals });\n          }\n        }\n      },\n      addVirtual: async (config) => await Ledfx(\n        `/api/virtuals`,\n        set,\n        'POST',\n        config,\n      ),\n      updateVirtual: async (virtId, { active }) => await Ledfx(\n        `/api/virtuals/${virtId}`,\n        set,\n        'PUT',\n        {\n          active: active\n        },\n      ),\n      deleteVirtual: async (virtId) => await Ledfx(\n        `/api/virtuals/${virtId}`,\n        set,\n        'DELETE',\n      ),\n      clearVirtualEffect: async (virtId) => await Ledfx(\n        `/api/virtuals/${virtId}/effects`,\n        set,\n        'DELETE',\n      ),\n      setVirtualEffect: async (virtId, { type, config, active }) => {\n        const resp = await Ledfx(\n          `/api/virtuals/${virtId}/effects`,\n          set,\n          'POST',\n          {\n            type,\n            config,\n            active,\n          },\n        );\n\n        if (resp && resp.effect) {\n          set({\n            virtuals: get().virtuals,\n            ...{\n              [virtId]: {\n                effect: {\n                  type: resp.effect.type,\n                  name: resp.effect.name,\n                  config: resp.effect.config,\n                },\n              },\n            },\n\n          });\n        }\n      },\n      updateVirtualEffect: async (virtId, { type, config, active }) => {\n        const resp = await Ledfx(\n          `/api/virtuals/${virtId}/effects`,\n          set,\n          'PUT',\n          {\n            type,\n            config,\n            active,\n          },\n        );\n        if (resp && resp.status && resp.status === 'success') {\n          if (resp && resp.effect) {\n            set({\n              virtuals: get().virtuals,\n              ...{\n                [virtId]: {\n                  effect: {\n                    type: resp.effect.type,\n                    name: resp.effect.name,\n                    config: resp.effect.config,\n                  },\n                },\n              },\n\n            });\n          }\n        }\n      },\n      updateVirtualSegments: async ({ virtId, segments }) => {\n        const resp = await Ledfx(\n          `/api/virtuals/${virtId}`,\n          set,\n          'POST',\n          {\n            segments: [...segments],\n          },\n        );\n        if (resp && resp.status && resp.status === 'success') {\n          if (resp && resp.effect) {\n            set({\n              virtuals: get().virtuals,\n              ...{\n                [virtId]: {\n                  effect: {\n                    type: resp.effect.type,\n                    name: resp.effect.name,\n                    config: resp.effect.config,\n                  },\n                },\n              },\n\n            });\n          }\n        }\n      },\n\n      presets: {},\n      getPresets: async (effectId) => {\n        const resp = await Ledfx(`/api/effects/${effectId}/presets`, set);\n        if (resp && resp.status === 'success') {\n          set({ presets: resp });\n        }\n      },\n      addPreset: async (effectId, name) => await Ledfx(\n        `/api/virtuals/${effectId}/presets`,\n        set,\n        'POST',\n        { name }\n      ),\n      activatePreset: async (virtId, category, effectType, presetId) => await Ledfx(\n        `/api/virtuals/${virtId}/presets`,\n        set,\n        'PUT',\n        {\n          category,\n          effect_id: effectType,\n          preset_id: presetId,\n        },\n      ),\n      deletePreset: async (effectId, presetId) => await Ledfx(\n        `/api/effects/${effectId}/presets`,\n        set,\n        'DELETE',\n        {\n          data: {\n            preset_id: presetId,\n            category: 'user_presets',\n          }\n        },\n      ),\n\n      scenes: {},\n      getScenes: async () => {\n        const resp = await Ledfx('/api/scenes', set);\n        if (resp && resp.scenes) {\n          set({ scenes: resp.scenes });\n        }\n      },\n      addScene: async ({ name, scene_image }) => await Ledfx(\n        '/api/scenes',\n        set,\n        'POST',\n        { name, scene_image },\n      ),\n      activateScene: async ({ id }) => await Ledfx(\n        '/api/scenes',\n        set,\n        'PUT',\n        {\n          id,\n          action: 'activate',\n        },\n\n      ),\n      deleteScene: async (name) => await Ledfx(\n        '/api/scenes',\n        set,\n        'DELETE',\n        { data: { id: name } },\n      ),\n\n      integrations: {},\n      getIntegrations: async () => {\n        const resp = await Ledfx('/api/integrations', set);\n        if (resp && resp.integrations) {\n          set({ integrations: resp.integrations });\n        }\n      },\n      addIntegration: async (config) => await Ledfx(\n        `/api/integrations`,\n        set,\n        'POST',\n        config,\n      ),\n      updateIntegration: async (config) => await Ledfx(\n        `/api/integrations`,\n        set,\n        'POST',\n        config,\n      ),\n      toggleIntegration: async (config) => await Ledfx(\n        `/api/integrations`,\n        set,\n        'PUT',\n        config,\n      ),\n      deleteIntegration: async (config) => await Ledfx(\n        `/api/integrations`,\n        set,\n        'DELETE',\n        { data: { id: config } }\n      ),\n\n      schemas: {},\n      getSchemas: async () => {\n        const resp = await Ledfx('/api/schema', set);\n        if (resp) {\n          set({ schemas: resp });\n        }\n      },\n\n      config: {},\n      getSystemConfig: async () => {\n        const resp = await Ledfx('/api/config', set);\n        if (resp && resp.host) {\n          set({ config: { ...resp, ...{ ledfx_presets: undefined, devices: undefined, virtuals: undefined, virtuals: undefined, integrations: undefined, scenes: undefined } } });\n        } else {\n          set({ dialogs: { nohost: { open: true } } });\n        }\n      },\n      getFullConfig: async () => {\n        const resp = await Ledfx('/api/config', set);\n        if (resp && resp.host) {\n          return { ...resp, ...{ ledfx_presets: undefined } };\n        } else {\n          set({ dialogs: { nohost: { open: true } } });\n        }\n      },\n      setSystemConfig: async ({config}) => await Ledfx('/api/config', set, 'PUT', config),\n      deleteSystemConfig: async () => await Ledfx('/api/config', set, 'DELETE'),\n      importSystemConfig: async (config) => await Ledfx('/api/config', set, 'POST', config),\n\n      scanForDevices: async () => {\n        const resp = await Ledfx('/api/find_devices', set, 'POST', {});\n        if (resp && resp.status === 'success') {\n          \n        } else {\n          set({ dialogs: { nohost: { open: true } } });\n        }\n      },\n\n      paused: false,\n      togglePause: async () => {\n        const resp = await Ledfx('/api/virtuals', set, 'PUT', {});\n        if (resp && resp.paused) {\n          set({ paused: resp.paused })\n        }\n      },\n\n      graphs: false,\n      toggleGraphs: () => {\n          set((state) => ({ graphs: !state.graphs }))\n      },\n\n      shutdown: async () => await Ledfx('/api/power', set, 'POST', {\n        timeout: 0,\n        action: 'shutdown',\n      }),\n      restart: async () => await Ledfx('/api/power', set, 'POST', {\n        timeout: 0,\n        action: 'restart',\n      }),\n      getPing: async (virtId) => await Ledfx(`/api/ping/${virtId}`, set),\n      getDevice: async (deviceId) => {\n        const resp = await Ledfx(`/api/devices/${deviceId}`, set);\n        if (resp && resp.data) {\n          return {\n            key: deviceId,\n            id: deviceId,\n            name: resp.data.name,\n            config: resp.data,\n            virtuals: resp.data.virtuals,\n            active_virtuals: resp.data.active_virtuals,\n          };\n        }\n      },\n      webAud: false,\n      setWebAud: (newState) => {\n        set((state) => ({ webAud: newState }))        \n      },\n      webAudName: '',\n      setWebAudName: (newState) => {\n        set((state) => ({ webAudName: newState }))        \n      },\n      clientDevice: null,\n      clientDevices: null,\n      setClientDevice: (newState) => {\n        set((state) => ({ clientDevice: newState }))        \n      },      \n      setClientDevices: (newState) => {\n        set((state) => ({ clientDevices: newState }))        \n      },      \n      spotifyEmbedUrl: 'https://open.spotify.com/embed/playlist/4sXMBGaUBF2EjPvrq2Z3US?',\n      setSpotifyEmbedUrl: (url) => {\n        set((state) => ({ spotifyEmbedUrl: url }))        \n      },\n    })),\n  ),\n);\n\nexport default useStore;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PopoverOriginal from '@material-ui/core/Popover';\nimport { Typography, Button, MenuItem, ListItemIcon, } from '@material-ui/core';\nimport { Delete, Close, Check } from '@material-ui/icons';\nimport { useLongPress } from 'use-long-press';\n\nconst useStyles = makeStyles((theme) => ({\n  typography: {\n    padding: theme.spacing(2),\n  },\n}));\n\nexport default function Popover({\n  onConfirm,\n  confirmDisabled,\n  confirmContent,\n  onSingleClick = () => {},\n  onDoubleClick,\n  openOnDoubleClick = false,\n  openOnLongPress = false,\n  variant = 'contained',\n  color = 'secondary',\n  label,\n  text = 'Are you sure?',\n  direction = 'left',\n  vertical = 'center',\n  size = 'small',\n  icon = <Delete />,\n  content,\n  footer,\n  className,\n  startIcon,\n  noIcon = false,\n  style = {},\n  disabled = false,\n  popoverStyle,\n  wrapperStyle,\n  type,\n}) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openPopover = (event) => {\n    setAnchorEl(event.currentTarget || event.target)\n  };\n  const handleClose = () => {\n    setAnchorEl(null)\n  };\n  const longPress = useLongPress((e) => openPopover(e), {\n    onCancel: e => {\n      console.log('click')\n      onSingleClick && onSingleClick()\n    },\n    treshhold: 1000,\n    captureEvent: true,\n  });\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n\n  return (\n    <div style={{ display: 'initial', ...wrapperStyle }}>\n      {type === 'menuItem'\n        ? <MenuItem className={className} onClick={(e) => { e.preventDefault(); onSingleClick(e); openPopover(e)}}>\n          <ListItemIcon>\n            {icon}\n          </ListItemIcon>\n          {label}\n        </MenuItem>\n        : openOnLongPress\n        ? <Button\n          aria-describedby={id}\n          variant={variant}\n          color={color}\n          size={size}\n          className={className}\n          style={style}\n          startIcon={!noIcon && startIcon}\n          disabled={disabled}\n          {...longPress}\n        >\n          {label}\n          {!startIcon && !noIcon && icon}\n        </Button>\n        : <Button\n          aria-describedby={id}\n          variant={variant}\n          color={color}\n          onClick={(e) => {\n            e.preventDefault()\n            !openOnDoubleClick && openPopover(e)\n            onSingleClick && onSingleClick(e)\n          }}\n          size={size}\n          className={className}\n          style={style}\n          startIcon={!noIcon && startIcon}\n          disabled={disabled}\n          onDoubleClick={(e) => {\n            e.preventDefault()\n            openOnDoubleClick && openPopover(e)\n            onDoubleClick && onDoubleClick(e)\n          }}\n        >\n          {label}\n          {!startIcon && !noIcon && icon}\n        </Button>}\n      <PopoverOriginal\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: vertical,\n          horizontal: direction,\n        }}\n        transformOrigin={{\n          vertical: vertical,\n          horizontal: direction === 'center' ? 'center' : 'right',\n        }}\n      >\n        <div style={{ display: 'flex', ...popoverStyle }}>\n          {content ? content : <Typography className={classes.typography}>{text}</Typography>}\n          \n          <Button\n            disabled={confirmDisabled}\n            aria-describedby={id}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => {\n              e.preventDefault()\n              onConfirm();\n              setAnchorEl(null);\n            }}\n          >\n            {confirmContent ? confirmContent : <Check />}\n            \n          </Button>\n          <Button\n            aria-describedby={id}\n            variant=\"outlined\"\n            color=\"default\"\n            onClick={(e) => {\n              e.preventDefault()\n              setAnchorEl(null);\n            }}\n          >\n            <Close />\n          </Button>\n        </div>\n        {footer}\n      </PopoverOriginal>\n    </div>\n  );\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, IconButton } from '@material-ui/core';\nimport { Info } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n    wrapper: {\n        minWidth: '200px',\n        padding: '16px 1.2rem 6px 1.2rem',\n        border: '1px solid rgba(255, 255, 255, 0.1)',\n        borderRadius: '10px',\n        position: 'relative',\n        display: 'flex',\n        alignItems: 'center',\n        height: 'auto',\n        margin: '0.5rem 0',\n        \"@media (max-width: 580px)\": {\n            width: '100% !important',\n            margin: '0.5rem 0',\n        },\n        '& > label': {\n            top: '-0.5rem',\n            display: 'flex',\n            alignItems: 'center',\n            left: '1rem',\n            padding: '0 0.3rem',\n            position: 'absolute',\n            fontVariant: 'all-small-caps',\n            fontSize: '0.9rem',\n            letterSpacing: '0.1rem',\n            backgroundColor: theme.palette.background.paper,\n            boxSizing: 'border-box',\n        },\n    },\n}));\n\nconst BladeFrame = ({ title, children, full = false, style = { width: 'unset' }, order, required = false, variant = 'outlined', className, disabled }) => {\n    const classes = useStyles();\n    return (variant === 'outlined' ? (\n        <div className={`${classes.wrapper} ${className}`} style={{\n            order: order || (title === 'Name' ? -2 : required ? -1 : 1),\n            ...style,\n            width: full ? '100%' : style.width\n        }}>\n            <label className={`MuiFormLabel-root${disabled ? ' Mui-disabled' : ''}`} onClick={()=>alert(1)}>{title}{required ? '*' : ''}</label>\n            {children}\n        </div>\n    ) : (\n        children\n    ))\n}\n\nexport default BladeFrame\n","import React from 'react';\n\nexport const Bottom = ({ stroke, strokeWidth, style }) => <path style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" d=\"M22751.73 30209.19l-4508.17 1605.87c6186.94,5970.28 15978.27,5978.16 22158.89,1.34l-4508.57 -1606.03c-3977.4,2650.87 -9163.74,2648.16 -13142.15,-1.18z\" />\nexport const Top = ({ stroke, strokeWidth, style }) => <path style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" d=\"M22802.89 10449.6l-4523.5 -1606.47c6163.23,-5924.29 15916.39,-5917.68 22087.23,-1.33l-4523.9 1606.62c-3958.6,-2605.67 -9083.15,-2607.37 -13039.83,1.18z\" />\nexport const Y = ({ stroke, strokeWidth, style }) => <polygon style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" points=\"11616.1,8249.12 11616.1,22417.04 24322.12,22417.04 24322.12,23326 15789.82,26458.12 15789.82,24700.98 11610.12,26235.29 11610.12,32404.98 28502.47,26387.7 28502.47,14246.16 22571.24,12139.74 22571.24,16618.6 24322.12,17196.7 24322.12,18147.8 15830.96,18147.8 15830.96,14182.39 17568.29,14856.66 17568.29,10363 \" />\nexport const Z = ({ stroke, strokeWidth, style }) => <polygon style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" points=\"47093.19,8225.33 30139.81,14246.16 30139.81,16475.31 36517.25,16475.31 42851.53,14225.75 42851.53,18170.76 30139.81,18170.76 30139.81,26387.7 47093.19,32426.72 47093.19,24108.92 42820.02,24108.92 42820.02,24487.97 42820.02,26458.31 34335.23,23420.94 34335.23,22451.01 47093.19,22451.01 \" />\n\nexport const YZLogo2Bottom = ({\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\n}) => (\n  <svg style={{ transform: 'scale(0.025)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\n    viewBox=\"0 0 59400 42000\">\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\n      <g id=\"YZLogo2Bottom\">\n        <Bottom stroke={stroke} strokeWidth={strokeWidth} />\n      </g>\n    </g>\n  </svg>\n);\nexport const YZLogo2Top = ({\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\n}) => (\n  <svg style={{ transform: 'scale(0.025)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\n    viewBox=\"0 0 59400 42000\">\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\n      <g id=\"YZLogo2Top\">\n        <Top stroke={stroke} strokeWidth={strokeWidth} />\n      </g>\n    </g>\n  </svg>\n);\nexport const YZLogo2Y = ({\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\n}) => (\n  <svg style={{ transform: 'scale(0.03)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\n    viewBox=\"0 0 29700 42000\">\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\n      <g id=\"YZLogo2Y\">\n        <Y stroke={stroke} strokeWidth={strokeWidth} />\n      </g>\n    </g>\n  </svg>\n);\nexport const YZLogo2Z = ({\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\n}) => (\n  <svg style={{ transform: 'scale(0.035)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\n    viewBox=\"29700 0 59400 42000\">\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\n      <g id=\"YZLogo2Z\">\n        <Z stroke={stroke} strokeWidth={strokeWidth} />\n      </g>\n    </g>\n  </svg>\n);\nexport const YZLogo2 = ({\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\n}) => (\n  <svg style={{ marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\n    viewBox=\"0 0 59400 42000\">\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\n      <g id=\"YZLogo2\">\n        <Z stroke={stroke} strokeWidth={strokeWidth} />\n        <Y stroke={stroke} strokeWidth={strokeWidth} />\n        <Top stroke={stroke} strokeWidth={strokeWidth} />\n        <Bottom stroke={stroke} strokeWidth={strokeWidth} />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default YZLogo2;\n","import { Icon } from '@material-ui/core'\nimport Wled from './Wled'\nimport { YZLogo2, YZLogo2Bottom, YZLogo2Top, YZLogo2Y, YZLogo2Z } from './YZ-Logo2'\nimport { camelToSnake } from '../../utils/helpers'\n\nconst BladeIcon = ({\n  colorIndicator = false,\n  name = \"MusicNote\",\n  className,\n  style,\n  scene = false,\n  card = false\n}) => {\n  return (\n    <Icon\n      className={className}\n      color={colorIndicator ? 'primary' : 'inherit'}\n      style={style}\n    >\n      {name.startsWith('yz:logo2y') ? <YZLogo2Y style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\n        : name.startsWith('yz:logo2z') ? <YZLogo2Z style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\n        : name.startsWith('yz:logo2top') ? <YZLogo2Top style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\n        : name.startsWith('yz:logo2bot') ? <YZLogo2Bottom style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\n        : name.startsWith('yz:logo2') ? <YZLogo2 style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\n        : name.startsWith('wled') ? <Wled />\n        : name.startsWith('mdi:') ? <span className={`mdi mdi-${name.split('mdi:')[1]}`} />\n        : camelToSnake(name)}\n    </Icon>\n  )\n}\n\nexport default BladeIcon\n","import React from 'react';\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport useStore from './apiStore';\nimport Sockette from 'sockette';\n\n\n// const ws = new WebSocket(`${window.location.protocol === 'https' ? 'wss' : 'ws'}://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0] || 'localhost:8888'}/api/websocket`);\n// const ws = new WebSocket(`${(window.localStorage.getItem('ledfx-host') && window.localStorage.getItem('ledfx-host').startsWith('https')) ? 'wss' : 'ws'}://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0] || 'localhost:8888'}/api/websocket`);\n// const ws = new WebSocket(`wss://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0].split(':')[0] || 'localhost:8888'}/api/websocket`);\n// const ws = new WebSocket(`${window.localStorage.getItem('ledfx-ws') ? window.localStorage.getItem('ledfx-ws') : 'ws://localhost:8888'}/api/websocket`, (window.localStorage.getItem('ledfx-ws') && window.localStorage.getItem('ledfx-ws').startsWith('wss')) ? 'https' : 'http');\n// const ws = new WebSocket(`wss://127.0.0.1/api/websocket`, 'wss');\n\n\nfunction createSocket() {  \nconst _ws = new Sockette(`${window.localStorage.getItem('ledfx-host') ? window.localStorage.getItem('ledfx-host').replace('https://','wss://').replace('http://','ws://') : 'ws://localhost:8888'}/api/websocket`, {\n  timeout: 5e3,\n  maxAttempts: 10,\n  onopen: e => {\n    // console.log('Connected!', e)\n    _ws.ws = e.target;\n  },\n  onmessage: (event) => {\n    if (JSON.parse(event.data).event_type === \"visualisation_update\") {\n      document.dispatchEvent(\n        new CustomEvent(\"YZ\", {\n          detail: {\n            id: JSON.parse(event.data).vis_id,\n            pixels: JSON.parse(event.data).pixels,\n          }\n        })\n      );\n    }\n  },\n  onreconnect: e => console.log('Reconnecting...', e),\n  onmaximum: e => console.log('Stop Attempting!', e),\n  onclose: e => console.log('Closed!', e),\n  onerror: e => console.log('Error:', e)\n});\nreturn _ws\n}\nconst ws = createSocket();\nexport default ws;\nexport const WsContext = React.createContext(ws);\n\nexport const HandleWs = () => {\n  const { pathname } = useLocation();\n  const virtuals = useStore((state) => state.virtuals);\n  const pixelGraphs = useStore((state) => state.pixelGraphs);\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\n  const graphs = useStore((state) => state.graphs);\n  const [wsReady, setWsReady] = useState(false)\n  \n  useLayoutEffect(() => {\n    if (!(pathname.startsWith(\"/Devices\") || pathname.startsWith(\"/device\"))) {\n      setPixelGraphs([]);\n    }\n  }, [pathname]);\n\n  useLayoutEffect(() => {\n    if (!graphs) {\n      setPixelGraphs([]);\n    }\n  }, [graphs]);\n\n  useEffect(() => {\n    if (pixelGraphs.length > 0 && wsReady) {\n      pixelGraphs.map((d, i) => {\n        const getWs = async () => {\n          const request = {\n            event_filter: {\n              vis_id: d,\n              is_device: !!virtuals[d]?.is_device,\n            },\n            event_type: \"visualisation_update\",\n            id: i,\n            type: \"subscribe_event\",\n          };\n          // console.log(\"Send\");\n          ws.send(JSON.stringify(++request.id && request));\n        };\n        getWs();\n      })\n\n      return () => {\n        pixelGraphs.map((d, i) => {\n          const removeGetWs = async () => {\n            const request = {\n              id: i,\n              type: \"unsubscribe_event\",\n              event_type: \"visualisation_update\",\n            };\n            ws.send(JSON.stringify(++request.id && request));\n          };\n          // console.log(\"Clean Up\");\n          removeGetWs();\n        })\n      }\n    }\n  }, [wsReady, pixelGraphs]);\n\n  if (!wsReady) {\n    if (ws.ws) {\n      setWsReady(true)\n    }\n  }  \n\n  return null;\n}","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Fab,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  Select,\n  DialogActions,\n  Button,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  ListSubheader,\n} from '@material-ui/core';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport BladeBoolean from './BladeBoolean';\nimport BladeSelect from './BladeSelect';\nimport BladeSlider from './BladeSlider';\nimport BladeFrame from './BladeFrame';\n\nconst useStyles = makeStyles((theme) => ({\n  bladeSchemaForm: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-between',\n  },\n  FormListHeaders: {\n    background: theme.palette.secondary.main,\n    color: '#fff',\n  },\n}));\n\nconst BladeSchemaFormNew = (props) => {\n  const {\n    schema,\n    model,\n    disableUnderline,\n    colorMode = 'picker',\n    boolMode = 'switch',\n    boolVariant = 'outlined',\n    selectVariant = 'outlined',\n    sliderVariant = 'outlined',\n    onModelChange = (e) => e,\n  } = props;\n\n\n\n  // console.log(schema)\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n  const [_boolMode, _setBoolMode] = useState(boolMode);\n  const [_boolVariant, _setBoolVariant] = useState(boolVariant);\n  const [_selectVariant, _setSelectVariant] = useState(selectVariant);\n  const [_sliderVariant, _setSliderVariant] = useState(sliderVariant);\n  const [_colorMode, _setColorMode] = useState(colorMode);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.bladeSchemaForm}>\n      {parseInt(window.localStorage.getItem('BladeMod')) > 20 && (\n        <Fab\n          onClick={handleClickOpen}\n          variant=\"circular\"\n          color=\"primary\"\n          size=\"small\"\n          style={{ position: 'absolute', right: '1rem', top: '1rem' }}\n        >\n          <SettingsIcon />\n        </Fab>\n      )}\n\n      {schema && schema.properties && Object.keys(schema.properties).map((s, i) => {\n        let permitted = true\n        if (schema.permitted_keys && schema.permitted_keys.indexOf(s) === -1) {\n          permitted = false\n        }\n\n        switch (schema.properties[s].type) {\n          case 'boolean':\n            return (\n              <BladeBoolean\n                type={_boolMode}\n                variant={_boolVariant}\n                key={i}\n                index={i}\n                model={model}\n                model_id={s}\n                required={schema.required && schema.required.indexOf(s) !== -1}\n                style={{ margin: '0.5rem 0', flexBasis: '48%' }}\n                schema={schema.properties[s]}\n                onClick={(model_id, value) => {\n                  const c = {};\n                  c[model_id] = value;\n                  return onModelChange(c);\n                }}\n              />\n            );\n          case 'string':\n            const group = {}\n            let audio_groups = []\n            if (schema?.properties?.audio_device?.enum) {\n              for (const [key, value] of Object.entries(schema.properties.audio_device?.enum)) {\n                // console.log(`${key}: ${value.split(':')[0]}`);\n                if (!group[value.split(':')[0]]) {\n                  group[value.split(':')[0]] = {}\n                }\n                group[value.split(':')[0]][key] = value.split(':')[1]\n              }\n              function onlyUnique(value, index, self) {\n                return self.indexOf(value) === index;\n              }\n              audio_groups = (Object.values(schema.properties.audio_device?.enum).map(d => d.split(':')[0]).filter(onlyUnique))\n            }\n            // console.log(group, audio_groups)\n            return audio_groups?.length\n              ? <BladeFrame key={i} style={{ order: -1 }} title={\"Audio Device\"} full={true}>\n                  <Select\n                    value={model && model[\"audio_device\"] || 0}\n                    fullWidth\n                    disableUnderline\n                    // onChange={(e) => console.log(e.target.value)}\n                    onChange={(e) => {\n                      const c = {};\n                      c[\"audio_device\"] = parseInt(e.target.value);\n                      return onModelChange(c);\n                    }}\n                    id=\"grouped-select\"\n                    className={classes.FormSelect}\n                  >\n                    {audio_groups?.map((c, ind) =>\n                      [\n                        <ListSubheader\n                          className={classes.FormListHeaders}\n                          color=\"primary\"\n                          key={ind}\n                        >\n                          {c}\n                        </ListSubheader>\n                        ,\n\n\n                        Object.keys(group[c]).map((e) =>\n                          <MenuItem className={classes.FormListItem} value={e}>\n                            {group[c][e]}\n                          </MenuItem>\n                        ),\n                      ],\n                    )}\n                  </Select>\n                </BladeFrame>\n              : <BladeSelect\n                model={model}\n                disabled={!permitted}\n                style={{ margin: '0.5rem 0', width: '48%' }}\n                variant={_selectVariant}\n                schema={schema.properties[s]}\n                required={schema.required && schema.required.indexOf(s) !== -1}\n                model_id={s}\n                key={i}\n                index={i}\n                onChange={(model_id, value) => {\n                  const c = {};\n                  c[model_id] = value;\n                  return onModelChange(c);\n                }}\n              />\n\n          case 'number':\n            return (\n              <BladeSlider\n                variant={_sliderVariant}\n                disabled={!permitted}\n                disableUnderline={disableUnderline}\n                key={i}\n                model_id={s}\n                model={model}\n                required={schema.required && schema.required.indexOf(s) !== -1}\n                schema={schema.properties[s]}\n                onChange={(model_id, value) => {\n                  const c = {};\n                  c[model_id] = value;\n                  return onModelChange(c);\n                }}\n              />\n            );\n\n          case 'integer':\n            return <BladeSlider\n              variant={_sliderVariant}\n              disabled={!permitted}\n              disableUnderline={disableUnderline}\n              step={1}\n              key={i}\n              model_id={s}\n              model={model}\n              required={schema.required && schema.required.indexOf(s) !== -1}\n              schema={schema.properties[s]}\n              textfield={true}\n              style={{ margin: '0.5rem 0', width: '48%' }}\n              onChange={(model_id, value) => {\n                const c = {};\n                c[model_id] = value;\n                return onModelChange(c);\n              }}\n            />\n          case 'int':\n            return schema.properties[s]?.enum?.length > 10 ? <BladeSlider\n              variant={_sliderVariant}\n              disabled={!permitted}\n              disableUnderline={disableUnderline}\n              marks={schema.properties[s]?.enum}\n              step={null}\n              key={i}\n              model_id={s}\n              model={model}\n              required={schema.required && schema.required.indexOf(s) !== -1}\n              schema={schema.properties[s]}\n              textfield={false}\n              style={{ margin: '0.5rem 0', width: '48%' }}\n              onChange={(model_id, value) => {\n                const c = {};\n                c[model_id] = value;\n                return onModelChange(c);\n              }}\n            /> : <BladeSlider\n              variant={_sliderVariant}\n              disabled={!permitted}\n              disableUnderline={disableUnderline}\n              marks={schema.properties[s]?.enum}\n              step={null}\n              key={i}\n              model_id={s}\n              model={model}\n              required={schema.required && schema.required.indexOf(s) !== -1}\n              schema={schema.properties[s]}\n              textfield={false}\n              style={{ margin: '0.5rem 0', width: '48%' }}\n              onChange={(model_id, value) => {\n                const c = {};\n                c[model_id] = value;\n                return onModelChange(c);\n              }}\n            />\n          default:\n            return (\n              <>\n                Unsupported type:\n                {schema.properties[s].type}\n              </>\n            );\n        }\n      })}\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          Blade's SchemaForm Settings\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Customize the appearance of dynamically generated forms\n          </DialogContentText>\n          <FormControl>\n            <InputLabel id=\"ColorVariantLabel\">Color Mode</InputLabel>\n            <Select\n              labelId=\"ColorVariantLabel\"\n              id=\"ColorVariant\"\n              value={_colorMode}\n              onChange={(e) => _setColorMode(e.target.value)}\n            >\n              <MenuItem value=\"picker\">Picker</MenuItem>\n              <MenuItem value=\"select\">Select</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl>\n            <InputLabel id=\"BoolModeLabel\">Bool Mode</InputLabel>\n            <Select\n              labelId=\"BoolModeLabel\"\n              id=\"BoolMode\"\n              value={_boolMode}\n              onChange={(e) => _setBoolMode(e.target.value)}\n            >\n              <MenuItem value=\"switch\">Switch</MenuItem>\n              <MenuItem value=\"checkbox\">Checkbox</MenuItem>\n              <MenuItem value=\"button\">Button</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl>\n            <InputLabel id=\"BoolVariantLabel\">Bool Variant</InputLabel>\n            <Select\n              labelId=\"BoolVariantLabel\"\n              id=\"BoolVariant\"\n              value={_boolVariant}\n              onChange={(e) => _setBoolVariant(e.target.value)}\n            >\n              <MenuItem value=\"text\">Text</MenuItem>\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl>\n            <InputLabel id=\"SelectVariantLabel\">Select Variant</InputLabel>\n            <Select\n              labelId=\"SelectVariantLabel\"\n              id=\"SelectVariant\"\n              value={_selectVariant}\n              onChange={(e) => _setSelectVariant(e.target.value)}\n            >\n              <MenuItem value=\"text\">Text</MenuItem>\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\n              <MenuItem value=\"contained\">Contained</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl>\n            <InputLabel id=\"SliderVariantLabel\">Slider Variant</InputLabel>\n            <Select\n              labelId=\"SliderVariantLabel\"\n              id=\"SliderVariant\"\n              value={_sliderVariant}\n              onChange={(e) => _setSliderVariant(e.target.value)}\n            >\n              <MenuItem value=\"text\">Text</MenuItem>\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\n            </Select>\n          </FormControl>\n\n          <DialogActions>\n            <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\n              Ok\n            </Button>\n          </DialogActions>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nBladeSchemaFormNew.propTypes = {\n  colorMode: PropTypes.oneOf(['picker', 'select']),\n  boolMode: PropTypes.oneOf(['switch', 'checkbox', 'button']),\n  boolVariant: PropTypes.oneOf(['outlined', 'contained', 'text']),\n  selectVariant: PropTypes.string, // outlined | any\n  sliderVariant: PropTypes.string, // outlined | any\n  schema: PropTypes.object.isRequired,\n  model: PropTypes.object.isRequired,\n};\n\nexport default BladeSchemaFormNew;\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { Slider, Input, TextField, Typography } from '@material-ui/core/';\nimport useStyles from './BladeSlider.styles';\n\nconst BladeSlider = ({\n  variant = 'outlined',\n  disableUnderline,\n  schema,\n  model,\n  model_id,\n  step,\n  onChange,\n  marks,\n  index,\n  required = false,\n  textfield = false,\n  disabled = false,\n  hideDesc = false,\n  style = {},\n}) => {\n  const classes = useStyles();\n  // console.log(schema)\n  return variant === 'outlined' ? (\n    <div className={`${classes.wrapper} step-effect-${index}`} style={{ ...style, ...{ order: required ? -1 : 3 } }}>\n      <label style={{ color: disabled ? 'rgba(255, 255, 255, 0.5)' : 'rgba(255, 255, 255, 0.7)' }} className={'MuiFormLabel-root'}>{schema.title}{required ? '*' : ''}</label>\n      <BladeSliderInner\n        schema={schema}\n        model={model}\n        model_id={model_id}\n        disabled={disabled}\n        step={step}\n        onChange={onChange}\n        textfield={textfield}\n        marks={marks}\n        hideDesc={hideDesc}\n        disableUnderline={disableUnderline}\n      />\n    </div>\n  ) : (\n    <BladeSliderInner\n      schema={schema}\n      model={model}\n      model_id={model_id}\n      onChange={onChange}\n      disabled={disabled}\n      textfield={textfield}\n      style={{ order: required ? -1 : 3 }}\n      marks={marks}\n      hideDesc={hideDesc}\n      disableUnderline={disableUnderline}\n    />\n  );\n};\n\nconst BladeSliderInner = ({\n  schema, model, model_id, step, onChange, textfield, style, disabled, marks,hideDesc, disableUnderline\n}) => {\n  // console.log(model, schema, model_id);\n  const classes = useStyles();\n  const [value, setValue] = useState(typeof model[model_id] === 'number' ? model[model_id] : typeof schema.default === 'number' ? schema.default : 1);\n\n  const handleSliderChange = (event, newValue) => {\n    if (newValue !== value) {\n      setValue(newValue);\n    }\n  };\n\n  const handleInputChange = (event) => {\n    if (value !== event.target.value) {\n      setValue(event.target.value === '' ? '' : Number(event.target.value));\n      if (event.target.value < schema.minimum) {\n        setValue(schema.minimum);\n      } else if (event.target.value > schema.maximum) {\n        setValue(schema.maximum);\n      }\n      onChange(model_id, Number(event.target.value))\n    }\n  };\n  const handleBlur = () => {\n    if (value < schema.minimum) {\n      setValue(schema.minimum);\n    } else if (value > schema.maximum) {\n      setValue(schema.maximum);\n    }\n  };  \n  const handleTextBlur = () => {\n    if (value < schema.minimum) {\n      setValue(schema.minimum);\n    } else if (value > schema.maximum) {\n      setValue(schema.maximum);\n    }\n    onChange(model_id, Number(event.target.value))\n  };\n\n  return (schema.maximum && !textfield) ? (\n    <>\n      <div style={{width: '100%' }}>\n        <Slider\n          aria-labelledby=\"input-slider\"\n          valueLabelDisplay=\"auto\"\n          disabled={disabled}          \n          // marks={true}\n          step={step || (schema.maximum > 1 ? 0.1 : 0.01)}\n          min={schema.minimum || 0}\n          max={schema.maximum}\n          value={typeof value === 'number' ? value : 0}\n          onChange={handleSliderChange}\n          onChangeCommitted={(e, b) => onChange(model_id, b)}\n          style={{color: '#aaa', ...style}}\n        // defaultValue={model[model_id] || schema.default}\n        // value={model && model[model_id]}\n        />\n        {(!hideDesc && schema.description)\n          ? <>\n            <Typography variant={'body2'} className={'MuiFormHelperText-root'} >{schema.description} </Typography>\n          </>\n          : <></>\n        }\n      </div>\n      <Input\n        disableUnderline\n        disabled={disabled}\n        className={classes.input}\n        value={value}\n        margin=\"dense\"\n        onChange={handleInputChange}\n        onBlur={handleBlur}\n        inputProps={{\n          step: schema.maximum > 1 ? 0.1 : 0.01,\n          min: schema.minimum || 0,\n          max: schema.maximum,\n          type: 'number',\n          'aria-labelledby': 'input-slider',\n        }}\n      />\n    </>\n  ) :  (schema.enum && !textfield) ? (\n    <Slider\n          aria-labelledby=\"input-slider\"\n          valueLabelDisplay=\"auto\"\n          disabled={disabled}\n          marks={marks.map((m,i)=>({value: m, label: (i === 0 || i === marks.length - 1) ? m : ''}))}\n          step={null}\n          min={marks[0]}\n          max={marks[marks.length - 1]}\n          value={typeof value === 'number' ? value : 0}\n          onChange={handleSliderChange}\n          onChangeCommitted={(e, b) => onChange(model_id, b)}\n          style={style}\n        // defaultValue={model[model_id] || schema.default}\n        // value={model && model[model_id]}\n        />\n  ) : (\n\n    <TextField\n      // defaultValue={schema.default || 1}\n      disabled={disabled}\n      InputProps={{\n        disableUnderline:disableUnderline\n      }}      \n      type=\"number\"\n      defaultValue={value}\n      onChange={(e)=> handleInputChange(e)}\n      onBlur={handleTextBlur}\n      // onBlur={(e, b) => onChange(model_id, parseInt(e.target.value))}\n      helperText={!hideDesc && schema.description}\n      style={style}\n    />\n  );\n};\n\nBladeSlider.propTypes = {\n  variant: PropTypes.string,\n  schema: PropTypes.object.isRequired,\n  model: PropTypes.object.isRequired,\n  model_id: PropTypes.string.isRequired,\n};\n\nexport default BladeSlider;\n","import { createTheme } from '@material-ui/core/styles';\n\n\nexport const BladeDarkGreenTheme = createTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#2BDE6A',\n    },\n    secondary: {\n      main: '#1db954',\n    },\n    background: { \n      default: '#030303', \n      paper: '#151515' \n    },\n  },\n  props: {\n    MuiCard: {\n      variant: 'outlined',\n    },\n  },\n});\n\nexport const BladeDarkBlueTheme = createTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#0dbedc',\n    },\n    secondary: {\n      main: '#0dbedc',\n    },\n    background: { \n      default: '#030303', \n      paper: '#151515' \n    },\n  },\n  props: {\n    MuiCard: {\n      variant: 'outlined',\n    },\n  },\n});\n\nexport const BladeDarkTheme = createTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#b00000',\n    },\n    secondary: {\n      main: '#500000',\n    },\n    background: { \n      default: '#030303', \n      paper: '#151515' \n    },\n  },\n  props: {\n    MuiCard: {\n      variant: 'outlined',\n    },\n  },  \n  typography: {\n    \"fontFamily\": `\"Nunito\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\n    \"fontSize\": 14,\n    \"fontWeightRegular\": 400,\n   }\n});\n\nexport const BladeDarkGreyTheme = createTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#333',\n    },\n    secondary: {\n      main: '#222',\n    },\n    background: { \n      default: '#030303', \n      paper: '#151515' \n    },\n  },\n  props: {\n    MuiCard: {\n      variant: 'outlined',\n    },\n  },  \n  typography: {\n    \"fontFamily\": `\"Nunito\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\n    \"fontSize\": 14,\n    \"fontWeightRegular\": 400,\n   }\n});\n\nexport const BladeDarkOrangeTheme = createTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: '#FFBF47',\n    },\n    secondary: {\n      main: '#ffa500',\n    },\n    background: { \n      default: '#030303', \n      paper: '#151515' \n    },\n  },\n  props: {\n    MuiCard: {\n      variant: 'outlined',\n    },\n  },  \n  typography: {\n    \"fontFamily\": `\"Nunito\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\n    \"fontSize\": 14,\n    \"fontWeightRegular\": 400,\n   }\n});\n\nexport const BladeLightTheme = createTheme({\n  palette: {\n    type: 'light',\n    primary: {\n      main: '#800000',\n    },\n    secondary: {\n      main: '#800000',\n    },\n    // background: { default: '#030303', paper: '#151515' },\n  },\n  props: {\n    MuiCard: {\n      variant: 'outlined',\n    },\n  },\n});","import { Card, CardHeader } from '@material-ui/core';\nimport { Info } from '@material-ui/icons';\nimport PropTypes from 'prop-types';\n\ninterface NoYetProps {\n  type?: string\n}\n\nconst NoYet: React.FC<NoYetProps> = ({ type }) => (\n  <Card>\n    <CardHeader\n      avatar={<Info />}\n      title={`No ${type}s yet`}\n      subheader={`You can add your first ${type} using the red button`}\n    />\n  </Card>\n);\n\nNoYet.propTypes = {\n  type: PropTypes.string,\n};\n\nNoYet.defaultProps = {\n  type: 'Thing',\n};\n\nexport default NoYet;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    marginLeft: '1rem',\n    backgroundColor: 'rgb(57, 57, 61)',\n    paddingLeft: '0.5rem',\n    borderRadius: '5px',\n    paddingTop: '3px'\n  },\n  wrapper: {\n    minWidth: '240px',\n    width: '48%',\n    padding: '16px 1.2rem 6px 1.2rem',\n    border: '1px solid rgba(255, 255, 255, 0.1)',\n    borderRadius: '10px',\n    position: 'relative',\n    display: 'flex',\n    order: 3,\n    margin: '0.5rem 0',\n    \"@media (max-width: 580px)\": {\n      width: '100% !important',\n    },\n    '& > label': {\n      top: '-0.5rem',\n      display: 'flex',\n      alignItems: 'center',\n      left: '1rem',\n      padding: '0 0.3rem',\n      position: 'absolute',\n      fontVariant: 'all-small-caps',\n      fontSize: '0.9rem',\n      letterSpacing: '0.1rem',\n      backgroundColor: theme.palette.background.paper,\n      boxSizing: 'border-box',      \n    },\n    '& .sortable-handler': {\n      touchAction: 'none',\n    }\n  },\n}));\n\nexport default useStyles;\n"],"sourceRoot":""}